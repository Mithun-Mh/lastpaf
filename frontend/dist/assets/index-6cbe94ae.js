function yf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ru={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hn=Symbol.for("react.element"),wf=Symbol.for("react.portal"),xf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),_f=Symbol.for("react.memo"),Pf=Symbol.for("react.lazy"),wi=Symbol.iterator;function Tf(e){return e===null||typeof e!="object"?null:(e=wi&&e[wi]||e["@@iterator"],typeof e=="function"?e:null)}var nu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},au=Object.assign,ou={};function qr(e,t,r){this.props=e,this.context=t,this.refs=ou,this.updater=r||nu}qr.prototype.isReactComponent={};qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lu(){}lu.prototype=qr.prototype;function is(e,t,r){this.props=e,this.context=t,this.refs=ou,this.updater=r||nu}var cs=is.prototype=new lu;cs.constructor=is;au(cs,qr.prototype);cs.isPureReactComponent=!0;var xi=Array.isArray,su=Object.prototype.hasOwnProperty,us={current:null},iu={key:!0,ref:!0,__self:!0,__source:!0};function cu(e,t,r){var n,o={},l=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)su.call(t,n)&&!iu.hasOwnProperty(n)&&(o[n]=t[n]);var i=arguments.length-2;if(i===1)o.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)o[n]===void 0&&(o[n]=i[n]);return{$$typeof:Hn,type:e,key:l,ref:s,props:o,_owner:us.current}}function $f(e,t){return{$$typeof:Hn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ds(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hn}function Df(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ei=/\/+/g;function No(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Df(""+e.key):t.toString(36)}function ga(e,t,r,n,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Hn:case wf:s=!0}}if(s)return s=e,o=o(s),e=n===""?"."+No(s,0):n,xi(o)?(r="",e!=null&&(r=e.replace(Ei,"$&/")+"/"),ga(o,t,r,"",function(u){return u})):o!=null&&(ds(o)&&(o=$f(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Ei,"$&/")+"/")+e)),t.push(o)),1;if(s=0,n=n===""?".":n+":",xi(e))for(var i=0;i<e.length;i++){l=e[i];var c=n+No(l,i);s+=ga(l,t,r,c,o)}else if(c=Tf(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=n+No(l,i++),s+=ga(l,t,r,c,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Yn(e,t,r){if(e==null)return e;var n=[],o=0;return ga(e,n,"","",function(l){return t.call(r,l,o++)}),n}function If(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},ya={transition:null},Lf={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ya,ReactCurrentOwner:us};function uu(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Yn,forEach:function(e,t,r){Yn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yn(e,function(){t++}),t},toArray:function(e){return Yn(e,function(t){return t})||[]},only:function(e){if(!ds(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=qr;X.Fragment=xf;X.Profiler=kf;X.PureComponent=is;X.StrictMode=Ef;X.Suspense=Cf;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lf;X.act=uu;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=au({},e.props),o=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=us.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)su.call(t,c)&&!iu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];n.children=i}return{$$typeof:Hn,type:e.type,key:o,ref:l,props:n,_owner:s}};X.createContext=function(e){return e={$$typeof:bf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nf,_context:e},e.Consumer=e};X.createElement=cu;X.createFactory=function(e){var t=cu.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Sf,render:e}};X.isValidElement=ds;X.lazy=function(e){return{$$typeof:Pf,_payload:{_status:-1,_result:e},_init:If}};X.memo=function(e,t){return{$$typeof:_f,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ya.transition;ya.transition={};try{e()}finally{ya.transition=t}};X.unstable_act=uu;X.useCallback=function(e,t){return je.current.useCallback(e,t)};X.useContext=function(e){return je.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return je.current.useDeferredValue(e)};X.useEffect=function(e,t){return je.current.useEffect(e,t)};X.useId=function(){return je.current.useId()};X.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return je.current.useMemo(e,t)};X.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};X.useRef=function(e){return je.current.useRef(e)};X.useState=function(e){return je.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return je.current.useTransition()};X.version="18.3.1";ru.exports=X;var w=ru.exports;const a=vf(w),Rf=yf({__proto__:null,default:a},[w]);var rl={},du={exports:{}},Ye={},mu={exports:{}},fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,x){var D=L.length;L.push(x);e:for(;0<D;){var A=D-1>>>1,B=L[A];if(0<o(B,x))L[A]=x,L[D]=B,D=A;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var x=L[0],D=L.pop();if(D!==x){L[0]=D;e:for(var A=0,B=L.length,j=B>>>1;A<j;){var V=2*(A+1)-1,G=L[V],Y=V+1,se=L[Y];if(0>o(G,D))Y<B&&0>o(se,G)?(L[A]=se,L[Y]=D,A=Y):(L[A]=G,L[V]=D,A=V);else if(Y<B&&0>o(se,D))L[A]=se,L[Y]=D,A=Y;else break e}}return x}function o(L,x){var D=L.sortIndex-x.sortIndex;return D!==0?D:L.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],u=[],p=1,f=null,h=3,E=!1,k=!1,S=!1,$=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var x=r(u);x!==null;){if(x.callback===null)n(u);else if(x.startTime<=L)n(u),x.sortIndex=x.expirationTime,t(c,x);else break;x=r(u)}}function _(L){if(S=!1,y(L),!k)if(r(c)!==null)k=!0,W(T);else{var x=r(u);x!==null&&R(_,x.startTime-L)}}function T(L,x){k=!1,S&&(S=!1,g(I),I=-1),E=!0;var D=h;try{for(y(x),f=r(c);f!==null&&(!(f.expirationTime>x)||L&&!b());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var B=A(f.expirationTime<=x);x=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),y(x)}else n(c);f=r(c)}if(f!==null)var j=!0;else{var V=r(u);V!==null&&R(_,V.startTime-x),j=!1}return j}finally{f=null,h=D,E=!1}}var C=!1,P=null,I=-1,M=5,F=-1;function b(){return!(e.unstable_now()-F<M)}function m(){if(P!==null){var L=e.unstable_now();F=L;var x=!0;try{x=P(!0,L)}finally{x?v():(C=!1,P=null)}}else C=!1}var v;if(typeof d=="function")v=function(){d(m)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=m,v=function(){U.postMessage(null)}}else v=function(){$(m,0)};function W(L){P=L,C||(C=!0,v())}function R(L,x){I=$(function(){L(e.unstable_now())},x)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){k||E||(k=!0,W(T))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var x=3;break;default:x=h}var D=h;h=x;try{return L()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,x){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var D=h;h=L;try{return x()}finally{h=D}},e.unstable_scheduleCallback=function(L,x,D){var A=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?A+D:A):D=A,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=D+B,L={id:p++,callback:x,priorityLevel:L,startTime:D,expirationTime:B,sortIndex:-1},D>A?(L.sortIndex=D,t(u,L),r(c)===null&&L===r(u)&&(S?(g(I),I=-1):S=!0,R(_,D-A))):(L.sortIndex=B,t(c,L),k||E||(k=!0,W(T))),L},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(L){var x=h;return function(){var D=h;h=x;try{return L.apply(this,arguments)}finally{h=D}}}})(fu);mu.exports=fu;var Af=mu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=w,Xe=Af;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hu=new Set,Nn={};function wr(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(Nn[e]=t,e=0;e<t.length;e++)hu.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=Object.prototype.hasOwnProperty,Ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ki={},Ni={};function Mf(e){return nl.call(Ni,e)?!0:nl.call(ki,e)?!1:Ff.test(e)?Ni[e]=!0:(ki[e]=!0,!1)}function Of(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bf(e,t,r,n){if(t===null||typeof t>"u"||Of(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,r,n,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ms=/[\-:]([a-z])/g;function fs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ms,fs);Se[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ms,fs);Se[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ms,fs);Se[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function hs(e,t,r,n){var o=Se.hasOwnProperty(t)?Se[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bf(t,r,o,n)&&(r=null),n||o===null?Mf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $t=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jn=Symbol.for("react.element"),kr=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),ps=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),pu=Symbol.for("react.provider"),gu=Symbol.for("react.context"),gs=Symbol.for("react.forward_ref"),ol=Symbol.for("react.suspense"),ll=Symbol.for("react.suspense_list"),ys=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),yu=Symbol.for("react.offscreen"),bi=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=bi&&e[bi]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,bo;function cn(e){if(bo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bo=t&&t[1]||""}return`
`+bo+e}var So=!1;function Co(e,t){if(!e||So)return"";So=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),l=n.stack.split(`
`),s=o.length-1,i=l.length-1;1<=s&&0<=i&&o[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==l[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==l[i]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=i);break}}}finally{So=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cn(e):""}function Uf(e){switch(e.tag){case 5:return cn(e.type);case 16:return cn("Lazy");case 13:return cn("Suspense");case 19:return cn("SuspenseList");case 0:case 2:case 15:return e=Co(e.type,!1),e;case 11:return e=Co(e.type.render,!1),e;case 1:return e=Co(e.type,!0),e;default:return""}}function sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case kr:return"Portal";case al:return"Profiler";case ps:return"StrictMode";case ol:return"Suspense";case ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gu:return(e.displayName||"Context")+".Consumer";case pu:return(e._context.displayName||"Context")+".Provider";case gs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ys:return t=e.displayName||null,t!==null?t:sl(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return sl(e(t))}catch{}}return null}function zf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sl(t);case 8:return t===ps?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wf(e){var t=vu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zn(e){e._valueTracker||(e._valueTracker=Wf(e))}function wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var r=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Si(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xu(e,t){t=t.checked,t!=null&&hs(e,"checked",t,!1)}function cl(e,t){xu(e,t);var r=Xt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ul(e,t.type,r):t.hasOwnProperty("defaultValue")&&ul(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ci(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ul(e,t,r){(t!=="number"||Pa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var un=Array.isArray;function Rr(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xt(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _i(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(un(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xt(r)}}function Eu(e,t){var r=Xt(t.value),n=Xt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ku(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ku(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ea,Nu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hf=["Webkit","ms","Moz","O"];Object.keys(fn).forEach(function(e){Hf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fn[t]=fn[e]})});function bu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fn.hasOwnProperty(e)&&fn[e]?(""+t).trim():t+"px"}function Su(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=bu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Vf=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fl(e,t){if(t){if(Vf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function hl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function vs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gl=null,Ar=null,jr=null;function Ti(e){if(e=Qn(e)){if(typeof gl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=lo(t),gl(e.stateNode,e.type,t))}}function Cu(e){Ar?jr?jr.push(e):jr=[e]:Ar=e}function _u(){if(Ar){var e=Ar,t=jr;if(jr=Ar=null,Ti(e),t)for(e=0;e<t.length;e++)Ti(t[e])}}function Pu(e,t){return e(t)}function Tu(){}var _o=!1;function $u(e,t,r){if(_o)return e(t,r);_o=!0;try{return Pu(e,t,r)}finally{_o=!1,(Ar!==null||jr!==null)&&(Tu(),_u())}}function Sn(e,t){var r=e.stateNode;if(r===null)return null;var n=lo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var yl=!1;if(St)try{var en={};Object.defineProperty(en,"passive",{get:function(){yl=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{yl=!1}function Gf(e,t,r,n,o,l,s,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(p){this.onError(p)}}var hn=!1,Ta=null,$a=!1,vl=null,Qf={onError:function(e){hn=!0,Ta=e}};function qf(e,t,r,n,o,l,s,i,c){hn=!1,Ta=null,Gf.apply(Qf,arguments)}function Kf(e,t,r,n,o,l,s,i,c){if(qf.apply(this,arguments),hn){if(hn){var u=Ta;hn=!1,Ta=null}else throw Error(O(198));$a||($a=!0,vl=u)}}function xr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Du(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $i(e){if(xr(e)!==e)throw Error(O(188))}function Xf(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var l=o.alternate;if(l===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===r)return $i(o),e;if(l===n)return $i(o),t;l=l.sibling}throw Error(O(188))}if(r.return!==n.return)r=o,n=l;else{for(var s=!1,i=o.child;i;){if(i===r){s=!0,r=o,n=l;break}if(i===n){s=!0,n=o,r=l;break}i=i.sibling}if(!s){for(i=l.child;i;){if(i===r){s=!0,r=l,n=o;break}if(i===n){s=!0,n=l,r=o;break}i=i.sibling}if(!s)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Iu(e){return e=Xf(e),e!==null?Lu(e):null}function Lu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lu(e);if(t!==null)return t;e=e.sibling}return null}var Ru=Xe.unstable_scheduleCallback,Di=Xe.unstable_cancelCallback,Yf=Xe.unstable_shouldYield,Jf=Xe.unstable_requestPaint,he=Xe.unstable_now,Zf=Xe.unstable_getCurrentPriorityLevel,ws=Xe.unstable_ImmediatePriority,Au=Xe.unstable_UserBlockingPriority,Da=Xe.unstable_NormalPriority,eh=Xe.unstable_LowPriority,ju=Xe.unstable_IdlePriority,ro=null,gt=null;function th(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ro,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:ah,rh=Math.log,nh=Math.LN2;function ah(e){return e>>>=0,e===0?32:31-(rh(e)/nh|0)|0}var ta=64,ra=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ia(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,l=e.pingedLanes,s=r&268435455;if(s!==0){var i=s&~o;i!==0?n=dn(i):(l&=s,l!==0&&(n=dn(l)))}else s=r&~o,s!==0?n=dn(s):l!==0&&(n=dn(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ct(t),o=1<<r,n|=e[r],t&=~o;return n}function oh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-ct(l),i=1<<s,c=o[s];c===-1?(!(i&r)||i&n)&&(o[s]=oh(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fu(){var e=ta;return ta<<=1,!(ta&4194240)&&(ta=64),e}function Po(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=r}function sh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-ct(r),l=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~l}}function xs(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ct(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var ee=0;function Mu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ou,Es,Bu,Uu,zu,xl=!1,na=[],Bt=null,Ut=null,zt=null,Cn=new Map,_n=new Map,Rt=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Cn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(t.pointerId)}}function tn(e,t,r,n,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Qn(t),t!==null&&Es(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ch(e,t,r,n,o){switch(t){case"focusin":return Bt=tn(Bt,e,t,r,n,o),!0;case"dragenter":return Ut=tn(Ut,e,t,r,n,o),!0;case"mouseover":return zt=tn(zt,e,t,r,n,o),!0;case"pointerover":var l=o.pointerId;return Cn.set(l,tn(Cn.get(l)||null,e,t,r,n,o)),!0;case"gotpointercapture":return l=o.pointerId,_n.set(l,tn(_n.get(l)||null,e,t,r,n,o)),!0}return!1}function Wu(e){var t=lr(e.target);if(t!==null){var r=xr(t);if(r!==null){if(t=r.tag,t===13){if(t=Du(r),t!==null){e.blockedOn=t,zu(e.priority,function(){Bu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=El(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);pl=n,r.target.dispatchEvent(n),pl=null}else return t=Qn(r),t!==null&&Es(t),e.blockedOn=r,!1;t.shift()}return!0}function Li(e,t,r){va(e)&&r.delete(t)}function uh(){xl=!1,Bt!==null&&va(Bt)&&(Bt=null),Ut!==null&&va(Ut)&&(Ut=null),zt!==null&&va(zt)&&(zt=null),Cn.forEach(Li),_n.forEach(Li)}function rn(e,t){e.blockedOn===t&&(e.blockedOn=null,xl||(xl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,uh)))}function Pn(e){function t(o){return rn(o,e)}if(0<na.length){rn(na[0],e);for(var r=1;r<na.length;r++){var n=na[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&rn(Bt,e),Ut!==null&&rn(Ut,e),zt!==null&&rn(zt,e),Cn.forEach(t),_n.forEach(t),r=0;r<Rt.length;r++)n=Rt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&(r=Rt[0],r.blockedOn===null);)Wu(r),r.blockedOn===null&&Rt.shift()}var Fr=$t.ReactCurrentBatchConfig,La=!0;function dh(e,t,r,n){var o=ee,l=Fr.transition;Fr.transition=null;try{ee=1,ks(e,t,r,n)}finally{ee=o,Fr.transition=l}}function mh(e,t,r,n){var o=ee,l=Fr.transition;Fr.transition=null;try{ee=4,ks(e,t,r,n)}finally{ee=o,Fr.transition=l}}function ks(e,t,r,n){if(La){var o=El(e,t,r,n);if(o===null)Mo(e,t,n,Ra,r),Ii(e,n);else if(ch(o,e,t,r,n))n.stopPropagation();else if(Ii(e,n),t&4&&-1<ih.indexOf(e)){for(;o!==null;){var l=Qn(o);if(l!==null&&Ou(l),l=El(e,t,r,n),l===null&&Mo(e,t,n,Ra,r),l===o)break;o=l}o!==null&&n.stopPropagation()}else Mo(e,t,n,null,r)}}var Ra=null;function El(e,t,r,n){if(Ra=null,e=vs(n),e=lr(e),e!==null)if(t=xr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Du(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function Hu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zf()){case ws:return 1;case Au:return 4;case Da:case eh:return 16;case ju:return 536870912;default:return 16}default:return 16}}var Ft=null,Ns=null,wa=null;function Vu(){if(wa)return wa;var e,t=Ns,r=t.length,n,o="value"in Ft?Ft.value:Ft.textContent,l=o.length;for(e=0;e<r&&t[e]===o[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===o[l-n];n++);return wa=o.slice(e,1<n?1-n:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function aa(){return!0}function Ri(){return!1}function Je(e){function t(r,n,o,l,s){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?aa:Ri,this.isPropagationStopped=Ri,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Je(Kr),Gn=ue({},Kr,{view:0,detail:0}),fh=Je(Gn),To,$o,nn,no=ue({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&e.type==="mousemove"?(To=e.screenX-nn.screenX,$o=e.screenY-nn.screenY):$o=To=0,nn=e),To)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Ai=Je(no),hh=ue({},no,{dataTransfer:0}),ph=Je(hh),gh=ue({},Gn,{relatedTarget:0}),Do=Je(gh),yh=ue({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=Je(yh),wh=ue({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xh=Je(wh),Eh=ue({},Kr,{data:0}),ji=Je(Eh),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bh[e])?!!t[e]:!1}function Ss(){return Sh}var Ch=ue({},Gn,{key:function(e){if(e.key){var t=kh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_h=Je(Ch),Ph=ue({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Je(Ph),Th=ue({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),$h=Je(Th),Dh=ue({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ih=Je(Dh),Lh=ue({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rh=Je(Lh),Ah=[9,13,27,32],Cs=St&&"CompositionEvent"in window,pn=null;St&&"documentMode"in document&&(pn=document.documentMode);var jh=St&&"TextEvent"in window&&!pn,Gu=St&&(!Cs||pn&&8<pn&&11>=pn),Mi=String.fromCharCode(32),Oi=!1;function Qu(e,t){switch(e){case"keyup":return Ah.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function Fh(e,t){switch(e){case"compositionend":return qu(t);case"keypress":return t.which!==32?null:(Oi=!0,Mi);case"textInput":return e=t.data,e===Mi&&Oi?null:e;default:return null}}function Mh(e,t){if(br)return e==="compositionend"||!Cs&&Qu(e,t)?(e=Vu(),wa=Ns=Ft=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gu&&t.locale!=="ko"?null:t.data;default:return null}}var Oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Oh[e.type]:t==="textarea"}function Ku(e,t,r,n){Cu(n),t=Aa(t,"onChange"),0<t.length&&(r=new bs("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gn=null,Tn=null;function Bh(e){ld(e,0)}function ao(e){var t=_r(e);if(wu(t))return e}function Uh(e,t){if(e==="change")return t}var Xu=!1;if(St){var Io;if(St){var Lo="oninput"in document;if(!Lo){var Ui=document.createElement("div");Ui.setAttribute("oninput","return;"),Lo=typeof Ui.oninput=="function"}Io=Lo}else Io=!1;Xu=Io&&(!document.documentMode||9<document.documentMode)}function zi(){gn&&(gn.detachEvent("onpropertychange",Yu),Tn=gn=null)}function Yu(e){if(e.propertyName==="value"&&ao(Tn)){var t=[];Ku(t,Tn,e,vs(e)),$u(Bh,t)}}function zh(e,t,r){e==="focusin"?(zi(),gn=t,Tn=r,gn.attachEvent("onpropertychange",Yu)):e==="focusout"&&zi()}function Wh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ao(Tn)}function Hh(e,t){if(e==="click")return ao(t)}function Vh(e,t){if(e==="input"||e==="change")return ao(t)}function Gh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Gh;function $n(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!nl.call(t,o)||!dt(e[o],t[o]))return!1}return!0}function Wi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hi(e,t){var r=Wi(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wi(r)}}function Ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zu(){for(var e=window,t=Pa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pa(e.document)}return t}function _s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qh(e){var t=Zu(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ju(r.ownerDocument.documentElement,r)){if(n!==null&&_s(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,l=Math.min(n.start,o);n=n.end===void 0?l:Math.min(n.end,o),!e.extend&&l>n&&(o=n,n=l,l=o),o=Hi(r,l);var s=Hi(r,n);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qh=St&&"documentMode"in document&&11>=document.documentMode,Sr=null,kl=null,yn=null,Nl=!1;function Vi(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nl||Sr==null||Sr!==Pa(n)||(n=Sr,"selectionStart"in n&&_s(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yn&&$n(yn,n)||(yn=n,n=Aa(kl,"onSelect"),0<n.length&&(t=new bs("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sr)))}function oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cr={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},Ro={},ed={};St&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function oo(e){if(Ro[e])return Ro[e];if(!Cr[e])return e;var t=Cr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ed)return Ro[e]=t[r];return e}var td=oo("animationend"),rd=oo("animationiteration"),nd=oo("animationstart"),ad=oo("transitionend"),od=new Map,Gi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){od.set(e,t),wr(t,[e])}for(var Ao=0;Ao<Gi.length;Ao++){var jo=Gi[Ao],Kh=jo.toLowerCase(),Xh=jo[0].toUpperCase()+jo.slice(1);Jt(Kh,"on"+Xh)}Jt(td,"onAnimationEnd");Jt(rd,"onAnimationIteration");Jt(nd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(ad,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(mn));function Qi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kf(n,t,void 0,e),e.currentTarget=null}function ld(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var s=n.length-1;0<=s;s--){var i=n[s],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&o.isPropagationStopped())break e;Qi(o,i,u),l=c}else for(s=0;s<n.length;s++){if(i=n[s],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&o.isPropagationStopped())break e;Qi(o,i,u),l=c}}}if($a)throw e=vl,$a=!1,vl=null,e}function ne(e,t){var r=t[Pl];r===void 0&&(r=t[Pl]=new Set);var n=e+"__bubble";r.has(n)||(sd(t,e,2,!1),r.add(n))}function Fo(e,t,r){var n=0;t&&(n|=4),sd(r,e,n,t)}var la="_reactListening"+Math.random().toString(36).slice(2);function Dn(e){if(!e[la]){e[la]=!0,hu.forEach(function(r){r!=="selectionchange"&&(Yh.has(r)||Fo(r,!1,e),Fo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[la]||(t[la]=!0,Fo("selectionchange",!1,t))}}function sd(e,t,r,n){switch(Hu(t)){case 1:var o=dh;break;case 4:o=mh;break;default:o=ks}r=o.bind(null,t,r,e),o=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Mo(e,t,r,n,o){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var i=n.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;i!==null;){if(s=lr(i),s===null)return;if(c=s.tag,c===5||c===6){n=l=s;continue e}i=i.parentNode}}n=n.return}$u(function(){var u=l,p=vs(r),f=[];e:{var h=od.get(e);if(h!==void 0){var E=bs,k=e;switch(e){case"keypress":if(xa(r)===0)break e;case"keydown":case"keyup":E=_h;break;case"focusin":k="focus",E=Do;break;case"focusout":k="blur",E=Do;break;case"beforeblur":case"afterblur":E=Do;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=$h;break;case td:case rd:case nd:E=vh;break;case ad:E=Ih;break;case"scroll":E=fh;break;case"wheel":E=Rh;break;case"copy":case"cut":case"paste":E=xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Fi}var S=(t&4)!==0,$=!S&&e==="scroll",g=S?h!==null?h+"Capture":null:h;S=[];for(var d=u,y;d!==null;){y=d;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=Sn(d,g),_!=null&&S.push(In(d,_,y)))),$)break;d=d.return}0<S.length&&(h=new E(h,k,null,r,p),f.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",h&&r!==pl&&(k=r.relatedTarget||r.fromElement)&&(lr(k)||k[Ct]))break e;if((E||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,E?(k=r.relatedTarget||r.toElement,E=u,k=k?lr(k):null,k!==null&&($=xr(k),k!==$||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=u),E!==k)){if(S=Ai,_="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=Fi,_="onPointerLeave",g="onPointerEnter",d="pointer"),$=E==null?h:_r(E),y=k==null?h:_r(k),h=new S(_,d+"leave",E,r,p),h.target=$,h.relatedTarget=y,_=null,lr(p)===u&&(S=new S(g,d+"enter",k,r,p),S.target=y,S.relatedTarget=$,_=S),$=_,E&&k)t:{for(S=E,g=k,d=0,y=S;y;y=Er(y))d++;for(y=0,_=g;_;_=Er(_))y++;for(;0<d-y;)S=Er(S),d--;for(;0<y-d;)g=Er(g),y--;for(;d--;){if(S===g||g!==null&&S===g.alternate)break t;S=Er(S),g=Er(g)}S=null}else S=null;E!==null&&qi(f,h,E,S,!1),k!==null&&$!==null&&qi(f,$,k,S,!0)}}e:{if(h=u?_r(u):window,E=h.nodeName&&h.nodeName.toLowerCase(),E==="select"||E==="input"&&h.type==="file")var T=Uh;else if(Bi(h))if(Xu)T=Vh;else{T=Wh;var C=zh}else(E=h.nodeName)&&E.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Hh);if(T&&(T=T(e,u))){Ku(f,T,r,p);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ul(h,"number",h.value)}switch(C=u?_r(u):window,e){case"focusin":(Bi(C)||C.contentEditable==="true")&&(Sr=C,kl=u,yn=null);break;case"focusout":yn=kl=Sr=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,Vi(f,r,p);break;case"selectionchange":if(qh)break;case"keydown":case"keyup":Vi(f,r,p)}var P;if(Cs)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else br?Qu(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(Gu&&r.locale!=="ko"&&(br||I!=="onCompositionStart"?I==="onCompositionEnd"&&br&&(P=Vu()):(Ft=p,Ns="value"in Ft?Ft.value:Ft.textContent,br=!0)),C=Aa(u,I),0<C.length&&(I=new ji(I,e,null,r,p),f.push({event:I,listeners:C}),P?I.data=P:(P=qu(r),P!==null&&(I.data=P)))),(P=jh?Fh(e,r):Mh(e,r))&&(u=Aa(u,"onBeforeInput"),0<u.length&&(p=new ji("onBeforeInput","beforeinput",null,r,p),f.push({event:p,listeners:u}),p.data=P))}ld(f,t)})}function In(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Aa(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Sn(e,r),l!=null&&n.unshift(In(e,l,o)),l=Sn(e,t),l!=null&&n.push(In(e,l,o))),e=e.return}return n}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qi(e,t,r,n,o){for(var l=t._reactName,s=[];r!==null&&r!==n;){var i=r,c=i.alternate,u=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&u!==null&&(i=u,o?(c=Sn(r,l),c!=null&&s.unshift(In(r,c,i))):o||(c=Sn(r,l),c!=null&&s.push(In(r,c,i)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Jh=/\r\n?/g,Zh=/\u0000|\uFFFD/g;function Ki(e){return(typeof e=="string"?e:""+e).replace(Jh,`
`).replace(Zh,"")}function sa(e,t,r){if(t=Ki(t),Ki(e)!==t&&r)throw Error(O(425))}function ja(){}var bl=null,Sl=null;function Cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,ep=typeof clearTimeout=="function"?clearTimeout:void 0,Xi=typeof Promise=="function"?Promise:void 0,tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xi<"u"?function(e){return Xi.resolve(null).then(e).catch(rp)}:_l;function rp(e){setTimeout(function(){throw e})}function Oo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Pn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Pn(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),ht="__reactFiber$"+Xr,Ln="__reactProps$"+Xr,Ct="__reactContainer$"+Xr,Pl="__reactEvents$"+Xr,np="__reactListeners$"+Xr,ap="__reactHandles$"+Xr;function lr(e){var t=e[ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ct]||r[ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yi(e);e!==null;){if(r=e[ht])return r;e=Yi(e)}return t}e=r,r=e.parentNode}return null}function Qn(e){return e=e[ht]||e[Ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function lo(e){return e[Ln]||null}var Tl=[],Pr=-1;function Zt(e){return{current:e}}function oe(e){0>Pr||(e.current=Tl[Pr],Tl[Pr]=null,Pr--)}function te(e,t){Pr++,Tl[Pr]=e.current,e.current=t}var Yt={},Te=Zt(Yt),ze=Zt(!1),fr=Yt;function zr(e,t){var r=e.type.contextTypes;if(!r)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in r)o[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function We(e){return e=e.childContextTypes,e!=null}function Fa(){oe(ze),oe(Te)}function Ji(e,t,r){if(Te.current!==Yt)throw Error(O(168));te(Te,t),te(ze,r)}function id(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(O(108,zf(e)||"Unknown",o));return ue({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,fr=Te.current,te(Te,e),te(ze,ze.current),!0}function Zi(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=id(e,t,fr),n.__reactInternalMemoizedMergedChildContext=e,oe(ze),oe(Te),te(Te,e)):oe(ze),te(ze,r)}var Et=null,so=!1,Bo=!1;function cd(e){Et===null?Et=[e]:Et.push(e)}function op(e){so=!0,cd(e)}function er(){if(!Bo&&Et!==null){Bo=!0;var e=0,t=ee;try{var r=Et;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Et=null,so=!1}catch(o){throw Et!==null&&(Et=Et.slice(e+1)),Ru(ws,er),o}finally{ee=t,Bo=!1}}return null}var Tr=[],$r=0,Oa=null,Ba=0,Ze=[],et=0,hr=null,kt=1,Nt="";function nr(e,t){Tr[$r++]=Ba,Tr[$r++]=Oa,Oa=e,Ba=t}function ud(e,t,r){Ze[et++]=kt,Ze[et++]=Nt,Ze[et++]=hr,hr=e;var n=kt;e=Nt;var o=32-ct(n)-1;n&=~(1<<o),r+=1;var l=32-ct(t)+o;if(30<l){var s=o-o%5;l=(n&(1<<s)-1).toString(32),n>>=s,o-=s,kt=1<<32-ct(t)+o|r<<o|n,Nt=l+e}else kt=1<<l|r<<o|n,Nt=e}function Ps(e){e.return!==null&&(nr(e,1),ud(e,1,0))}function Ts(e){for(;e===Oa;)Oa=Tr[--$r],Tr[$r]=null,Ba=Tr[--$r],Tr[$r]=null;for(;e===hr;)hr=Ze[--et],Ze[et]=null,Nt=Ze[--et],Ze[et]=null,kt=Ze[--et],Ze[et]=null}var Ke=null,Qe=null,le=!1,it=null;function dd(e,t){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ec(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,Qe=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:kt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ke=e,Qe=null,!0):!1;default:return!1}}function $l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(le){var t=Qe;if(t){var r=t;if(!ec(e,t)){if($l(e))throw Error(O(418));t=Wt(r.nextSibling);var n=Ke;t&&ec(e,t)?dd(n,r):(e.flags=e.flags&-4097|2,le=!1,Ke=e)}}else{if($l(e))throw Error(O(418));e.flags=e.flags&-4097|2,le=!1,Ke=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function ia(e){if(e!==Ke)return!1;if(!le)return tc(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cl(e.type,e.memoizedProps)),t&&(t=Qe)){if($l(e))throw md(),Error(O(418));for(;t;)dd(e,t),t=Wt(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qe=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Ke?Wt(e.stateNode.nextSibling):null;return!0}function md(){for(var e=Qe;e;)e=Wt(e.nextSibling)}function Wr(){Qe=Ke=null,le=!1}function $s(e){it===null?it=[e]:it.push(e)}var lp=$t.ReactCurrentBatchConfig;function an(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var o=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var i=o.refs;s===null?delete i[l]:i[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function ca(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rc(e){var t=e._init;return t(e._payload)}function fd(e){function t(g,d){if(e){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function r(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function n(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function o(g,d){return g=Qt(g,d),g.index=0,g.sibling=null,g}function l(g,d,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=2,d):y):(g.flags|=2,d)):(g.flags|=1048576,d)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,d,y,_){return d===null||d.tag!==6?(d=Qo(y,g.mode,_),d.return=g,d):(d=o(d,y),d.return=g,d)}function c(g,d,y,_){var T=y.type;return T===Nr?p(g,d,y.props.children,_,y.key):d!==null&&(d.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===It&&rc(T)===d.type)?(_=o(d,y.props),_.ref=an(g,d,y),_.return=g,_):(_=_a(y.type,y.key,y.props,null,g.mode,_),_.ref=an(g,d,y),_.return=g,_)}function u(g,d,y,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=qo(y,g.mode,_),d.return=g,d):(d=o(d,y.children||[]),d.return=g,d)}function p(g,d,y,_,T){return d===null||d.tag!==7?(d=ur(y,g.mode,_,T),d.return=g,d):(d=o(d,y),d.return=g,d)}function f(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Qo(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Jn:return y=_a(d.type,d.key,d.props,null,g.mode,y),y.ref=an(g,null,d),y.return=g,y;case kr:return d=qo(d,g.mode,y),d.return=g,d;case It:var _=d._init;return f(g,_(d._payload),y)}if(un(d)||Zr(d))return d=ur(d,g.mode,y,null),d.return=g,d;ca(g,d)}return null}function h(g,d,y,_){var T=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:i(g,d,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jn:return y.key===T?c(g,d,y,_):null;case kr:return y.key===T?u(g,d,y,_):null;case It:return T=y._init,h(g,d,T(y._payload),_)}if(un(y)||Zr(y))return T!==null?null:p(g,d,y,_,null);ca(g,y)}return null}function E(g,d,y,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,i(d,g,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jn:return g=g.get(_.key===null?y:_.key)||null,c(d,g,_,T);case kr:return g=g.get(_.key===null?y:_.key)||null,u(d,g,_,T);case It:var C=_._init;return E(g,d,y,C(_._payload),T)}if(un(_)||Zr(_))return g=g.get(y)||null,p(d,g,_,T,null);ca(d,_)}return null}function k(g,d,y,_){for(var T=null,C=null,P=d,I=d=0,M=null;P!==null&&I<y.length;I++){P.index>I?(M=P,P=null):M=P.sibling;var F=h(g,P,y[I],_);if(F===null){P===null&&(P=M);break}e&&P&&F.alternate===null&&t(g,P),d=l(F,d,I),C===null?T=F:C.sibling=F,C=F,P=M}if(I===y.length)return r(g,P),le&&nr(g,I),T;if(P===null){for(;I<y.length;I++)P=f(g,y[I],_),P!==null&&(d=l(P,d,I),C===null?T=P:C.sibling=P,C=P);return le&&nr(g,I),T}for(P=n(g,P);I<y.length;I++)M=E(P,g,I,y[I],_),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?I:M.key),d=l(M,d,I),C===null?T=M:C.sibling=M,C=M);return e&&P.forEach(function(b){return t(g,b)}),le&&nr(g,I),T}function S(g,d,y,_){var T=Zr(y);if(typeof T!="function")throw Error(O(150));if(y=T.call(y),y==null)throw Error(O(151));for(var C=T=null,P=d,I=d=0,M=null,F=y.next();P!==null&&!F.done;I++,F=y.next()){P.index>I?(M=P,P=null):M=P.sibling;var b=h(g,P,F.value,_);if(b===null){P===null&&(P=M);break}e&&P&&b.alternate===null&&t(g,P),d=l(b,d,I),C===null?T=b:C.sibling=b,C=b,P=M}if(F.done)return r(g,P),le&&nr(g,I),T;if(P===null){for(;!F.done;I++,F=y.next())F=f(g,F.value,_),F!==null&&(d=l(F,d,I),C===null?T=F:C.sibling=F,C=F);return le&&nr(g,I),T}for(P=n(g,P);!F.done;I++,F=y.next())F=E(P,g,I,F.value,_),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?I:F.key),d=l(F,d,I),C===null?T=F:C.sibling=F,C=F);return e&&P.forEach(function(m){return t(g,m)}),le&&nr(g,I),T}function $(g,d,y,_){if(typeof y=="object"&&y!==null&&y.type===Nr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Jn:e:{for(var T=y.key,C=d;C!==null;){if(C.key===T){if(T=y.type,T===Nr){if(C.tag===7){r(g,C.sibling),d=o(C,y.props.children),d.return=g,g=d;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===It&&rc(T)===C.type){r(g,C.sibling),d=o(C,y.props),d.ref=an(g,C,y),d.return=g,g=d;break e}r(g,C);break}else t(g,C);C=C.sibling}y.type===Nr?(d=ur(y.props.children,g.mode,_,y.key),d.return=g,g=d):(_=_a(y.type,y.key,y.props,null,g.mode,_),_.ref=an(g,d,y),_.return=g,g=_)}return s(g);case kr:e:{for(C=y.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){r(g,d.sibling),d=o(d,y.children||[]),d.return=g,g=d;break e}else{r(g,d);break}else t(g,d);d=d.sibling}d=qo(y,g.mode,_),d.return=g,g=d}return s(g);case It:return C=y._init,$(g,d,C(y._payload),_)}if(un(y))return k(g,d,y,_);if(Zr(y))return S(g,d,y,_);ca(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(r(g,d.sibling),d=o(d,y),d.return=g,g=d):(r(g,d),d=Qo(y,g.mode,_),d.return=g,g=d),s(g)):r(g,d)}return $}var Hr=fd(!0),hd=fd(!1),Ua=Zt(null),za=null,Dr=null,Ds=null;function Is(){Ds=Dr=za=null}function Ls(e){var t=Ua.current;oe(Ua),e._currentValue=t}function Il(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Mr(e,t){za=e,Ds=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(za===null)throw Error(O(308));Dr=e,za.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var sr=null;function Rs(e){sr===null?sr=[e]:sr.push(e)}function pd(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Rs(t)):(r.next=o.next,o.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lt=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,_t(e,r)}return o=n.interleaved,o===null?(t.next=t,Rs(n)):(t.next=o.next,o.next=t),n.interleaved=t,_t(e,r)}function Ea(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xs(e,r)}}function nc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?o=l=s:l=l.next=s,r=r.next}while(r!==null);l===null?o=l=t:l=l.next=t}else o=l=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wa(e,t,r,n){var o=e.updateQueue;Lt=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,u=c.next;c.next=null,s===null?l=u:s.next=u,s=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==s&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(l!==null){var f=o.baseState;s=0,p=u=c=null,i=l;do{var h=i.lane,E=i.eventTime;if((n&h)===h){p!==null&&(p=p.next={eventTime:E,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,S=i;switch(h=t,E=r,S.tag){case 1:if(k=S.payload,typeof k=="function"){f=k.call(E,f,h);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=S.payload,h=typeof k=="function"?k.call(E,f,h):k,h==null)break e;f=ue({},f,h);break e;case 2:Lt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[i]:h.push(i))}else E={eventTime:E,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=E,c=f):p=p.next=E,s|=h;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;h=i,i=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(p===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);gr|=s,e.lanes=s,e.memoizedState=f}}function ac(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(O(191,o));o.call(n)}}}var qn={},yt=Zt(qn),Rn=Zt(qn),An=Zt(qn);function ir(e){if(e===qn)throw Error(O(174));return e}function js(e,t){switch(te(An,t),te(Rn,e),te(yt,qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ml(t,e)}oe(yt),te(yt,t)}function Vr(){oe(yt),oe(Rn),oe(An)}function yd(e){ir(An.current);var t=ir(yt.current),r=ml(t,e.type);t!==r&&(te(Rn,e),te(yt,r))}function Fs(e){Rn.current===e&&(oe(yt),oe(Rn))}var ie=Zt(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=[];function Ms(){for(var e=0;e<Uo.length;e++)Uo[e]._workInProgressVersionPrimary=null;Uo.length=0}var ka=$t.ReactCurrentDispatcher,zo=$t.ReactCurrentBatchConfig,pr=0,ce=null,ve=null,Ee=null,Va=!1,vn=!1,jn=0,sp=0;function Ce(){throw Error(O(321))}function Os(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dt(e[r],t[r]))return!1;return!0}function Bs(e,t,r,n,o,l){if(pr=l,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ka.current=e===null||e.memoizedState===null?dp:mp,e=r(n,o),vn){l=0;do{if(vn=!1,jn=0,25<=l)throw Error(O(301));l+=1,Ee=ve=null,t.updateQueue=null,ka.current=fp,e=r(n,o)}while(vn)}if(ka.current=Ga,t=ve!==null&&ve.next!==null,pr=0,Ee=ve=ce=null,Va=!1,t)throw Error(O(300));return e}function Us(){var e=jn!==0;return jn=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ce.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function at(){if(ve===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ee===null?ce.memoizedState:Ee.next;if(t!==null)Ee=t,ve=e;else{if(e===null)throw Error(O(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ee===null?ce.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Fn(e,t){return typeof t=="function"?t(e):t}function Wo(e){var t=at(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=ve,o=n.baseQueue,l=r.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}n.baseQueue=o=l,r.pending=null}if(o!==null){l=o.next,n=n.baseState;var i=s=null,c=null,u=l;do{var p=u.lane;if((pr&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,s=n):c=c.next=f,ce.lanes|=p,gr|=p}u=u.next}while(u!==null&&u!==l);c===null?s=n:c.next=i,dt(n,t.memoizedState)||(Ue=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do l=o.lane,ce.lanes|=l,gr|=l,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ho(e){var t=at(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,l=t.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);dt(l,t.memoizedState)||(Ue=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function vd(){}function wd(e,t){var r=ce,n=at(),o=t(),l=!dt(n.memoizedState,o);if(l&&(n.memoizedState=o,Ue=!0),n=n.queue,zs(kd.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Ee!==null&&Ee.memoizedState.tag&1){if(r.flags|=2048,Mn(9,Ed.bind(null,r,n,o,t),void 0,null),ke===null)throw Error(O(349));pr&30||xd(r,t,o)}return o}function xd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ed(e,t,r,n){t.value=r,t.getSnapshot=n,Nd(t)&&bd(e)}function kd(e,t,r){return r(function(){Nd(t)&&bd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dt(e,r)}catch{return!0}}function bd(e){var t=_t(e,1);t!==null&&ut(t,e,1,-1)}function oc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t.queue=e,e=e.dispatch=up.bind(null,ce,e),[t.memoizedState,e]}function Mn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Sd(){return at().memoizedState}function Na(e,t,r,n){var o=ft();ce.flags|=e,o.memoizedState=Mn(1|t,r,void 0,n===void 0?null:n)}function io(e,t,r,n){var o=at();n=n===void 0?null:n;var l=void 0;if(ve!==null){var s=ve.memoizedState;if(l=s.destroy,n!==null&&Os(n,s.deps)){o.memoizedState=Mn(t,r,l,n);return}}ce.flags|=e,o.memoizedState=Mn(1|t,r,l,n)}function lc(e,t){return Na(8390656,8,e,t)}function zs(e,t){return io(2048,8,e,t)}function Cd(e,t){return io(4,2,e,t)}function _d(e,t){return io(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,r){return r=r!=null?r.concat([e]):null,io(4,4,Pd.bind(null,t,e),r)}function Ws(){}function $d(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Os(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Dd(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Os(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Id(e,t,r){return pr&21?(dt(r,t)||(r=Fu(),ce.lanes|=r,gr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=r)}function ip(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=zo.transition;zo.transition={};try{e(!1),t()}finally{ee=r,zo.transition=n}}function Ld(){return at().memoizedState}function cp(e,t,r){var n=Gt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rd(e))Ad(t,r);else if(r=pd(e,t,r,n),r!==null){var o=Ae();ut(r,e,n,o),jd(r,t,n)}}function up(e,t,r){var n=Gt(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Ad(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,i=l(s,r);if(o.hasEagerState=!0,o.eagerState=i,dt(i,s)){var c=t.interleaved;c===null?(o.next=o,Rs(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=pd(e,t,o,n),r!==null&&(o=Ae(),ut(r,e,n,o),jd(r,t,n))}}function Rd(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Ad(e,t){vn=Va=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xs(e,r)}}var Ga={readContext:nt,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},dp={readContext:nt,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:lc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Na(4194308,4,Pd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var r=ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ft();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cp.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:oc,useDebugValue:Ws,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=oc(!1),t=e[0];return e=ip.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ce,o=ft();if(le){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),ke===null)throw Error(O(349));pr&30||xd(n,t,r)}o.memoizedState=r;var l={value:r,getSnapshot:t};return o.queue=l,lc(kd.bind(null,n,l,e),[e]),n.flags|=2048,Mn(9,Ed.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=ft(),t=ke.identifierPrefix;if(le){var r=Nt,n=kt;r=(n&~(1<<32-ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mp={readContext:nt,useCallback:$d,useContext:nt,useEffect:zs,useImperativeHandle:Td,useInsertionEffect:Cd,useLayoutEffect:_d,useMemo:Dd,useReducer:Wo,useRef:Sd,useState:function(){return Wo(Fn)},useDebugValue:Ws,useDeferredValue:function(e){var t=at();return Id(t,ve.memoizedState,e)},useTransition:function(){var e=Wo(Fn)[0],t=at().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:wd,useId:Ld,unstable_isNewReconciler:!1},fp={readContext:nt,useCallback:$d,useContext:nt,useEffect:zs,useImperativeHandle:Td,useInsertionEffect:Cd,useLayoutEffect:_d,useMemo:Dd,useReducer:Ho,useRef:Sd,useState:function(){return Ho(Fn)},useDebugValue:Ws,useDeferredValue:function(e){var t=at();return ve===null?t.memoizedState=e:Id(t,ve.memoizedState,e)},useTransition:function(){var e=Ho(Fn)[0],t=at().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:wd,useId:Ld,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ll(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var co={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ae(),o=Gt(e),l=bt(n,o);l.payload=t,r!=null&&(l.callback=r),t=Ht(e,l,o),t!==null&&(ut(t,e,o,n),Ea(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ae(),o=Gt(e),l=bt(n,o);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Ht(e,l,o),t!==null&&(ut(t,e,o,n),Ea(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ae(),n=Gt(e),o=bt(r,n);o.tag=2,t!=null&&(o.callback=t),t=Ht(e,o,n),t!==null&&(ut(t,e,n,r),Ea(t,e,n))}};function sc(e,t,r,n,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,s):t.prototype&&t.prototype.isPureReactComponent?!$n(r,n)||!$n(o,l):!0}function Fd(e,t,r){var n=!1,o=Yt,l=t.contextType;return typeof l=="object"&&l!==null?l=nt(l):(o=We(t)?fr:Te.current,n=t.contextTypes,l=(n=n!=null)?zr(e,o):Yt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function ic(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function Rl(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},As(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=nt(l):(l=We(t)?fr:Te.current,o.context=zr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ll(e,t,l,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&co.enqueueReplaceState(o,o.state,null),Wa(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var r="",n=t;do r+=Uf(n),n=n.return;while(n);var o=r}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Vo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Al(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function Md(e,t,r){r=bt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qa||(qa=!0,Vl=n),Al(e,t)},r}function Od(e,t,r){r=bt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Al(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Al(e,t),typeof n!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function cc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hp;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Pp.bind(null,e,t,r),t.then(e,e))}function uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bt(-1,1),t.tag=2,Ht(r,t,1))),r.lanes|=1),e)}var pp=$t.ReactCurrentOwner,Ue=!1;function Re(e,t,r,n){t.child=e===null?hd(t,null,r,n):Hr(t,e.child,r,n)}function mc(e,t,r,n,o){r=r.render;var l=t.ref;return Mr(t,o),n=Bs(e,t,r,n,l,o),r=Us(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pt(e,t,o)):(le&&r&&Ps(t),t.flags|=1,Re(e,t,n,o),t.child)}function fc(e,t,r,n,o){if(e===null){var l=r.type;return typeof l=="function"&&!Ys(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Bd(e,t,l,n,o)):(e=_a(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var s=l.memoizedProps;if(r=r.compare,r=r!==null?r:$n,r(s,n)&&e.ref===t.ref)return Pt(e,t,o)}return t.flags|=1,e=Qt(l,n),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,r,n,o){if(e!==null){var l=e.memoizedProps;if($n(l,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=l,(e.lanes&o)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Pt(e,t,o)}return jl(e,t,r,n,o)}function Ud(e,t,r){var n=t.pendingProps,o=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Lr,Ge),Ge|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Lr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,te(Lr,Ge),Ge|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,te(Lr,Ge),Ge|=n;return Re(e,t,o,r),t.child}function zd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jl(e,t,r,n,o){var l=We(r)?fr:Te.current;return l=zr(t,l),Mr(t,o),r=Bs(e,t,r,n,l,o),n=Us(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pt(e,t,o)):(le&&n&&Ps(t),t.flags|=1,Re(e,t,r,o),t.child)}function hc(e,t,r,n,o){if(We(r)){var l=!0;Ma(t)}else l=!1;if(Mr(t,o),t.stateNode===null)ba(e,t),Fd(t,r,n),Rl(t,r,n,o),n=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=We(r)?fr:Te.current,u=zr(t,u));var p=r.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==n||c!==u)&&ic(t,s,n,u),Lt=!1;var h=t.memoizedState;s.state=h,Wa(t,n,s,o),c=t.memoizedState,i!==n||h!==c||ze.current||Lt?(typeof p=="function"&&(Ll(t,r,p,n),c=t.memoizedState),(i=Lt||sc(t,r,i,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,gd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:lt(t.type,i),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=We(r)?fr:Te.current,c=zr(t,c));var E=r.getDerivedStateFromProps;(p=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==f||h!==c)&&ic(t,s,n,c),Lt=!1,h=t.memoizedState,s.state=h,Wa(t,n,s,o);var k=t.memoizedState;i!==f||h!==k||ze.current||Lt?(typeof E=="function"&&(Ll(t,r,E,n),k=t.memoizedState),(u=Lt||sc(t,r,u,n,h,k,c)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,k,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,k,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),s.props=n,s.state=k,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fl(e,t,r,n,l,o)}function Fl(e,t,r,n,o,l){zd(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return o&&Zi(t,r,!1),Pt(e,t,l);n=t.stateNode,pp.current=t;var i=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Hr(t,e.child,null,l),t.child=Hr(t,null,i,l)):Re(e,t,i,l),t.memoizedState=n.state,o&&Zi(t,r,!0),t.child}function Wd(e){var t=e.stateNode;t.pendingContext?Ji(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ji(e,t.context,!1),js(e,t.containerInfo)}function pc(e,t,r,n,o){return Wr(),$s(o),t.flags|=256,Re(e,t,r,n),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hd(e,t,r){var n=t.pendingProps,o=ie.current,l=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),te(ie,o&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,l?(n=t.mode,l=t.child,s={mode:"hidden",children:s},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=fo(s,n,0,null),e=ur(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ol(r),t.memoizedState=Ml,e):Hs(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return gp(e,t,s,n,i,o,r);if(l){l=n.fallback,s=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qt(o,c),n.subtreeFlags=o.subtreeFlags&14680064),i!==null?l=Qt(i,l):(l=ur(l,s,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,s=e.child.memoizedState,s=s===null?Ol(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~r,t.memoizedState=Ml,n}return l=e.child,e=l.sibling,n=Qt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hs(e,t){return t=fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ua(e,t,r,n){return n!==null&&$s(n),Hr(t,e.child,null,r),e=Hs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gp(e,t,r,n,o,l,s){if(r)return t.flags&256?(t.flags&=-257,n=Vo(Error(O(422))),ua(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,o=t.mode,n=fo({mode:"visible",children:n.children},o,0,null),l=ur(l,o,s,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Hr(t,e.child,null,s),t.child.memoizedState=Ol(s),t.memoizedState=Ml,l);if(!(t.mode&1))return ua(e,t,s,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var i=n.dgst;return n=i,l=Error(O(419)),n=Vo(l,n,void 0),ua(e,t,s,n)}if(i=(s&e.childLanes)!==0,Ue||i){if(n=ke,n!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|s)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,_t(e,o),ut(n,e,o,-1))}return Xs(),n=Vo(Error(O(421))),ua(e,t,s,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Tp.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Qe=Wt(o.nextSibling),Ke=t,le=!0,it=null,e!==null&&(Ze[et++]=kt,Ze[et++]=Nt,Ze[et++]=hr,kt=e.id,Nt=e.overflow,hr=t),t=Hs(t,n.children),t.flags|=4096,t)}function gc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Il(e.return,t,r)}function Go(e,t,r,n,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=o)}function Vd(e,t,r){var n=t.pendingProps,o=n.revealOrder,l=n.tail;if(Re(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,r,t);else if(e.tag===19)gc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(ie,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Ha(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Go(t,!1,o,r,l);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ha(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Go(t,!0,r,null,l);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ba(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yp(e,t,r){switch(t.tag){case 3:Wd(t),Wr();break;case 5:yd(t);break;case 1:We(t.type)&&Ma(t);break;case 4:js(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;te(Ua,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?Hd(e,t,r):(te(ie,ie.current&1),e=Pt(e,t,r),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vd(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Ud(e,t,r)}return Pt(e,t,r)}var Gd,Bl,Qd,qd;Gd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bl=function(){};Qd=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,ir(yt.current);var l=null;switch(r){case"input":o=il(e,o),n=il(e,n),l=[];break;case"select":o=ue({},o,{value:void 0}),n=ue({},n,{value:void 0}),l=[];break;case"textarea":o=dl(e,o),n=dl(e,n),l=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ja)}fl(r,n);var s;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var i=o[u];for(s in i)i.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var c=n[u];if(i=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};qd=function(e,t,r,n){r!==n&&(t.flags|=4)};function on(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vp(e,t,r){var n=t.pendingProps;switch(Ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return We(t.type)&&Fa(),_e(t),null;case 3:return n=t.stateNode,Vr(),oe(ze),oe(Te),Ms(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(ql(it),it=null))),Bl(e,t),_e(t),null;case 5:Fs(t);var o=ir(An.current);if(r=t.type,e!==null&&t.stateNode!=null)Qd(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return _e(t),null}if(e=ir(yt.current),ia(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ht]=t,n[Ln]=l,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(o=0;o<mn.length;o++)ne(mn[o],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":Si(n,l),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ne("invalid",n);break;case"textarea":_i(n,l),ne("invalid",n)}fl(r,l),o=null;for(var s in l)if(l.hasOwnProperty(s)){var i=l[s];s==="children"?typeof i=="string"?n.textContent!==i&&(l.suppressHydrationWarning!==!0&&sa(n.textContent,i,e),o=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&sa(n.textContent,i,e),o=["children",""+i]):Nn.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ne("scroll",n)}switch(r){case"input":Zn(n),Ci(n,l,!0);break;case"textarea":Zn(n),Pi(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ja)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ku(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ht]=t,e[Ln]=n,Gd(e,t,!1,!1),t.stateNode=e;e:{switch(s=hl(r,n),r){case"dialog":ne("cancel",e),ne("close",e),o=n;break;case"iframe":case"object":case"embed":ne("load",e),o=n;break;case"video":case"audio":for(o=0;o<mn.length;o++)ne(mn[o],e);o=n;break;case"source":ne("error",e),o=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),o=n;break;case"details":ne("toggle",e),o=n;break;case"input":Si(e,n),o=il(e,n),ne("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=ue({},n,{value:void 0}),ne("invalid",e);break;case"textarea":_i(e,n),o=dl(e,n),ne("invalid",e);break;default:o=n}fl(r,o),i=o;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?Su(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nu(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bn(e,c):typeof c=="number"&&bn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Nn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ne("scroll",e):c!=null&&hs(e,l,c,s))}switch(r){case"input":Zn(e),Ci(e,n,!1);break;case"textarea":Zn(e),Pi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Rr(e,!!n.multiple,l,!1):n.defaultValue!=null&&Rr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ja)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=ir(An.current),ir(yt.current),ia(t)){if(n=t.stateNode,r=t.memoizedProps,n[ht]=t,(l=n.nodeValue!==r)&&(e=Ke,e!==null))switch(e.tag){case 3:sa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ht]=t,t.stateNode=n}return _e(t),null;case 13:if(oe(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Qe!==null&&t.mode&1&&!(t.flags&128))md(),Wr(),t.flags|=98560,l=!1;else if(l=ia(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[ht]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),l=!1}else it!==null&&(ql(it),it=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?we===0&&(we=3):Xs())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Vr(),Bl(e,t),e===null&&Dn(t.stateNode.containerInfo),_e(t),null;case 10:return Ls(t.type._context),_e(t),null;case 17:return We(t.type)&&Fa(),_e(t),null;case 19:if(oe(ie),l=t.memoizedState,l===null)return _e(t),null;if(n=(t.flags&128)!==0,s=l.rendering,s===null)if(n)on(l,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ha(e),s!==null){for(t.flags|=128,on(l,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}l.tail!==null&&he()>Qr&&(t.flags|=128,n=!0,on(l,!1),t.lanes=4194304)}else{if(!n)if(e=Ha(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),on(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!le)return _e(t),null}else 2*he()-l.renderingStartTime>Qr&&r!==1073741824&&(t.flags|=128,n=!0,on(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(r=l.last,r!==null?r.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=he(),t.sibling=null,r=ie.current,te(ie,n?r&1|2:r&1),t):(_e(t),null);case 22:case 23:return Ks(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function wp(e,t){switch(Ts(t),t.tag){case 1:return We(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vr(),oe(ze),oe(Te),Ms(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fs(t),null;case 13:if(oe(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ie),null;case 4:return Vr(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return Ks(),null;case 24:return null;default:return null}}var da=!1,Pe=!1,xp=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ir(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function Ul(e,t,r){try{r()}catch(n){de(e,t,n)}}var yc=!1;function Ep(e,t){if(bl=La,e=Zu(),_s(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var s=0,i=-1,c=-1,u=0,p=0,f=e,h=null;t:for(;;){for(var E;f!==r||o!==0&&f.nodeType!==3||(i=s+o),f!==l||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(E=f.firstChild)!==null;)h=f,f=E;for(;;){if(f===e)break t;if(h===r&&++u===o&&(i=s),h===l&&++p===n&&(c=s),(E=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=E}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sl={focusedElem:e,selectionRange:r},La=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var S=k.memoizedProps,$=k.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?S:lt(t.type,S),$);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){de(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return k=yc,yc=!1,k}function wn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ul(t,r,l)}o=o.next}while(o!==n)}}function uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Kd(e){var t=e.alternate;t!==null&&(e.alternate=null,Kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Ln],delete t[Pl],delete t[np],delete t[ap])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xd(e){return e.tag===5||e.tag===3||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ja));else if(n!==4&&(e=e.child,e!==null))for(Wl(e,t,r),e=e.sibling;e!==null;)Wl(e,t,r),e=e.sibling}function Hl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hl(e,t,r),e=e.sibling;e!==null;)Hl(e,t,r),e=e.sibling}var Ne=null,st=!1;function Dt(e,t,r){for(r=r.child;r!==null;)Yd(e,t,r),r=r.sibling}function Yd(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ro,r)}catch{}switch(r.tag){case 5:Pe||Ir(r,t);case 6:var n=Ne,o=st;Ne=null,Dt(e,t,r),Ne=n,st=o,Ne!==null&&(st?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(st?(e=Ne,r=r.stateNode,e.nodeType===8?Oo(e.parentNode,r):e.nodeType===1&&Oo(e,r),Pn(e)):Oo(Ne,r.stateNode));break;case 4:n=Ne,o=st,Ne=r.stateNode.containerInfo,st=!0,Dt(e,t,r),Ne=n,st=o;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var l=o,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&Ul(r,t,s),o=o.next}while(o!==n)}Dt(e,t,r);break;case 1:if(!Pe&&(Ir(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){de(r,t,i)}Dt(e,t,r);break;case 21:Dt(e,t,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,Dt(e,t,r),Pe=n):Dt(e,t,r);break;default:Dt(e,t,r)}}function wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xp),t.forEach(function(n){var o=$p.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var l=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Ne=i.stateNode,st=!1;break e;case 3:Ne=i.stateNode.containerInfo,st=!0;break e;case 4:Ne=i.stateNode.containerInfo,st=!0;break e}i=i.return}if(Ne===null)throw Error(O(160));Yd(l,s,o),Ne=null,st=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){de(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jd(t,e),t=t.sibling}function Jd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),mt(e),n&4){try{wn(3,e,e.return),uo(3,e)}catch(S){de(e,e.return,S)}try{wn(5,e,e.return)}catch(S){de(e,e.return,S)}}break;case 1:ot(t,e),mt(e),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(ot(t,e),mt(e),n&512&&r!==null&&Ir(r,r.return),e.flags&32){var o=e.stateNode;try{bn(o,"")}catch(S){de(e,e.return,S)}}if(n&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,s=r!==null?r.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&xu(o,l),hl(i,s);var u=hl(i,l);for(s=0;s<c.length;s+=2){var p=c[s],f=c[s+1];p==="style"?Su(o,f):p==="dangerouslySetInnerHTML"?Nu(o,f):p==="children"?bn(o,f):hs(o,p,f,u)}switch(i){case"input":cl(o,l);break;case"textarea":Eu(o,l);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?Rr(o,!!l.multiple,E,!1):h!==!!l.multiple&&(l.defaultValue!=null?Rr(o,!!l.multiple,l.defaultValue,!0):Rr(o,!!l.multiple,l.multiple?[]:"",!1))}o[Ln]=l}catch(S){de(e,e.return,S)}}break;case 6:if(ot(t,e),mt(e),n&4){if(e.stateNode===null)throw Error(O(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(S){de(e,e.return,S)}}break;case 3:if(ot(t,e),mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(S){de(e,e.return,S)}break;case 4:ot(t,e),mt(e);break;case 13:ot(t,e),mt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Qs=he())),n&4&&wc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||p,ot(t,e),Pe=u):ot(t,e),mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(H=e,p=e.child;p!==null;){for(f=H=p;H!==null;){switch(h=H,E=h.child,h.tag){case 0:case 11:case 14:case 15:wn(4,h,h.return);break;case 1:Ir(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(S){de(n,r,S)}}break;case 5:Ir(h,h.return);break;case 22:if(h.memoizedState!==null){Ec(f);continue}}E!==null?(E.return=h,H=E):Ec(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{o=f.stateNode,u?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=bu("display",s))}catch(S){de(e,e.return,S)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){de(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ot(t,e),mt(e),n&4&&wc(e);break;case 21:break;default:ot(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xd(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(bn(o,""),n.flags&=-33);var l=vc(e);Hl(e,l,o);break;case 3:case 4:var s=n.stateNode.containerInfo,i=vc(e);Wl(e,i,s);break;default:throw Error(O(161))}}catch(c){de(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kp(e,t,r){H=e,Zd(e)}function Zd(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var o=H,l=o.child;if(o.tag===22&&n){var s=o.memoizedState!==null||da;if(!s){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Pe;i=da;var u=Pe;if(da=s,(Pe=c)&&!u)for(H=o;H!==null;)s=H,c=s.child,s.tag===22&&s.memoizedState!==null?kc(o):c!==null?(c.return=s,H=c):kc(o);for(;l!==null;)H=l,Zd(l),l=l.sibling;H=o,da=i,Pe=u}xc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,H=l):xc(e)}}function xc(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||uo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:lt(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ac(t,l,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ac(t,s,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Pn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Pe||t.flags&512&&zl(t)}catch(h){de(t,t.return,h)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function Ec(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function kc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{uo(4,t)}catch(c){de(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){de(t,o,c)}}var l=t.return;try{zl(t)}catch(c){de(t,l,c)}break;case 5:var s=t.return;try{zl(t)}catch(c){de(t,s,c)}}}catch(c){de(t,t.return,c)}if(t===e){H=null;break}var i=t.sibling;if(i!==null){i.return=t.return,H=i;break}H=t.return}}var Np=Math.ceil,Qa=$t.ReactCurrentDispatcher,Vs=$t.ReactCurrentOwner,rt=$t.ReactCurrentBatchConfig,J=0,ke=null,ge=null,be=0,Ge=0,Lr=Zt(0),we=0,On=null,gr=0,mo=0,Gs=0,xn=null,Be=null,Qs=0,Qr=1/0,xt=null,qa=!1,Vl=null,Vt=null,ma=!1,Mt=null,Ka=0,En=0,Gl=null,Sa=-1,Ca=0;function Ae(){return J&6?he():Sa!==-1?Sa:Sa=he()}function Gt(e){return e.mode&1?J&2&&be!==0?be&-be:lp.transition!==null?(Ca===0&&(Ca=Fu()),Ca):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Hu(e.type)),e):1}function ut(e,t,r,n){if(50<En)throw En=0,Gl=null,Error(O(185));Vn(e,r,n),(!(J&2)||e!==ke)&&(e===ke&&(!(J&2)&&(mo|=r),we===4&&At(e,be)),He(e,n),r===1&&J===0&&!(t.mode&1)&&(Qr=he()+500,so&&er()))}function He(e,t){var r=e.callbackNode;lh(e,t);var n=Ia(e,e===ke?be:0);if(n===0)r!==null&&Di(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Di(r),t===1)e.tag===0?op(Nc.bind(null,e)):cd(Nc.bind(null,e)),tp(function(){!(J&6)&&er()}),r=null;else{switch(Mu(n)){case 1:r=ws;break;case 4:r=Au;break;case 16:r=Da;break;case 536870912:r=ju;break;default:r=Da}r=sm(r,em.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function em(e,t){if(Sa=-1,Ca=0,J&6)throw Error(O(327));var r=e.callbackNode;if(Or()&&e.callbackNode!==r)return null;var n=Ia(e,e===ke?be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xa(e,n);else{t=n;var o=J;J|=2;var l=rm();(ke!==e||be!==t)&&(xt=null,Qr=he()+500,cr(e,t));do try{Cp();break}catch(i){tm(e,i)}while(1);Is(),Qa.current=l,J=o,ge!==null?t=0:(ke=null,be=0,t=we)}if(t!==0){if(t===2&&(o=wl(e),o!==0&&(n=o,t=Ql(e,o))),t===1)throw r=On,cr(e,0),At(e,n),He(e,he()),r;if(t===6)At(e,n);else{if(o=e.current.alternate,!(n&30)&&!bp(o)&&(t=Xa(e,n),t===2&&(l=wl(e),l!==0&&(n=l,t=Ql(e,l))),t===1))throw r=On,cr(e,0),At(e,n),He(e,he()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:ar(e,Be,xt);break;case 3:if(At(e,n),(n&130023424)===n&&(t=Qs+500-he(),10<t)){if(Ia(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Ae(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=_l(ar.bind(null,e,Be,xt),t);break}ar(e,Be,xt);break;case 4:if(At(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-ct(n);l=1<<s,s=t[s],s>o&&(o=s),n&=~l}if(n=o,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Np(n/1960))-n,10<n){e.timeoutHandle=_l(ar.bind(null,e,Be,xt),n);break}ar(e,Be,xt);break;case 5:ar(e,Be,xt);break;default:throw Error(O(329))}}}return He(e,he()),e.callbackNode===r?em.bind(null,e):null}function Ql(e,t){var r=xn;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=Xa(e,t),e!==2&&(t=Be,Be=r,t!==null&&ql(t)),e}function ql(e){Be===null?Be=e:Be.push.apply(Be,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],l=o.getSnapshot;o=o.value;try{if(!dt(l(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~Gs,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ct(t),n=1<<r;e[r]=-1,t&=~n}}function Nc(e){if(J&6)throw Error(O(327));Or();var t=Ia(e,0);if(!(t&1))return He(e,he()),null;var r=Xa(e,t);if(e.tag!==0&&r===2){var n=wl(e);n!==0&&(t=n,r=Ql(e,n))}if(r===1)throw r=On,cr(e,0),At(e,t),He(e,he()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,Be,xt),He(e,he()),null}function qs(e,t){var r=J;J|=1;try{return e(t)}finally{J=r,J===0&&(Qr=he()+500,so&&er())}}function yr(e){Mt!==null&&Mt.tag===0&&!(J&6)&&Or();var t=J;J|=1;var r=rt.transition,n=ee;try{if(rt.transition=null,ee=1,e)return e()}finally{ee=n,rt.transition=r,J=t,!(J&6)&&er()}}function Ks(){Ge=Lr.current,oe(Lr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ep(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(Ts(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fa();break;case 3:Vr(),oe(ze),oe(Te),Ms();break;case 5:Fs(n);break;case 4:Vr();break;case 13:oe(ie);break;case 19:oe(ie);break;case 10:Ls(n.type._context);break;case 22:case 23:Ks()}r=r.return}if(ke=e,ge=e=Qt(e.current,null),be=Ge=t,we=0,On=null,Gs=mo=gr=0,Be=xn=null,sr!==null){for(t=0;t<sr.length;t++)if(r=sr[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,l=r.pending;if(l!==null){var s=l.next;l.next=o,n.next=s}r.pending=n}sr=null}return e}function tm(e,t){do{var r=ge;try{if(Is(),ka.current=Ga,Va){for(var n=ce.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Va=!1}if(pr=0,Ee=ve=ce=null,vn=!1,jn=0,Vs.current=null,r===null||r.return===null){we=1,On=t,ge=null;break}e:{var l=e,s=r.return,i=r,c=t;if(t=be,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=uc(s);if(E!==null){E.flags&=-257,dc(E,s,i,l,t),E.mode&1&&cc(l,u,t),t=E,c=u;var k=t.updateQueue;if(k===null){var S=new Set;S.add(c),t.updateQueue=S}else k.add(c);break e}else{if(!(t&1)){cc(l,u,t),Xs();break e}c=Error(O(426))}}else if(le&&i.mode&1){var $=uc(s);if($!==null){!($.flags&65536)&&($.flags|=256),dc($,s,i,l,t),$s(Gr(c,i));break e}}l=c=Gr(c,i),we!==4&&(we=2),xn===null?xn=[l]:xn.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=Md(l,c,t);nc(l,g);break e;case 1:i=c;var d=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vt===null||!Vt.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var _=Od(l,i,t);nc(l,_);break e}}l=l.return}while(l!==null)}am(r)}catch(T){t=T,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(1)}function rm(){var e=Qa.current;return Qa.current=Ga,e===null?Ga:e}function Xs(){(we===0||we===3||we===2)&&(we=4),ke===null||!(gr&268435455)&&!(mo&268435455)||At(ke,be)}function Xa(e,t){var r=J;J|=2;var n=rm();(ke!==e||be!==t)&&(xt=null,cr(e,t));do try{Sp();break}catch(o){tm(e,o)}while(1);if(Is(),J=r,Qa.current=n,ge!==null)throw Error(O(261));return ke=null,be=0,we}function Sp(){for(;ge!==null;)nm(ge)}function Cp(){for(;ge!==null&&!Yf();)nm(ge)}function nm(e){var t=lm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?am(e):ge=t,Vs.current=null}function am(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wp(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ge=null;return}}else if(r=vp(r,t,Ge),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);we===0&&(we=5)}function ar(e,t,r){var n=ee,o=rt.transition;try{rt.transition=null,ee=1,_p(e,t,r,n)}finally{rt.transition=o,ee=n}return null}function _p(e,t,r,n){do Or();while(Mt!==null);if(J&6)throw Error(O(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(sh(e,l),e===ke&&(ge=ke=null,be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ma||(ma=!0,sm(Da,function(){return Or(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=rt.transition,rt.transition=null;var s=ee;ee=1;var i=J;J|=4,Vs.current=null,Ep(e,r),Jd(r,e),Qh(Sl),La=!!bl,Sl=bl=null,e.current=r,kp(r),Jf(),J=i,ee=s,rt.transition=l}else e.current=r;if(ma&&(ma=!1,Mt=e,Ka=o),l=e.pendingLanes,l===0&&(Vt=null),th(r.stateNode),He(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(qa)throw qa=!1,e=Vl,Vl=null,e;return Ka&1&&e.tag!==0&&Or(),l=e.pendingLanes,l&1?e===Gl?En++:(En=0,Gl=e):En=0,er(),null}function Or(){if(Mt!==null){var e=Mu(Ka),t=rt.transition,r=ee;try{if(rt.transition=null,ee=16>e?16:e,Mt===null)var n=!1;else{if(e=Mt,Mt=null,Ka=0,J&6)throw Error(O(331));var o=J;for(J|=4,H=e.current;H!==null;){var l=H,s=l.child;if(H.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(H=u;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:wn(8,p,l)}var f=p.child;if(f!==null)f.return=p,H=f;else for(;H!==null;){p=H;var h=p.sibling,E=p.return;if(Kd(p),p===u){H=null;break}if(h!==null){h.return=E,H=h;break}H=E}}}var k=l.alternate;if(k!==null){var S=k.child;if(S!==null){k.child=null;do{var $=S.sibling;S.sibling=null,S=$}while(S!==null)}}H=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,H=s;else e:for(;H!==null;){if(l=H,l.flags&2048)switch(l.tag){case 0:case 11:case 15:wn(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,H=g;break e}H=l.return}}var d=e.current;for(H=d;H!==null;){s=H;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,H=y;else e:for(s=d;H!==null;){if(i=H,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:uo(9,i)}}catch(T){de(i,i.return,T)}if(i===s){H=null;break e}var _=i.sibling;if(_!==null){_.return=i.return,H=_;break e}H=i.return}}if(J=o,er(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ro,e)}catch{}n=!0}return n}finally{ee=r,rt.transition=t}}return!1}function bc(e,t,r){t=Gr(r,t),t=Md(e,t,1),e=Ht(e,t,1),t=Ae(),e!==null&&(Vn(e,1,t),He(e,t))}function de(e,t,r){if(e.tag===3)bc(e,e,r);else for(;t!==null;){if(t.tag===3){bc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vt===null||!Vt.has(n))){e=Gr(r,e),e=Od(t,e,1),t=Ht(t,e,1),e=Ae(),t!==null&&(Vn(t,1,e),He(t,e));break}}t=t.return}}function Pp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&r,ke===e&&(be&r)===r&&(we===4||we===3&&(be&130023424)===be&&500>he()-Qs?cr(e,0):Gs|=r),He(e,t)}function om(e,t){t===0&&(e.mode&1?(t=ra,ra<<=1,!(ra&130023424)&&(ra=4194304)):t=1);var r=Ae();e=_t(e,t),e!==null&&(Vn(e,t,r),He(e,r))}function Tp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),om(e,r)}function $p(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),om(e,r)}var lm;lm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Ue=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ue=!1,yp(e,t,r);Ue=!!(e.flags&131072)}else Ue=!1,le&&t.flags&1048576&&ud(t,Ba,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ba(e,t),e=t.pendingProps;var o=zr(t,Te.current);Mr(t,r),o=Bs(null,t,n,e,o,r);var l=Us();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(n)?(l=!0,Ma(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,As(t),o.updater=co,t.stateNode=o,o._reactInternals=t,Rl(t,n,e,r),t=Fl(null,t,n,!0,l,r)):(t.tag=0,le&&l&&Ps(t),Re(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ba(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=Ip(n),e=lt(n,e),o){case 0:t=jl(null,t,n,e,r);break e;case 1:t=hc(null,t,n,e,r);break e;case 11:t=mc(null,t,n,e,r);break e;case 14:t=fc(null,t,n,lt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:lt(n,o),jl(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:lt(n,o),hc(e,t,n,o,r);case 3:e:{if(Wd(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,o=l.element,gd(e,t),Wa(t,n,null,r);var s=t.memoizedState;if(n=s.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Gr(Error(O(423)),t),t=pc(e,t,n,r,o);break e}else if(n!==o){o=Gr(Error(O(424)),t),t=pc(e,t,n,r,o);break e}else for(Qe=Wt(t.stateNode.containerInfo.firstChild),Ke=t,le=!0,it=null,r=hd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),n===o){t=Pt(e,t,r);break e}Re(e,t,n,r)}t=t.child}return t;case 5:return yd(t),e===null&&Dl(t),n=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,s=o.children,Cl(n,o)?s=null:l!==null&&Cl(n,l)&&(t.flags|=32),zd(e,t),Re(e,t,s,r),t.child;case 6:return e===null&&Dl(t),null;case 13:return Hd(e,t,r);case 4:return js(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hr(t,null,n,r):Re(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:lt(n,o),mc(e,t,n,o,r);case 7:return Re(e,t,t.pendingProps,r),t.child;case 8:return Re(e,t,t.pendingProps.children,r),t.child;case 12:return Re(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,l=t.memoizedProps,s=o.value,te(Ua,n._currentValue),n._currentValue=s,l!==null)if(dt(l.value,s)){if(l.children===o.children&&!ze.current){t=Pt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){s=l.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=bt(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Il(l.return,r,t),i.lanes|=r;break}c=c.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(O(341));s.lanes|=r,i=s.alternate,i!==null&&(i.lanes|=r),Il(s,r,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}Re(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Mr(t,r),o=nt(o),n=n(o),t.flags|=1,Re(e,t,n,r),t.child;case 14:return n=t.type,o=lt(n,t.pendingProps),o=lt(n.type,o),fc(e,t,n,o,r);case 15:return Bd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:lt(n,o),ba(e,t),t.tag=1,We(n)?(e=!0,Ma(t)):e=!1,Mr(t,r),Fd(t,n,o),Rl(t,n,o,r),Fl(null,t,n,!0,e,r);case 19:return Vd(e,t,r);case 22:return Ud(e,t,r)}throw Error(O(156,t.tag))};function sm(e,t){return Ru(e,t)}function Dp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,r,n){return new Dp(e,t,r,n)}function Ys(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ip(e){if(typeof e=="function")return Ys(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gs)return 11;if(e===ys)return 14}return 2}function Qt(e,t){var r=e.alternate;return r===null?(r=tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _a(e,t,r,n,o,l){var s=2;if(n=e,typeof e=="function")Ys(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Nr:return ur(r.children,o,l,t);case ps:s=8,o|=8;break;case al:return e=tt(12,r,t,o|2),e.elementType=al,e.lanes=l,e;case ol:return e=tt(13,r,t,o),e.elementType=ol,e.lanes=l,e;case ll:return e=tt(19,r,t,o),e.elementType=ll,e.lanes=l,e;case yu:return fo(r,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pu:s=10;break e;case gu:s=9;break e;case gs:s=11;break e;case ys:s=14;break e;case It:s=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=tt(s,r,t,o),t.elementType=e,t.type=n,t.lanes=l,t}function ur(e,t,r,n){return e=tt(7,e,n,t),e.lanes=r,e}function fo(e,t,r,n){return e=tt(22,e,n,t),e.elementType=yu,e.lanes=r,e.stateNode={isHidden:!1},e}function Qo(e,t,r){return e=tt(6,e,null,t),e.lanes=r,e}function qo(e,t,r){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lp(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Js(e,t,r,n,o,l,s,i,c){return e=new Lp(e,t,r,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=tt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(l),e}function Rp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function im(e){if(!e)return Yt;e=e._reactInternals;e:{if(xr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(We(r))return id(e,r,t)}return t}function cm(e,t,r,n,o,l,s,i,c){return e=Js(r,n,!0,e,o,l,s,i,c),e.context=im(null),r=e.current,n=Ae(),o=Gt(r),l=bt(n,o),l.callback=t??null,Ht(r,l,o),e.current.lanes=o,Vn(e,o,n),He(e,n),e}function ho(e,t,r,n){var o=t.current,l=Ae(),s=Gt(o);return r=im(r),t.context===null?t.context=r:t.pendingContext=r,t=bt(l,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ht(o,t,s),e!==null&&(ut(e,o,s,l),Ea(e,o,s)),s}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zs(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function Ap(){return null}var um=typeof reportError=="function"?reportError:function(e){console.error(e)};function ei(e){this._internalRoot=e}po.prototype.render=ei.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ho(e,t,null,null)};po.prototype.unmount=ei.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){ho(null,e,null,null)}),t[Ct]=null}};function po(e){this._internalRoot=e}po.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&t!==0&&t<Rt[r].priority;r++);Rt.splice(r,0,e),r===0&&Wu(e)}};function ti(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function jp(e,t,r,n,o){if(o){if(typeof n=="function"){var l=n;n=function(){var u=Ya(s);l.call(u)}}var s=cm(t,n,e,0,null,!1,!1,"",Cc);return e._reactRootContainer=s,e[Ct]=s.current,Dn(e.nodeType===8?e.parentNode:e),yr(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var i=n;n=function(){var u=Ya(c);i.call(u)}}var c=Js(e,0,!1,null,null,!1,!1,"",Cc);return e._reactRootContainer=c,e[Ct]=c.current,Dn(e.nodeType===8?e.parentNode:e),yr(function(){ho(t,c,r,n)}),c}function yo(e,t,r,n,o){var l=r._reactRootContainer;if(l){var s=l;if(typeof o=="function"){var i=o;o=function(){var c=Ya(s);i.call(c)}}ho(t,s,e,o)}else s=jp(r,t,e,o,n);return Ya(s)}Ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dn(t.pendingLanes);r!==0&&(xs(t,r|1),He(t,he()),!(J&6)&&(Qr=he()+500,er()))}break;case 13:yr(function(){var n=_t(e,1);if(n!==null){var o=Ae();ut(n,e,1,o)}}),Zs(e,1)}};Es=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=Ae();ut(t,e,134217728,r)}Zs(e,134217728)}};Bu=function(e){if(e.tag===13){var t=Gt(e),r=_t(e,t);if(r!==null){var n=Ae();ut(r,e,t,n)}Zs(e,t)}};Uu=function(){return ee};zu=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};gl=function(e,t,r){switch(t){case"input":if(cl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=lo(n);if(!o)throw Error(O(90));wu(n),cl(n,o)}}}break;case"textarea":Eu(e,r);break;case"select":t=r.value,t!=null&&Rr(e,!!r.multiple,t,!1)}};Pu=qs;Tu=yr;var Fp={usingClientEntryPoint:!1,Events:[Qn,_r,lo,Cu,_u,qs]},ln={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mp={bundleType:ln.bundleType,version:ln.version,rendererPackageName:ln.rendererPackageName,rendererConfig:ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iu(e),e===null?null:e.stateNode},findFiberByHostInstance:ln.findFiberByHostInstance||Ap,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{ro=fa.inject(Mp),gt=fa}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fp;Ye.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ti(t))throw Error(O(200));return Rp(e,t,null,r)};Ye.createRoot=function(e,t){if(!ti(e))throw Error(O(299));var r=!1,n="",o=um;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Js(e,1,!1,null,null,r,!1,n,o),e[Ct]=t.current,Dn(e.nodeType===8?e.parentNode:e),new ei(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Iu(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return yr(e)};Ye.hydrate=function(e,t,r){if(!go(t))throw Error(O(200));return yo(null,e,t,!0,r)};Ye.hydrateRoot=function(e,t,r){if(!ti(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,o=!1,l="",s=um;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=cm(t,null,e,1,r??null,o,!1,l,s),e[Ct]=t.current,Dn(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new po(t)};Ye.render=function(e,t,r){if(!go(t))throw Error(O(200));return yo(null,e,t,!1,r)};Ye.unmountComponentAtNode=function(e){if(!go(e))throw Error(O(40));return e._reactRootContainer?(yr(function(){yo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ct]=null})}),!0):!1};Ye.unstable_batchedUpdates=qs;Ye.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!go(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return yo(e,t,r,!1,n)};Ye.version="18.3.1-next-f1338f8080-20240426";function dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dm)}catch(e){console.error(e)}}dm(),du.exports=Ye;var Op=du.exports,_c=Op;rl.createRoot=_c.createRoot,rl.hydrateRoot=_c.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(this,arguments)}var Ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ot||(Ot={}));const Pc="popstate";function Bp(e){e===void 0&&(e={});function t(n,o){let{pathname:l,search:s,hash:i}=n.location;return Kl("",{pathname:l,search:s,hash:i},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:fm(o)}return zp(t,r,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Up(){return Math.random().toString(36).substr(2,8)}function Tc(e,t){return{usr:e.state,key:e.key,idx:t}}function Kl(e,t,r,n){return r===void 0&&(r=null),Bn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yr(t):t,{state:r,key:t&&t.key||n||Up()})}function fm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function zp(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:l=!1}=n,s=o.history,i=Ot.Pop,c=null,u=p();u==null&&(u=0,s.replaceState(Bn({},s.state,{idx:u}),""));function p(){return(s.state||{idx:null}).idx}function f(){i=Ot.Pop;let $=p(),g=$==null?null:$-u;u=$,c&&c({action:i,location:S.location,delta:g})}function h($,g){i=Ot.Push;let d=Kl(S.location,$,g);r&&r(d,$),u=p()+1;let y=Tc(d,u),_=S.createHref(d);try{s.pushState(y,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(_)}l&&c&&c({action:i,location:S.location,delta:1})}function E($,g){i=Ot.Replace;let d=Kl(S.location,$,g);r&&r(d,$),u=p();let y=Tc(d,u),_=S.createHref(d);s.replaceState(y,"",_),l&&c&&c({action:i,location:S.location,delta:0})}function k($){let g=o.location.origin!=="null"?o.location.origin:o.location.href,d=typeof $=="string"?$:fm($);return d=d.replace(/ $/,"%20"),ye(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let S={get action(){return i},get location(){return e(o,s)},listen($){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Pc,f),c=$,()=>{o.removeEventListener(Pc,f),c=null}},createHref($){return t(o,$)},createURL:k,encodeLocation($){let g=k($);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:E,go($){return s.go($)}};return S}var $c;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($c||($c={}));function Wp(e,t,r){return r===void 0&&(r="/"),Hp(e,t,r,!1)}function Hp(e,t,r,n){let o=typeof t=="string"?Yr(t):t,l=gm(o.pathname||"/",r);if(l==null)return null;let s=hm(e);Vp(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let u=rg(l);i=eg(s[c],u,n)}return i}function hm(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(l,s,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=dr([n,c.relativePath]),p=r.concat(c);l.children&&l.children.length>0&&(ye(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hm(l.children,t,p,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Jp(u,l.index),routesMeta:p})};return e.forEach((l,s)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))o(l,s);else for(let c of pm(l.path))o(l,s,c)}),t}function pm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let s=pm(n.join("/")),i=[];return i.push(...s.map(c=>c===""?l:[l,c].join("/"))),o&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Zp(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gp=/^:[\w-]+$/,Qp=3,qp=2,Kp=1,Xp=10,Yp=-2,Dc=e=>e==="*";function Jp(e,t){let r=e.split("/"),n=r.length;return r.some(Dc)&&(n+=Yp),t&&(n+=qp),r.filter(o=>!Dc(o)).reduce((o,l)=>o+(Gp.test(l)?Qp:l===""?Kp:Xp),n)}function Zp(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function eg(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,o={},l="/",s=[];for(let i=0;i<n.length;++i){let c=n[i],u=i===n.length-1,p=l==="/"?t:t.slice(l.length)||"/",f=Ic({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ic({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(o,f.params),s.push({params:o,pathname:dr([l,f.pathname]),pathnameBase:lg(dr([l,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(l=dr([l,f.pathnameBase]))}return s}function Ic(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tg(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],s=l.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:n.reduce((u,p,f)=>{let{paramName:h,isOptional:E}=p;if(h==="*"){let S=i[f]||"";s=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const k=i[f];return E&&!k?u[h]=void 0:u[h]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:s,pattern:e}}function tg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),mm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function rg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ng(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Yr(e):e;return{pathname:r?r.startsWith("/")?r:ag(r,t):t,search:sg(n),hash:ig(o)}}function ag(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ko(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function og(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ym(e,t){let r=og(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vm(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Yr(e):(o=Bn({},e),ye(!o.pathname||!o.pathname.includes("?"),Ko("?","pathname","search",o)),ye(!o.pathname||!o.pathname.includes("#"),Ko("#","pathname","hash",o)),ye(!o.search||!o.search.includes("#"),Ko("#","search","hash",o)));let l=e===""||o.pathname==="",s=l?"/":o.pathname,i;if(s==null)i=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=ng(o,i),u=s&&s!=="/"&&s.endsWith("/"),p=(l||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const dr=e=>e.join("/").replace(/\/\/+/g,"/"),lg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ig=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wm=["post","put","patch","delete"];new Set(wm);const ug=["get",...wm];new Set(ug);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}const ri=w.createContext(null),dg=w.createContext(null),Kn=w.createContext(null),vo=w.createContext(null),tr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),xm=w.createContext(null);function Xn(){return w.useContext(vo)!=null}function ni(){return Xn()||ye(!1),w.useContext(vo).location}function Em(e){w.useContext(Kn).static||w.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=w.useContext(tr);return e?bg():mg()}function mg(){Xn()||ye(!1);let e=w.useContext(ri),{basename:t,future:r,navigator:n}=w.useContext(Kn),{matches:o}=w.useContext(tr),{pathname:l}=ni(),s=JSON.stringify(ym(o,r.v7_relativeSplatPath)),i=w.useRef(!1);return Em(()=>{i.current=!0}),w.useCallback(function(u,p){if(p===void 0&&(p={}),!i.current)return;if(typeof u=="number"){n.go(u);return}let f=vm(u,JSON.parse(s),l,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:dr([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,s,l,e])}function wo(){let{matches:e}=w.useContext(tr),t=e[e.length-1];return t?t.params:{}}function fg(e,t){return hg(e,t)}function hg(e,t,r,n){Xn()||ye(!1);let{navigator:o,static:l}=w.useContext(Kn),{matches:s}=w.useContext(tr),i=s[s.length-1],c=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let p=ni(),f;if(t){var h;let g=typeof t=="string"?Yr(t):t;u==="/"||(h=g.pathname)!=null&&h.startsWith(u)||ye(!1),f=g}else f=p;let E=f.pathname||"/",k=E;if(u!=="/"){let g=u.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(g.length).join("/")}let S=!l&&r&&r.matches&&r.matches.length>0?r.matches:Wp(e,{pathname:k}),$=wg(S&&S.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:dr([u,o.encodeLocation?o.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:dr([u,o.encodeLocation?o.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return t&&$?w.createElement(vo.Provider,{value:{location:Un({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ot.Pop}},$):$}function pg(){let e=Ng(),t=cg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:o},r):null,l)}const gg=w.createElement(pg,null);class yg extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(tr.Provider,{value:this.props.routeContext},w.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vg(e){let{routeContext:t,match:r,children:n}=e,o=w.useContext(ri);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(tr.Provider,{value:t},n)}function wg(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=(o=r)==null?void 0:o.errors;if(i!=null){let p=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||ye(!1),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<s.length;p++){let f=s[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:h,errors:E}=r,k=f.route.loader&&h[f.route.id]===void 0&&(!E||E[f.route.id]===void 0);if(f.route.lazy||k){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((p,f,h)=>{let E,k=!1,S=null,$=null;r&&(E=i&&f.route.id?i[f.route.id]:void 0,S=f.route.errorElement||gg,c&&(u<0&&h===0?(Sg("route-fallback",!1),k=!0,$=null):u===h&&(k=!0,$=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),d=()=>{let y;return E?y=S:k?y=$:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=p,w.createElement(vg,{match:f,routeContext:{outlet:p,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(yg,{location:r.location,revalidation:r.revalidation,component:S,error:E,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var km=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(km||{}),Ja=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ja||{});function xg(e){let t=w.useContext(ri);return t||ye(!1),t}function Eg(e){let t=w.useContext(dg);return t||ye(!1),t}function kg(e){let t=w.useContext(tr);return t||ye(!1),t}function Nm(e){let t=kg(),r=t.matches[t.matches.length-1];return r.route.id||ye(!1),r.route.id}function Ng(){var e;let t=w.useContext(xm),r=Eg(Ja.UseRouteError),n=Nm(Ja.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bg(){let{router:e}=xg(km.UseNavigateStable),t=Nm(Ja.UseNavigateStable),r=w.useRef(!1);return Em(()=>{r.current=!0}),w.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Un({fromRouteId:t},l)))},[e,t])}const Lc={};function Sg(e,t,r){!t&&!Lc[e]&&(Lc[e]=!0)}function Cg(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _g(e){let{to:t,replace:r,state:n,relative:o}=e;Xn()||ye(!1);let{future:l,static:s}=w.useContext(Kn),{matches:i}=w.useContext(tr),{pathname:c}=ni(),u=$e(),p=vm(t,ym(i,l.v7_relativeSplatPath),c,o==="path"),f=JSON.stringify(p);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:o}),[u,f,o,r,n]),null}function Oe(e){ye(!1)}function Pg(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Ot.Pop,navigator:l,static:s=!1,future:i}=e;Xn()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:l,static:s,future:Un({v7_relativeSplatPath:!1},i)}),[c,i,l,s]);typeof n=="string"&&(n=Yr(n));let{pathname:p="/",search:f="",hash:h="",state:E=null,key:k="default"}=n,S=w.useMemo(()=>{let $=gm(p,c);return $==null?null:{location:{pathname:$,search:f,hash:h,state:E,key:k},navigationType:o}},[c,p,f,h,E,k,o]);return S==null?null:w.createElement(Kn.Provider,{value:u},w.createElement(vo.Provider,{children:r,value:S}))}function Tg(e){let{children:t,location:r}=e;return fg(Xl(t),r)}new Promise(()=>{});function Xl(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,o)=>{if(!w.isValidElement(n))return;let l=[...t,o];if(n.type===w.Fragment){r.push.apply(r,Xl(n.props.children,l));return}n.type!==Oe&&ye(!1),!n.props.index||!n.props.children||ye(!1);let s={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Xl(n.props.children,l)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $g="6";try{window.__reactRouterVersion=$g}catch{}const Dg="startTransition",Rc=Rf[Dg];function Ig(e){let{basename:t,children:r,future:n,window:o}=e,l=w.useRef();l.current==null&&(l.current=Bp({window:o,v5Compat:!0}));let s=l.current,[i,c]=w.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},p=w.useCallback(f=>{u&&Rc?Rc(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>s.listen(p),[s,p]),w.useEffect(()=>Cg(n),[n]),w.createElement(Pg,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:s,future:n})}var Ac;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ac||(Ac={}));var jc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jc||(jc={}));const z="http://localhost:8080/api",Fc={LOGIN:`${z}/auth/login`,REGISTER:`${z}/auth/register`},bm=w.createContext(),Mc={success:{bgColor:"bg-green-100 border-green-500 text-green-700",icon:"bx bx-check-circle"},error:{bgColor:"bg-red-100 border-red-500 text-red-700",icon:"bx bx-error-circle"},warning:{bgColor:"bg-yellow-100 border-yellow-500 text-yellow-700",icon:"bx bx-info-circle"},info:{bgColor:"bg-blue-100 border-blue-500 text-blue-700",icon:"bx bx-info-circle"}},Lg=({children:e})=>{const[t,r]=w.useState([]),n=w.useCallback((l,s="info",i=3e3)=>{const c=Date.now();return r(u=>[...u,{id:c,message:l,type:s}]),setTimeout(()=>{o(c)},i),c},[]),o=w.useCallback(l=>{r(s=>s.filter(i=>i.id!==l))},[]);return a.createElement(bm.Provider,{value:{addToast:n,removeToast:o}},e,a.createElement("div",{className:"fixed top-5 right-5 z-50 space-y-3"},t.map(l=>a.createElement("div",{key:l.id,className:`p-4 rounded-lg border-l-4 shadow-md animate-fadeIn ${Mc[l.type].bgColor}`},a.createElement("div",{className:"flex items-center"},a.createElement("i",{className:`${Mc[l.type].icon} text-2xl mr-3`}),a.createElement("span",{className:"font-medium"},l.message),a.createElement("button",{onClick:()=>o(l.id),className:"ml-4 text-gray-500 hover:text-gray-700"},a.createElement("i",{className:"bx bx-x text-xl"})))))))},De=()=>{const e=w.useContext(bm);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Rg=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState({email:"",password:""}),[o,l]=w.useState({firstName:"",lastName:"",username:"",email:"",password:"",role:"BEGINNER"}),s=$e(),{addToast:i}=De(),c=async p=>{p.preventDefault();try{const f=await fetch(Fc.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password})});let h;try{h=await f.json()}catch{h={message:`Error: ${f.status} ${f.statusText}`}}f.ok?(localStorage.setItem("token",h.token),i("Login successful!","success"),s("/Profile")):i(h.message||"Login failed. Please check your credentials.","error")}catch(f){console.error("Error:",f),i("An error occurred during login. Please try again.","error")}},u=async p=>{p.preventDefault();try{const f=await fetch(Fc.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});let h;try{h=await f.json()}catch{h={message:`Error: ${f.status} ${f.statusText}`}}f.ok?(i("Registration successful! Please login.","success"),t(!1)):i(h.message||"Registration failed. Please try again.","error")}catch(f){console.error("Error:",f),i("An error occurred during registration. Please try again.","error")}};return a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"},a.createElement("div",{className:"relative w-[900px] h-[600px] bg-white m-5 rounded-2xl shadow-2xl overflow-hidden"},a.createElement("div",{className:`absolute w-1/2 h-full bg-white flex items-center text-gray-800 text-center p-12 z-10 transition-all duration-700 ease-in-out ${e?"opacity-0 pointer-events-none right-1/2":"opacity-100 right-0"}`},a.createElement("form",{onSubmit:c,className:"w-full"},a.createElement("h1",{className:"text-4xl font-bold mb-3 text-gray-800 tracking-wide"},"Welcome Back"),a.createElement("div",{className:"w-16 h-1 bg-gradient-to-r from-indigo-600 to-purple-600 mx-auto mb-6 rounded-full"}),a.createElement("p",{className:"text-gray-600 mb-8"},"Enter your credentials to access your account"),a.createElement("div",{className:"relative my-7"},a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden mb-1 group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-3 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bxs-envelope text-xl"})),a.createElement("input",{type:"email",placeholder:"Email Address",required:!0,value:r.email,onChange:p=>n({...r,email:p.target.value}),className:"flex-1 py-3 px-4 border-0 bg-transparent outline-none text-gray-800"})),a.createElement("div",{className:"h-0.5 w-0 bg-indigo-600 transition-all duration-500 group-focus-within:w-full"})),a.createElement("div",{className:"relative my-7"},a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden mb-1 group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-3 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bxs-lock-alt text-xl"})),a.createElement("input",{type:"password",placeholder:"Password",required:!0,value:r.password,onChange:p=>n({...r,password:p.target.value}),className:"flex-1 py-3 px-4 border-0 bg-transparent outline-none text-gray-800"}))),a.createElement("div",{className:"flex justify-between items-center mb-8"},a.createElement("label",{className:"flex items-center text-gray-600 text-sm cursor-pointer"},a.createElement("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 mr-2"}),"Remember me"),a.createElement("a",{href:"#",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-all"},"Forgot Password?")),a.createElement("button",{type:"submit",className:"w-full h-12 rounded-lg shadow-md border-none cursor-pointer text-base text-white font-semibold bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-lg"},"Sign In"),a.createElement("div",{className:"relative flex items-center justify-center my-6"},a.createElement("div",{className:"flex-grow h-px bg-gray-300"}),a.createElement("span",{className:"mx-2 text-xs text-gray-500 bg-white px-2"},"OR CONTINUE WITH"),a.createElement("div",{className:"flex-grow h-px bg-gray-300"})),a.createElement("div",{className:"flex justify-center"},a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-10 h-10 rounded-full border border-gray-300 text-xl text-gray-700 mx-2 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-google"})),a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-10 h-10 rounded-full border border-gray-300 text-xl text-gray-700 mx-2 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-facebook"})),a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-10 h-10 rounded-full border border-gray-300 text-xl text-gray-700 mx-2 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-github"})),a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-10 h-10 rounded-full border border-gray-300 text-xl text-gray-700 mx-2 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-linkedin"}))))),a.createElement("div",{className:`absolute w-1/2 h-full bg-white overflow-y-auto px-12 py-8 scrollbar-thin scrollbar-thumb-indigo-500 scrollbar-track-gray-100 text-gray-800 text-center z-10 transition-all duration-700 ease-in-out ${e?"opacity-100 left-0":"opacity-0 pointer-events-none right-0"}`},a.createElement("form",{onSubmit:u,className:"w-full max-w-md mx-auto"},a.createElement("h1",{className:"text-3xl font-bold mb-3 text-gray-800 tracking-wide"},"Create Account"),a.createElement("div",{className:"w-16 h-1 bg-gradient-to-r from-indigo-600 to-purple-600 mx-auto mb-4 rounded-full"}),a.createElement("p",{className:"text-gray-600 mb-6"},"Join our community today"),a.createElement("div",{className:"grid grid-cols-2 gap-3 mb-4"},a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bx-user text-lg"})),a.createElement("input",{type:"text",placeholder:"First Name",value:o.firstName,onChange:p=>l({...o,firstName:p.target.value}),className:"flex-1 py-2.5 px-2 border-0 bg-transparent outline-none text-sm text-gray-800"})),a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bx-user text-lg"})),a.createElement("input",{type:"text",placeholder:"Last Name",value:o.lastName,onChange:p=>l({...o,lastName:p.target.value}),className:"flex-1 py-2.5 px-2 border-0 bg-transparent outline-none text-sm text-gray-800"}))),a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden mb-3 group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bx-at text-lg"})),a.createElement("input",{type:"text",placeholder:"Username",required:!0,value:o.username,onChange:p=>l({...o,username:p.target.value}),className:"flex-1 py-2.5 px-3 border-0 bg-transparent outline-none text-sm text-gray-800"})),a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden mb-3 group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bxs-envelope text-lg"})),a.createElement("input",{type:"email",placeholder:"Email Address",required:!0,value:o.email,onChange:p=>l({...o,email:p.target.value}),className:"flex-1 py-2.5 px-3 border-0 bg-transparent outline-none text-sm text-gray-800"})),a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden mb-3 group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bxs-lock-alt text-lg"})),a.createElement("input",{type:"password",placeholder:"Password",required:!0,value:o.password,onChange:p=>l({...o,password:p.target.value}),className:"flex-1 py-2.5 px-3 border-0 bg-transparent outline-none text-sm text-gray-800"})),a.createElement("div",{className:"flex items-center bg-gray-50 rounded-lg overflow-hidden mb-4 group focus-within:ring-2 focus-within:ring-indigo-400 transition-all duration-300"},a.createElement("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 group-focus-within:bg-indigo-600 group-focus-within:text-white transition-all duration-300"},a.createElement("i",{className:"bx bxs-graduation text-lg"})),a.createElement("select",{value:o.role,onChange:p=>l({...o,role:p.target.value}),className:"flex-1 py-2.5 px-3 border-0 bg-transparent outline-none text-sm text-gray-800 appearance-none"},a.createElement("option",{value:"BEGINNER"},"Beginner"),a.createElement("option",{value:"INTERMEDIATE"},"Intermediate"),a.createElement("option",{value:"ADVANCED"},"Advanced")),a.createElement("div",{className:"pr-4"},a.createElement("i",{className:"bx bx-chevron-down text-lg text-gray-500"}))),a.createElement("div",{className:"flex items-center mb-4"},a.createElement("input",{type:"checkbox",id:"terms",className:"form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 mr-2"}),a.createElement("label",{htmlFor:"terms",className:"text-xs text-gray-600"},"I agree to the ",a.createElement("a",{href:"#",className:"text-indigo-600 hover:underline"},"Terms of Service")," and ",a.createElement("a",{href:"#",className:"text-indigo-600 hover:underline"},"Privacy Policy"))),a.createElement("button",{type:"submit",className:"w-full h-10 rounded-lg shadow-md border-none cursor-pointer text-sm text-white font-semibold bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-lg"},"Create Account"),a.createElement("div",{className:"relative flex items-center justify-center my-5"},a.createElement("div",{className:"flex-grow h-px bg-gray-300"}),a.createElement("span",{className:"mx-2 text-xs text-gray-500 bg-white px-2"},"OR SIGN UP WITH"),a.createElement("div",{className:"flex-grow h-px bg-gray-300"})),a.createElement("div",{className:"flex justify-center gap-3"},a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-9 h-9 rounded-full border border-gray-300 text-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-google"})),a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-9 h-9 rounded-full border border-gray-300 text-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-facebook"})),a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-9 h-9 rounded-full border border-gray-300 text-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-github"})),a.createElement("a",{href:"#",className:"inline-flex justify-center items-center w-9 h-9 rounded-full border border-gray-300 text-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all"},a.createElement("i",{className:"bx bxl-linkedin"}))))),a.createElement("div",{className:"absolute w-full h-full"},a.createElement("div",{className:"absolute w-full h-full overflow-hidden"},a.createElement("div",{className:`absolute w-[300%] h-full rounded-[150px] transition-all duration-[1.8s] ease-in-out transform ${e?"left-[calc(-50%+900px)]":"-left-[250%]"} bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-500`})),a.createElement("div",{className:`absolute left-0 w-1/2 h-full flex flex-col justify-center items-center z-20 transition-all duration-700 ease-in-out ${e?"opacity-0 -translate-x-full":"opacity-100 translate-x-0"} text-white px-12`},a.createElement("div",{className:"flex items-center justify-center mb-4"},a.createElement("i",{className:"bx bxs-user-plus text-5xl"})),a.createElement("h1",{className:"text-4xl font-bold mb-4"},"New Here?"),a.createElement("p",{className:"mb-8 text-center text-white/90"},"Sign up and discover a great amount of opportunities!"),a.createElement("button",{className:"w-48 h-12 bg-transparent rounded-full font-semibold border-2 border-white text-white hover:bg-white hover:text-indigo-600 transition-all duration-300",onClick:()=>t(!0)},"Create Account")),a.createElement("div",{className:`absolute right-0 w-1/2 h-full flex flex-col justify-center items-center z-20 transition-all duration-700 ease-in-out ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-full"} text-white px-12`},a.createElement("div",{className:"flex items-center justify-center mb-4"},a.createElement("i",{className:"bx bxs-user-check text-5xl"})),a.createElement("h1",{className:"text-4xl font-bold mb-4"},"One of Us?"),a.createElement("p",{className:"mb-8 text-center text-white/90"},"Login to access your profile and continue your learning journey!"),a.createElement("button",{className:"w-48 h-12 bg-transparent rounded-full font-semibold border-2 border-white text-white hover:bg-white hover:text-indigo-600 transition-all duration-300",onClick:()=>t(!1)},"Sign In")))))},Ag=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t},jg=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const o=e[r++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=e[r++];t[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=e[r++],s=e[r++],i=e[r++],c=((o&7)<<18|(l&63)<<12|(s&63)<<6|i&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const l=e[r++],s=e[r++];t[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|s&63)}}return t.join("")},Cm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<e.length;o+=3){const l=e[o],s=o+1<e.length,i=s?e[o+1]:0,c=o+2<e.length,u=c?e[o+2]:0,p=l>>2,f=(l&3)<<4|i>>4;let h=(i&15)<<2|u>>6,E=u&63;c||(E=64,s||(h=64)),n.push(r[p],r[f],r[h],r[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):jg(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<e.length;){const l=r[e.charAt(o++)],i=o<e.length?r[e.charAt(o)]:0;++o;const u=o<e.length?r[e.charAt(o)]:64;++o;const f=o<e.length?r[e.charAt(o)]:64;if(++o,l==null||i==null||u==null||f==null)throw new Fg;const h=l<<2|i>>4;if(n.push(h),u!==64){const E=i<<4&240|u>>2;if(n.push(E),f!==64){const k=u<<6&192|f;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mg=function(e){const t=Sm(e);return Cm.encodeByteArray(t,!0)},Za=function(e){return Mg(e).replace(/\./g,"")},Og=function(e){try{return Cm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=()=>Bg().__FIREBASE_DEFAULTS__,zg=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Wg=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Og(e[1]);return t&&JSON.parse(t)},_m=()=>{try{return Ag()||Ug()||zg()||Wg()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Hg=e=>{var t,r;return(r=(t=_m())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},Vg=e=>{const t=Hg(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Pm=()=>{var e;return(e=_m())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",o=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e),i="";return[Za(JSON.stringify(r)),Za(JSON.stringify(s)),i].join(".")}function qg(){try{return typeof indexedDB=="object"}catch{return!1}}function Kg(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="FirebaseError";class Jr extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Xg,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tm.prototype.create)}}class Tm{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},o=`${this.service}/${t}`,l=this.errors[t],s=l?Yg(l,n):"Error",i=`${this.serviceName}: ${s} (${o}).`;return new Jr(o,i,n)}}function Yg(e,t){return e.replace(Jg,(r,n)=>{const o=t[n];return o!=null?String(o):`<${n}?>`})}const Jg=/\{\$([^}]+)}/g;function Yl(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const o of r){if(!n.includes(o))return!1;const l=e[o],s=t[o];if(Oc(l)&&Oc(s)){if(!Yl(l,s))return!1}else if(l!==s)return!1}for(const o of n)if(!r.includes(o))return!1;return!0}function Oc(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e){return e&&e._delegate?e._delegate:e}class zn{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Gg;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t0(t))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(t=or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=or){return this.instances.has(t)}getOptions(t=or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[l,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(l);n===i&&s.resolve(o)}return o}onInit(t,r){var n;const o=this.normalizeInstanceIdentifier(r),l=(n=this.onInitCallbacks.get(o))!==null&&n!==void 0?n:new Set;l.add(t),this.onInitCallbacks.set(o,l);const s=this.instances.get(o);return s&&t(s,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const o of n)try{o(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e0(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=or){return this.component?this.component.multipleInstances?t:or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e0(e){return e===or?void 0:e}function t0(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Zg(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ae||(ae={}));const n0={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},a0=ae.INFO,o0={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},l0=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),o=o0[t];if(o)console[o](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class s0{constructor(t){this.name=t,this._logLevel=a0,this._logHandler=l0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?n0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const i0=(e,t)=>t.some(r=>e instanceof r);let Bc,Uc;function c0(){return Bc||(Bc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u0(){return Uc||(Uc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $m=new WeakMap,Jl=new WeakMap,Dm=new WeakMap,Xo=new WeakMap,ai=new WeakMap;function d0(e){const t=new Promise((r,n)=>{const o=()=>{e.removeEventListener("success",l),e.removeEventListener("error",s)},l=()=>{r(qt(e.result)),o()},s=()=>{n(e.error),o()};e.addEventListener("success",l),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&$m.set(r,e)}).catch(()=>{}),ai.set(t,e),t}function m0(e){if(Jl.has(e))return;const t=new Promise((r,n)=>{const o=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",s),e.removeEventListener("abort",s)},l=()=>{r(),o()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",l),e.addEventListener("error",s),e.addEventListener("abort",s)});Jl.set(e,t)}let Zl={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Jl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Dm.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qt(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function f0(e){Zl=e(Zl)}function h0(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Yo(this),t,...r);return Dm.set(n,t.sort?t.sort():[t]),qt(n)}:u0().includes(e)?function(...t){return e.apply(Yo(this),t),qt($m.get(this))}:function(...t){return qt(e.apply(Yo(this),t))}}function p0(e){return typeof e=="function"?h0(e):(e instanceof IDBTransaction&&m0(e),i0(e,c0())?new Proxy(e,Zl):e)}function qt(e){if(e instanceof IDBRequest)return d0(e);if(Xo.has(e))return Xo.get(e);const t=p0(e);return t!==e&&(Xo.set(e,t),ai.set(t,e)),t}const Yo=e=>ai.get(e);function g0(e,t,{blocked:r,upgrade:n,blocking:o,terminated:l}={}){const s=indexedDB.open(e,t),i=qt(s);return n&&s.addEventListener("upgradeneeded",c=>{n(qt(s.result),c.oldVersion,c.newVersion,qt(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),i.then(c=>{l&&c.addEventListener("close",()=>l()),o&&c.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),i}const y0=["get","getKey","getAll","getAllKeys","count"],v0=["put","add","delete","clear"],Jo=new Map;function zc(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Jo.get(t))return Jo.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=v0.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||y0.includes(r)))return;const l=async function(s,...i){const c=this.transaction(s,o?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(i.shift())),(await Promise.all([u[r](...i),o&&c.done]))[0]};return Jo.set(t,l),l}f0(e=>({...e,get:(t,r,n)=>zc(t,r)||e.get(t,r,n),has:(t,r)=>!!zc(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(x0(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function x0(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const es="@firebase/app",Wc="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt=new s0("@firebase/app"),E0="@firebase/app-compat",k0="@firebase/analytics-compat",N0="@firebase/analytics",b0="@firebase/app-check-compat",S0="@firebase/app-check",C0="@firebase/auth",_0="@firebase/auth-compat",P0="@firebase/database",T0="@firebase/data-connect",$0="@firebase/database-compat",D0="@firebase/functions",I0="@firebase/functions-compat",L0="@firebase/installations",R0="@firebase/installations-compat",A0="@firebase/messaging",j0="@firebase/messaging-compat",F0="@firebase/performance",M0="@firebase/performance-compat",O0="@firebase/remote-config",B0="@firebase/remote-config-compat",U0="@firebase/storage",z0="@firebase/storage-compat",W0="@firebase/firestore",H0="@firebase/vertexai",V0="@firebase/firestore-compat",G0="firebase",Q0="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]",q0={[es]:"fire-core",[E0]:"fire-core-compat",[N0]:"fire-analytics",[k0]:"fire-analytics-compat",[S0]:"fire-app-check",[b0]:"fire-app-check-compat",[C0]:"fire-auth",[_0]:"fire-auth-compat",[P0]:"fire-rtdb",[T0]:"fire-data-connect",[$0]:"fire-rtdb-compat",[D0]:"fire-fn",[I0]:"fire-fn-compat",[L0]:"fire-iid",[R0]:"fire-iid-compat",[A0]:"fire-fcm",[j0]:"fire-fcm-compat",[F0]:"fire-perf",[M0]:"fire-perf-compat",[O0]:"fire-rc",[B0]:"fire-rc-compat",[U0]:"fire-gcs",[z0]:"fire-gcs-compat",[W0]:"fire-fst",[V0]:"fire-fst-compat",[H0]:"fire-vertex","fire-js":"fire-js",[G0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Map,K0=new Map,rs=new Map;function Hc(e,t){try{e.container.addComponent(t)}catch(r){Tt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function to(e){const t=e.name;if(rs.has(t))return Tt.debug(`There were multiple attempts to register component ${t}.`),!1;rs.set(t,e);for(const r of eo.values())Hc(r,e);for(const r of K0.values())Hc(r,e);return!0}function X0(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Y0(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kt=new Tm("app","Firebase",J0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=Q0;function Im(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:ts,automaticDataCollectionEnabled:!1},t),o=n.name;if(typeof o!="string"||!o)throw Kt.create("bad-app-name",{appName:String(o)});if(r||(r=Pm()),!r)throw Kt.create("no-options");const l=eo.get(o);if(l){if(Yl(r,l.options)&&Yl(n,l.config))return l;throw Kt.create("duplicate-app",{appName:o})}const s=new r0(o);for(const c of rs.values())s.addComponent(c);const i=new Z0(r,n,s);return eo.set(o,i),i}function ty(e=ts){const t=eo.get(e);if(!t&&e===ts&&Pm())return Im();if(!t)throw Kt.create("no-app",{appName:e});return t}function Br(e,t,r){var n;let o=(n=q0[e])!==null&&n!==void 0?n:e;r&&(o+=`-${r}`);const l=o.match(/\s|\//),s=t.match(/\s|\//);if(l||s){const i=[`Unable to register library "${o}" with version "${t}":`];l&&i.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&s&&i.push("and"),s&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tt.warn(i.join(" "));return}to(new zn(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="firebase-heartbeat-database",ny=1,Wn="firebase-heartbeat-store";let Zo=null;function Lm(){return Zo||(Zo=g0(ry,ny,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wn)}catch(r){console.warn(r)}}}}).catch(e=>{throw Kt.create("idb-open",{originalErrorMessage:e.message})})),Zo}async function ay(e){try{const r=(await Lm()).transaction(Wn),n=await r.objectStore(Wn).get(Rm(e));return await r.done,n}catch(t){if(t instanceof Jr)Tt.warn(t.message);else{const r=Kt.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Tt.warn(r.message)}}}async function Vc(e,t){try{const n=(await Lm()).transaction(Wn,"readwrite");await n.objectStore(Wn).put(t,Rm(e)),await n.done}catch(r){if(r instanceof Jr)Tt.warn(r.message);else{const n=Kt.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Tt.warn(n.message)}}}function Rm(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=1024,ly=30;class sy{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cy(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Gc();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(s=>s.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>ly){const s=uy(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Tt.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Gc(),{heartbeatsToSend:n,unsentEntries:o}=iy(this._heartbeatsCache.heartbeats),l=Za(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(r){return Tt.warn(r),""}}}function Gc(){return new Date().toISOString().substring(0,10)}function iy(e,t=oy){const r=[];let n=e.slice();for(const o of e){const l=r.find(s=>s.agent===o.agent);if(l){if(l.dates.push(o.date),Qc(r)>t){l.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Qc(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class cy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qg()?Kg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ay(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vc(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vc(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Qc(e){return Za(JSON.stringify({version:2,heartbeats:e})).length}function uy(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(e){to(new zn("platform-logger",t=>new w0(t),"PRIVATE")),to(new zn("heartbeat",t=>new sy(t),"PRIVATE")),Br(es,Wc,e),Br(es,Wc,"esm2017"),Br("fire-js","")}dy("");var my="firebase",fy="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(my,fy,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="firebasestorage.googleapis.com",jm="storageBucket",hy=2*60*1e3,py=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe extends Jr{constructor(t,r,n=0){super(el(t),`Firebase Storage: ${r} (${el(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return el(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var me;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(me||(me={}));function el(e){return"storage/"+e}function oi(){const e="An unknown error occurred, please check the error payload for server response.";return new fe(me.UNKNOWN,e)}function gy(e){return new fe(me.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function yy(e){return new fe(me.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vy(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(me.UNAUTHENTICATED,e)}function wy(){return new fe(me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xy(e){return new fe(me.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Ey(){return new fe(me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ky(){return new fe(me.CANCELED,"User canceled the upload/download.")}function Ny(e){return new fe(me.INVALID_URL,"Invalid URL '"+e+"'.")}function by(e){return new fe(me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Sy(){return new fe(me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jm+"' property when initializing the app?")}function Cy(){return new fe(me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _y(){return new fe(me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Py(e){return new fe(me.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ns(e){return new fe(me.INVALID_ARGUMENT,e)}function Fm(){return new fe(me.APP_DELETED,"The Firebase app was deleted.")}function Ty(e){return new fe(me.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kn(e,t){return new fe(me.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function sn(e){throw new fe(me.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=qe.makeFromUrl(t,r)}catch{return new qe(t,"")}if(n.path==="")return n;throw by(t)}static makeFromUrl(t,r){let n=null;const o="([A-Za-z0-9.\\-_]+)";function l(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const s="(/(.*))?$",i=new RegExp("^gs://"+o+s,"i"),c={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const p="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",E=new RegExp(`^https?://${f}/${p}/b/${o}/o${h}`,"i"),k={bucket:1,path:3},S=r===Am?"(?:storage.googleapis.com|storage.cloud.google.com)":r,$="([^?#]*)",g=new RegExp(`^https?://${S}/${o}/${$}`,"i"),y=[{regex:i,indices:c,postModify:l},{regex:E,indices:k,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<y.length;_++){const T=y[_],C=T.regex.exec(t);if(C){const P=C[T.indices.bucket];let I=C[T.indices.path];I||(I=""),n=new qe(P,I),T.postModify(n);break}}if(n==null)throw Ny(t);return n}}class $y{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t,r){let n=1,o=null,l=null,s=!1,i=0;function c(){return i===2}let u=!1;function p(...$){u||(u=!0,t.apply(null,$))}function f($){o=setTimeout(()=>{o=null,e(E,c())},$)}function h(){l&&clearTimeout(l)}function E($,...g){if(u){h();return}if($){h(),p.call(null,$,...g);return}if(c()||s){h(),p.call(null,$,...g);return}n<64&&(n*=2);let y;i===1?(i=2,y=0):y=(n+Math.random())*1e3,f(y)}let k=!1;function S($){k||(k=!0,h(),!u&&(o!==null?($||(i=2),clearTimeout(o),f(0)):$||(i=1)))}return f(0),l=setTimeout(()=>{s=!0,S(!0)},r),S}function Iy(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e){return e!==void 0}function Ry(e){return typeof e=="object"&&!Array.isArray(e)}function li(e){return typeof e=="string"||e instanceof String}function qc(e){return si()&&e instanceof Blob}function si(){return typeof Blob<"u"}function Kc(e,t,r,n){if(n<t)throw ns(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw ns(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function Mm(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const o=t(n)+"="+t(e[n]);r=r+o+"&"}return r=r.slice(0,-1),r}var mr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(mr||(mr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(e,t){const r=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return r||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,r,n,o,l,s,i,c,u,p,f,h=!0){this.url_=t,this.method_=r,this.headers_=n,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=s,this.callback_=i,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,k)=>{this.resolve_=E,this.reject_=k,this.start_()})}start_(){const t=(n,o)=>{if(o){n(!1,new ha(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const s=i=>{const c=i.loaded,u=i.lengthComputable?i.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&l.addUploadProgressListener(s),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(s),this.pendingConnection_=null;const i=l.getErrorCode()===mr.NO_ERROR,c=l.getStatus();if(!i||Ay(c,this.additionalRetryCodes_)&&this.retry){const p=l.getErrorCode()===mr.ABORT;n(!1,new ha(!1,null,p));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new ha(u,l))})},r=(n,o)=>{const l=this.resolve_,s=this.reject_,i=o.connection;if(o.wasSuccessCode)try{const c=this.callback_(i,i.getResponse());Ly(c)?l(c):l()}catch(c){s(c)}else if(i!==null){const c=oi();c.serverResponse=i.getErrorText(),this.errorCallback_?s(this.errorCallback_(i,c)):s(c)}else if(o.canceled){const c=this.appDelete_?Fm():ky();s(c)}else{const c=Ey();s(c)}};this.canceled_?r(!1,new ha(!1,null,!0)):this.backoffId_=Dy(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Iy(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ha{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Fy(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function My(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Oy(e,t){t&&(e["X-Firebase-GMPID"]=t)}function By(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Uy(e,t,r,n,o,l,s=!0){const i=Mm(e.urlParams),c=e.url+i,u=Object.assign({},e.headers);return Oy(u,t),Fy(u,r),My(u,l),By(u,n),new jy(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wy(...e){const t=zy();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(si())return new Blob(e);throw new fe(me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Hy(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e){if(typeof atob>"u")throw Py("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tl{constructor(t,r){this.data=t,this.contentType=r||null}}function Gy(e,t){switch(e){case pt.RAW:return new tl(Om(t));case pt.BASE64:case pt.BASE64URL:return new tl(Bm(e,t));case pt.DATA_URL:return new tl(qy(t),Ky(t))}throw oi()}function Om(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const l=n,s=e.charCodeAt(++r);n=65536|(l&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function Qy(e){let t;try{t=decodeURIComponent(e)}catch{throw kn(pt.DATA_URL,"Malformed data URL.")}return Om(t)}function Bm(e,t){switch(e){case pt.BASE64:{const o=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(o||l)throw kn(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pt.BASE64URL:{const o=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(o||l)throw kn(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Vy(t)}catch(o){throw o.message.includes("polyfill")?o:kn(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n}class Um{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw kn(pt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Xy(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function qy(e){const t=new Um(e);return t.base64?Bm(pt.BASE64,t.rest):Qy(t.rest)}function Ky(e){return new Um(e).contentType}function Xy(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,r){let n=0,o="";qc(t)?(this.data_=t,n=t.size,o=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,r){if(qc(this.data_)){const n=this.data_,o=Hy(n,t,r);return o===null?null:new jt(o)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new jt(n,!0)}}static getBlob(...t){if(si()){const r=t.map(n=>n instanceof jt?n.data_:n);return new jt(Wy.apply(null,r))}else{const r=t.map(s=>li(s)?Gy(pt.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const o=new Uint8Array(n);let l=0;return r.forEach(s=>{for(let i=0;i<s.length;i++)o[l++]=s[i]}),new jt(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){let t;try{t=JSON.parse(e)}catch{return null}return Ry(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Jy(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function Wm(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(e,t){return t}class Le{constructor(t,r,n,o){this.server=t,this.local=r||t,this.writable=!!n,this.xform=o||Zy}}let pa=null;function ev(e){return!li(e)||e.length<2?e:Wm(e)}function Hm(){if(pa)return pa;const e=[];e.push(new Le("bucket")),e.push(new Le("generation")),e.push(new Le("metageneration")),e.push(new Le("name","fullPath",!0));function t(l,s){return ev(s)}const r=new Le("name");r.xform=t,e.push(r);function n(l,s){return s!==void 0?Number(s):s}const o=new Le("size");return o.xform=n,e.push(o),e.push(new Le("timeCreated")),e.push(new Le("updated")),e.push(new Le("md5Hash",null,!0)),e.push(new Le("cacheControl",null,!0)),e.push(new Le("contentDisposition",null,!0)),e.push(new Le("contentEncoding",null,!0)),e.push(new Le("contentLanguage",null,!0)),e.push(new Le("contentType",null,!0)),e.push(new Le("metadata","customMetadata",!0)),pa=e,pa}function tv(e,t){function r(){const n=e.bucket,o=e.fullPath,l=new qe(n,o);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:r})}function rv(e,t,r){const n={};n.type="file";const o=r.length;for(let l=0;l<o;l++){const s=r[l];n[s.local]=s.xform(n,t[s.server])}return tv(n,e),n}function Vm(e,t,r){const n=zm(t);return n===null?null:rv(e,n,r)}function nv(e,t,r,n){const o=zm(t);if(o===null||!li(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const s=encodeURIComponent;return l.split(",").map(u=>{const p=e.bucket,f=e.fullPath,h="/b/"+s(p)+"/o/"+s(f),E=ii(h,r,n),k=Mm({alt:"media",token:u});return E+k})[0]}function av(e,t){const r={},n=t.length;for(let o=0;o<n;o++){const l=t[o];l.writable&&(r[l.server]=e[l.local])}return JSON.stringify(r)}class Gm{constructor(t,r,n,o){this.url=t,this.method=r,this.handler=n,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e){if(!e)throw oi()}function ov(e,t){function r(n,o){const l=Vm(e,o,t);return Qm(l!==null),l}return r}function lv(e,t){function r(n,o){const l=Vm(e,o,t);return Qm(l!==null),nv(l,o,e.host,e._protocol)}return r}function qm(e){function t(r,n){let o;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?o=wy():o=vy():r.getStatus()===402?o=yy(e.bucket):r.getStatus()===403?o=xy(e.path):o=n,o.status=r.getStatus(),o.serverResponse=n.serverResponse,o}return t}function sv(e){const t=qm(e);function r(n,o){let l=t(n,o);return n.getStatus()===404&&(l=gy(e.path)),l.serverResponse=o.serverResponse,l}return r}function iv(e,t,r){const n=t.fullServerUrl(),o=ii(n,e.host,e._protocol),l="GET",s=e.maxOperationRetryTime,i=new Gm(o,l,lv(e,r),s);return i.errorHandler=sv(t),i}function cv(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function uv(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=cv(null,t)),n}function dv(e,t,r,n,o){const l=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function i(){let y="";for(let _=0;_<2;_++)y=y+Math.random().toString().slice(2);return y}const c=i();s["Content-Type"]="multipart/related; boundary="+c;const u=uv(t,n,o),p=av(u,r),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",E=jt.getBlob(f,n,h);if(E===null)throw Cy();const k={name:u.fullPath},S=ii(l,e.host,e._protocol),$="POST",g=e.maxUploadRetryTime,d=new Gm(S,$,ov(e,r),g);return d.urlParams=k,d.headers=s,d.body=E.uploadData(),d.errorHandler=qm(t),d}class mv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,o){if(this.sent_)throw sn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class fv extends mv{initXhr(){this.xhr_.responseType="text"}}function Km(){return new fv}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,r){this._service=t,r instanceof qe?this._location=r:this._location=qe.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new vr(t,r)}get root(){const t=new qe(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wm(this._location.path)}get storage(){return this._service}get parent(){const t=Yy(this._location.path);if(t===null)return null;const r=new qe(this._location.bucket,t);return new vr(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Ty(t)}}function hv(e,t,r){e._throwIfRoot("uploadBytes");const n=dv(e.storage,e._location,Hm(),new jt(t,!0),r);return e.storage.makeRequestWithTokens(n,Km).then(o=>({metadata:o,ref:e}))}function pv(e){e._throwIfRoot("getDownloadURL");const t=iv(e.storage,e._location,Hm());return e.storage.makeRequestWithTokens(t,Km).then(r=>{if(r===null)throw _y();return r})}function gv(e,t){const r=Jy(e._location.path,t),n=new qe(e._location.bucket,r);return new vr(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){return/^[A-Za-z]+:\/\//.test(e)}function vv(e,t){return new vr(e,t)}function Xm(e,t){if(e instanceof ci){const r=e;if(r._bucket==null)throw Sy();const n=new vr(r,r._bucket);return t!=null?Xm(n,t):n}else return t!==void 0?gv(e,t):e}function wv(e,t){if(t&&yv(t)){if(e instanceof ci)return vv(e,t);throw ns("To use ref(service, url), the first argument must be a Storage instance.")}else return Xm(e,t)}function Xc(e,t){const r=t==null?void 0:t[jm];return r==null?null:qe.makeFromBucketSpec(r,e)}function xv(e,t,r,n={}){e.host=`${t}:${r}`,e._protocol="http";const{mockUserToken:o}=n;o&&(e._overrideAuthToken=typeof o=="string"?o:Qg(o,e.app.options.projectId))}class ci{constructor(t,r,n,o,l){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Am,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hy,this._maxUploadRetryTime=py,this._requests=new Set,o!=null?this._bucket=qe.makeFromBucketSpec(o,this._host):this._bucket=Xc(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=qe.makeFromBucketSpec(this._url,t):this._bucket=Xc(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Kc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Kc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Y0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vr(this,t)}_makeRequest(t,r,n,o,l=!0){if(this._deleted)return new $y(Fm());{const s=Uy(t,this._appId,n,o,r,this._firebaseVersion,l);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,o).getPromise()}}const Yc="@firebase/storage",Jc="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="storage";function as(e,t,r){return e=xo(e),hv(e,t,r)}function os(e){return e=xo(e),pv(e)}function ls(e,t){return e=xo(e),wv(e,t)}function Ev(e=ty(),t){e=xo(e);const n=X0(e,Ym).getImmediate({identifier:t}),o=Vg("storage");return o&&kv(n,...o),n}function kv(e,t,r,n={}){xv(e,t,r,n)}function Nv(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ci(r,n,o,t,ey)}function bv(){to(new zn(Ym,Nv,"PUBLIC").setMultipleInstances(!0)),Br(Yc,Jc,""),Br(Yc,Jc,"esm2017")}bv();const Sv={apiKey:"AIzaSyCJBG6tKmmF9ftWQktJSP_O15zRMeGkA_w",authDomain:"vehicle-service-manageme-4a48d.firebaseapp.com",projectId:"vehicle-service-manageme-4a48d",storageBucket:"vehicle-service-manageme-4a48d.appspot.com",messagingSenderId:"1038146211943",appId:"1:1038146211943:web:98ae1fa96f567f906e44c2",measurementId:"G-HJ0TSKDJ7P"},Cv=Im(Sv),ss=Ev(Cv),xe="/assets/avatar-11f5baf6.png",vt=({user:e})=>{const t=$e(),{addToast:r}=De(),[n,o]=w.useState(""),[l,s]=w.useState([]),[i,c]=w.useState(!1),[u,p]=w.useState(!1),f=w.useRef(null),[h,E]=w.useState([]),[k,S]=w.useState(0),[$,g]=w.useState(!1),[d,y]=w.useState(!1),_=w.useRef(null),[T,C]=w.useState(0);w.useEffect(()=>{const x=D=>{f.current&&!f.current.contains(D.target)&&c(!1),_.current&&!_.current.contains(D.target)&&g(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),w.useEffect(()=>{const x=async()=>{if(e)try{const A=localStorage.getItem("token"),B=await fetch(`${z}/users/notifications/count`,{headers:{Authorization:`Bearer ${A}`}});if(B.ok){const V=await B.json();S(V.count)}const j=await fetch(`${z}/messages/unread-count`,{headers:{Authorization:`Bearer ${A}`}});if(j.ok){const V=await j.json();C(V.count)}}catch(A){console.error("Error fetching unread counts:",A)}};x();const D=setInterval(x,3e4);return()=>clearInterval(D)},[e]);const P=async()=>{if(e){y(!0);try{const x=localStorage.getItem("token"),D=await fetch(`${z}/users/notifications`,{headers:{Authorization:`Bearer ${x}`}});if(D.ok){const A=await D.json();E(A)}}catch(x){console.error("Error fetching notifications:",x)}finally{y(!1)}}},I=()=>{$||P(),g(!$)},M=async x=>{try{const D=localStorage.getItem("token");(await fetch(`${z}/users/notifications/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify([x])})).ok&&(E(B=>B.map(j=>j.id===x?{...j,read:!0}:j)),S(B=>Math.max(0,B-1)))}catch(D){console.error("Error marking notification as read:",D),r("Failed to mark notification as read","error")}},F=async()=>{try{const x=localStorage.getItem("token");(await fetch(`${z}/users/notifications/mark-all-read`,{method:"POST",headers:{Authorization:`Bearer ${x}`}})).ok&&(E(A=>A.map(B=>({...B,read:!0}))),S(0),r("All notifications marked as read","success"))}catch(x){console.error("Error marking all notifications as read:",x),r("Failed to mark all notifications as read","error")}},b=async()=>{try{const x=localStorage.getItem("token");(await fetch(`${z}/users/notifications/clear-all`,{method:"DELETE",headers:{Authorization:`Bearer ${x}`}})).ok&&(E([]),S(0),r("All notifications cleared","success"))}catch(x){console.error("Error clearing all notifications:",x),r("Failed to clear notifications","error")}},m=x=>{switch(x.read||M(x.id),x.type){case"FOLLOW":t(`/profile/${x.senderId}`);break;case"LIKE":case"COMMENT":case"SHARE":t(`/post/${x.resourceId}`);break}g(!1)},v=async x=>{p(!0);try{const D=localStorage.getItem("token"),A=await fetch(`${z}/users/search?query=${encodeURIComponent(x)}`,{headers:{Authorization:`Bearer ${D}`}});if(!A.ok)throw new Error("Search failed");const B=await A.json();console.log("Search results with server follow status:",B),s(B)}catch(D){console.error("Error refreshing search results:",D)}finally{p(!1)}},N=async x=>{if(!x.trim()){s([]),c(!1);return}await v(x),c(!0)};w.useEffect(()=>{const x=setTimeout(()=>{n&&N(n)},300);return()=>clearTimeout(x)},[n]);const U=x=>{t(`/profile/${x}`),c(!1),o("")},W=async(x,D)=>{try{const A=D;s(G=>G.map(Y=>Y.id===x?{...Y,isFollowing:!D}:Y));const B=localStorage.getItem("token"),j=A?"unfollow":"follow",V=await fetch(`${z}/users/${j}/${x}`,{method:"POST",headers:{Authorization:`Bearer ${B}`}});if(!V.ok){s(Y=>Y.map(se=>se.id===x?{...se,isFollowing:A}:se));const G=await V.json();throw new Error(G.message||`Failed to ${j} user`)}r(A?"Successfully unfollowed user":"Successfully followed user","success"),setTimeout(async()=>{if(n)try{const G=localStorage.getItem("token"),Y=await fetch(`${z}/users/search?query=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${G}`}});if(Y.ok){const Ie=(await Y.json()).map(pe=>pe.id===x?{...pe,isFollowing:!A}:pe);s(Ie)}}catch(G){console.error("Error refreshing search results:",G)}},500)}catch(A){console.error(`Error ${D?"unfollowing":"following"} user:`,A),r(A.message||`Failed to ${D?"unfollow":"follow"} user. Please try again.`,"error")}},R=x=>{if(!x)return"";const D=new Date(x),B=new Date-D,j=Math.floor(B/1e3),V=Math.floor(j/60),G=Math.floor(V/60),Y=Math.floor(G/24);return j<60?"just now":V<60?`${V}m ago`:G<24?`${G}h ago`:Y<7?`${Y}d ago`:D.toLocaleDateString()},L=()=>{n.trim()&&(v(n),c(!0))};return w.useEffect(()=>{n.trim()&&i&&v(n)},[e]),a.createElement("nav",{className:"bg-white shadow-md sticky top-0 z-50"},a.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},a.createElement("div",{className:"flex justify-between h-16"},a.createElement("div",{className:"flex items-center"},a.createElement("span",{className:"text-ExtraDarkColor text-xl font-bold cursor-pointer mr-6",onClick:()=>t("/dashboard")},"Fitness Hub"),a.createElement("div",{className:"relative",ref:f},a.createElement("div",{className:"relative"},a.createElement("input",{type:"text",className:"bg-gray-100 px-4 py-2 pr-10 rounded-full w-64 focus:outline-none focus:ring-2 focus:ring-DarkColor focus:bg-white transition-colors",placeholder:"Search for users...",value:n,onChange:x=>o(x.target.value),onFocus:L}),a.createElement("div",{className:"absolute right-3 top-2.5"},u?a.createElement("div",{className:"animate-spin h-5 w-5 border-2 border-DarkColor border-t-transparent rounded-full"}):a.createElement("i",{className:"bx bx-search text-gray-500"}))),i&&a.createElement("div",{className:"absolute mt-2 w-80 bg-white rounded-lg shadow-lg overflow-hidden z-10"},l.length>0?a.createElement("ul",null,l.map(x=>a.createElement("li",{key:x.id,className:"border-b border-gray-100 last:border-0"},a.createElement("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50"},a.createElement("div",{className:"flex items-center cursor-pointer",onClick:()=>U(x.id)},a.createElement("img",{src:x.profilePicture||xe,alt:x.fullName||x.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800"},x.firstName&&x.lastName?`${x.firstName} ${x.lastName}`:x.firstName||x.lastName||x.username),a.createElement("p",{className:"text-xs text-gray-500"},"@",x.username),a.createElement("p",{className:"text-sm text-gray-500 truncate"},x.bio||"No bio"))),a.createElement("button",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.isFollowing?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-DarkColor text-white hover:bg-ExtraDarkColor"}`,onClick:()=>W(x.id,x.isFollowing)},x.isFollowing?"Unfollow":"Follow"))))):a.createElement("div",{className:"p-4 text-center text-gray-500"},'No users found matching "',n,'"')))),a.createElement("div",{className:"flex items-center space-x-4"},a.createElement("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>t("/dashboard"),title:"Dashboard"},a.createElement("i",{className:"bx bxs-home text-xl text-DarkColor"})),a.createElement("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>t("/learning-plans"),title:"Learning Plans"},a.createElement("i",{className:"bx bx-book-open text-xl text-DarkColor"})),a.createElement("div",{className:"relative",ref:_},a.createElement("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative",onClick:I,title:"Notifications"},a.createElement("i",{className:"bx bx-bell text-xl text-DarkColor"}),k>0&&a.createElement("span",{className:"absolute top-0 right-0 h-5 w-5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center"},k>9?"9+":k)),$&&a.createElement("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg overflow-hidden z-50"},a.createElement("div",{className:"flex justify-between items-center p-3 border-b border-gray-100"},a.createElement("h3",{className:"font-semibold text-gray-700"},"Notifications"),a.createElement("div",{className:"flex space-x-2"},a.createElement("button",{onClick:F,className:"text-xs text-blue-600 hover:text-blue-800",title:"Mark all as read"},"Mark all read"),a.createElement("button",{onClick:b,className:"text-xs text-red-600 hover:text-red-800",title:"Clear all notifications"},"Clear all"))),a.createElement("div",{className:"max-h-96 overflow-y-auto"},d?a.createElement("div",{className:"flex justify-center items-center p-4"},a.createElement("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-gray-500 border-t-DarkColor"})):h.length>0?a.createElement("ul",null,h.map(x=>a.createElement("li",{key:x.id,className:`border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${x.read?"":"bg-blue-50"}`,onClick:()=>m(x)},a.createElement("div",{className:"flex p-3"},a.createElement("img",{src:x.senderProfilePicture||xe,alt:x.senderUsername,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3 flex-1"},a.createElement("div",{className:"flex justify-between"},a.createElement("p",{className:"text-sm text-gray-800"},a.createElement("span",{className:"font-medium"},x.message)),a.createElement("span",{className:"text-xs text-gray-500"},R(x.createdAt))),!x.read&&a.createElement("button",{className:"text-xs text-blue-600 hover:text-blue-800 mt-1",onClick:D=>{D.stopPropagation(),M(x.id)}},"Mark as read")))))):a.createElement("div",{className:"p-4 text-center text-gray-500"},a.createElement("p",null,"No notifications"))))),a.createElement("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative",onClick:()=>t("/messages"),title:"Messages"},a.createElement("i",{className:"bx bx-message-square-detail text-xl text-DarkColor"}),T>0&&a.createElement("span",{className:"absolute top-0 right-0 h-5 w-5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center"},T>9?"9+":T)),a.createElement("div",{className:"relative ml-3"},a.createElement("div",null,a.createElement("button",{className:"flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-DarkColor",onClick:()=>t("/profile"),title:"Profile"},a.createElement("img",{className:"h-8 w-8 rounded-full object-cover border-2 border-DarkColor",src:(e==null?void 0:e.profilePicture)||xe,alt:(e==null?void 0:e.username)||"User"}))))))))},_v="/assets/p-3a0914d2.png",Pv=({user:e,currentUser:t,isCurrentUserProfile:r,isEditing:n,imagePreview:o,triggerFileInput:l,fileInputRef:s,handleImageChange:i,isUploading:c,setIsEditing:u,handleLogout:p,handleFollowAction:f,handleShowFollowers:h,handleShowFollowing:E})=>{const k=$e();return a.createElement("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden max-w-7xl mx-auto mt-6"},a.createElement("div",{className:"h-80 overflow-hidden relative"},a.createElement("img",{className:"w-full object-cover h-full object-center transform hover:scale-105 transition-transform duration-500",src:_v,alt:"Cover"}),a.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"})),a.createElement("div",{className:"relative px-6 pb-6"},a.createElement("div",{className:"absolute -top-20 left-6 sm:left-8 z-20"},a.createElement("div",{className:"h-40 w-40 rounded-xl border-4 border-white shadow-xl overflow-hidden group relative"},a.createElement("img",{className:"h-full w-full object-cover",src:o||e.profilePicture||xe,alt:e.username}),n&&a.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:l},a.createElement("i",{className:"bx bx-camera text-3xl text-white"}),a.createElement("input",{type:"file",ref:s,onChange:i,accept:"image/*",className:"hidden"})),c&&a.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70"},a.createElement("div",{className:"w-16 h-16 border-4 border-t-4 border-DarkColor rounded-full animate-spin"})))),a.createElement("div",{className:"ml-0 sm:ml-48 pt-24 sm:pt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between"},a.createElement("div",null,a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center"},a.createElement("h1",{className:"text-3xl font-bold text-ExtraDarkColor mb-1 sm:mb-0"},e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||e.lastName||e.username),a.createElement("span",{className:"sm:ml-4 px-3 py-1 text-xs inline-flex items-center rounded-full bg-DarkColor text-white font-medium"},e.role)),a.createElement("p",{className:"text-gray-600 mt-1 text-sm flex items-center"},a.createElement("i",{className:"bx bx-user mr-1"})," @",e.username),a.createElement("p",{className:"text-gray-600 mt-1 text-sm flex items-center"},a.createElement("i",{className:"bx bx-envelope mr-1"})," ",e.email),a.createElement("div",{className:"mt-3 flex space-x-4"},a.createElement("button",{onClick:h,className:"flex items-center text-sm text-gray-700 hover:text-DarkColor transition-colors"},a.createElement("i",{className:"bx bx-user-plus text-DarkColor"}),a.createElement("span",{className:"ml-1 font-medium"},e.followers?e.followers.length:0," Followers")),a.createElement("button",{onClick:E,className:"flex items-center text-sm text-gray-700 hover:text-DarkColor transition-colors"},a.createElement("i",{className:"bx bx-user-check text-DarkColor"}),a.createElement("span",{className:"ml-1 font-medium"},e.following?e.following.length:0," Following")))),a.createElement("div",{className:"mt-4 sm:mt-0 flex space-x-2"},r?a.createElement(a.Fragment,null,n?a.createElement("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm"},"Cancel"):a.createElement("button",{onClick:()=>u(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm flex items-center"},a.createElement("i",{className:"bx bx-edit mr-1"})," Edit Profile"),a.createElement("button",{onClick:p,className:"px-4 py-2 bg-DarkColor text-white rounded-lg hover:bg-ExtraDarkColor transition-colors shadow-sm flex items-center"},a.createElement("i",{className:"bx bx-log-out mr-1"})," Logout")):a.createElement(a.Fragment,null,a.createElement("button",{onClick:f,className:`px-4 py-2 ${e!=null&&e.isFollowing?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-DarkColor text-white hover:bg-ExtraDarkColor"} rounded-lg transition-colors shadow-sm flex items-center`},a.createElement("i",{className:`bx ${e!=null&&e.isFollowing?"bx-user-minus":"bx-user-plus"} mr-1`}),e!=null&&e.isFollowing?"Unfollow":"Follow"),a.createElement("button",{onClick:()=>k(`/messages/${e.id}`),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors shadow-sm flex items-center"},a.createElement("i",{className:"bx bx-message-square-detail mr-1"})," Message"))))))},Tv=({user:e,isEditing:t,editForm:r,setEditForm:n,handleEditSubmit:o,handleSkillChange:l,isUploading:s,imageUpload:i,imagePreview:c,setImageUpload:u,setImagePreview:p,triggerFileInput:f,fileInputRef:h})=>a.createElement("div",{className:"bg-white shadow-md rounded-lg p-6"},a.createElement("h2",{className:"text-lg font-semibold text-ExtraDarkColor mb-4 flex items-center"},a.createElement("i",{className:"bx bx-user-circle mr-2"}),"About"),t?a.createElement("form",{onSubmit:o,className:"space-y-4"},a.createElement("div",{className:"md:hidden mb-4"},a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Profile Picture"),a.createElement("button",{type:"button",onClick:f,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center justify-center"},a.createElement("i",{className:"bx bx-camera mr-2"}),i?"Change Image":"Upload Image"),c&&a.createElement("div",{className:"mt-2 relative h-24 w-24 mx-auto"},a.createElement("img",{src:c,alt:"Preview",className:"h-full w-full object-cover rounded-lg"}),a.createElement("button",{type:"button",onClick:()=>{u(null),p(null)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 shadow-md"},a.createElement("i",{className:"bx bx-x"})))),a.createElement("div",{className:"grid grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"First Name"),a.createElement("input",{type:"text",value:r.firstName||"",onChange:E=>n({...r,firstName:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",placeholder:"First Name"})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Last Name"),a.createElement("input",{type:"text",value:r.lastName||"",onChange:E=>n({...r,lastName:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",placeholder:"Last Name"}))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Bio"),a.createElement("textarea",{value:r.bio,onChange:E=>n({...r,bio:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",rows:"4",placeholder:"Tell us about yourself"})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Skills (comma separated)"),a.createElement("input",{type:"text",value:r.skills.join(", "),onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",placeholder:"JavaScript, React, etc."})),a.createElement("button",{type:"submit",disabled:s,className:`w-full px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor transition-colors shadow-sm flex items-center justify-center ${s?"opacity-50 cursor-not-allowed":""}`},s?a.createElement(a.Fragment,null,a.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Uploading..."):a.createElement(a.Fragment,null,a.createElement("i",{className:"bx bx-save mr-1"})," Save Changes"))):a.createElement(a.Fragment,null,a.createElement("div",{className:"bg-gray-50 p-4 rounded-lg mb-4"},a.createElement("p",{className:"text-gray-700 leading-relaxed"},e.bio||"No bio provided yet.")),a.createElement("h3",{className:"text-md font-semibold text-ExtraDarkColor mb-2 flex items-center"},a.createElement("i",{className:"bx bx-code-alt mr-2"}),"Skills"),a.createElement("div",{className:"flex flex-wrap gap-2"},e.skills&&e.skills.length>0?e.skills.map((E,k)=>a.createElement("span",{key:k,className:"px-3 py-1 bg-gray-100 text-DarkColor rounded-full text-sm font-medium shadow-sm hover:shadow-md transition-shadow"},E)):a.createElement("p",{className:"text-gray-500 text-sm"},"No skills added yet.")))),ui=({isOpen:e,onClose:t,post:r,currentUser:n})=>{const[o,l]=w.useState(""),[s,i]=w.useState(!1),{addToast:c}=De();if(!e||!r)return null;const u=async p=>{var f;p.preventDefault(),i(!0);try{const h=localStorage.getItem("token"),E=await fetch(`${z}/posts/${r.id}/share`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({shareMessage:o})});if(!E.ok){let $="Failed to share post";try{if((f=E.headers.get("content-type"))!=null&&f.includes("application/json")){const g=await E.json();$=g.error||g.message||$}else $=`Failed to share post: ${E.status} ${E.statusText}`}catch{$=`Failed to share post (${E.status})`}throw new Error($)}const k=E.headers.get("content-type");let S={};k&&k.includes("application/json")&&E.headers.get("content-length")!=="0"&&(S=await E.json(),console.log("Shared post response:",S)),c("Post shared successfully!","success"),l(""),t(),setTimeout(()=>{window.location.reload()},1e3)}catch(h){console.error("Error sharing post:",h),c(h.message||"Failed to share post. Please try again.","error")}finally{i(!1)}};return a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},a.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg"},a.createElement("div",{className:"flex justify-between items-center p-4 border-b"},a.createElement("h3",{className:"text-lg font-semibold text-ExtraDarkColor"},"Share Post"),a.createElement("button",{onClick:t,className:"text-gray-500 hover:text-gray-700"},a.createElement("i",{className:"bx bx-x text-2xl"}))),a.createElement("form",{onSubmit:u},a.createElement("div",{className:"p-4"},a.createElement("div",{className:"flex items-center mb-4"},a.createElement("img",{src:(n==null?void 0:n.profilePicture)||xe,alt:n==null?void 0:n.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800"},n!=null&&n.firstName&&(n!=null&&n.lastName)?`${n.firstName} ${n.lastName}`:(n==null?void 0:n.firstName)||(n==null?void 0:n.lastName)||(n==null?void 0:n.username)))),a.createElement("textarea",{value:o,onChange:p=>l(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",rows:"3",placeholder:"Write something about this post..."}),a.createElement("div",{className:"mt-4 p-3 border border-gray-200 rounded-lg bg-gray-50"},a.createElement("div",{className:"flex items-center mb-2"},a.createElement("img",{src:r.authorProfilePicture||xe,alt:r.authorUsername,className:"h-8 w-8 rounded-full object-cover"}),a.createElement("div",{className:"ml-2"},a.createElement("p",{className:"text-sm font-medium text-gray-800"},r.authorFirstName&&r.authorLastName?`${r.authorFirstName} ${r.authorLastName}`:r.authorFirstName||r.authorLastName||r.authorUsername))),a.createElement("p",{className:"text-sm text-gray-800 line-clamp-3"},r.content),r.mediaUrl&&a.createElement("div",{className:"mt-2 h-32 overflow-hidden rounded-md"},r.mediaType==="IMAGE"?a.createElement("img",{src:r.mediaUrl,alt:"Post media",className:"w-full h-full object-cover"}):a.createElement("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center"},a.createElement("i",{className:"bx bx-video text-3xl text-white"}))))),a.createElement("div",{className:"p-4 border-t border-gray-200 flex justify-end"},a.createElement("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors mr-2"},"Cancel"),a.createElement("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-DarkColor text-white rounded-lg hover:bg-ExtraDarkColor transition-colors"},s?a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sharing..."):"Share")))))},Eo=({isOpen:e,onClose:t,onConfirm:r,title:n,message:o,confirmText:l="Confirm",cancelText:s="Cancel"})=>e?a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},a.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6"},a.createElement("h3",{className:"text-lg font-semibold mb-2"},n),a.createElement("p",{className:"text-gray-600 mb-6"},o),a.createElement("div",{className:"flex justify-end space-x-3"},a.createElement("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"},s),a.createElement("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"},l)))):null,di=({post:e,currentUser:t,formatTime:r,onCommentAdded:n,onCommentDeleted:o})=>{var P;const[l,s]=w.useState(!1),[i,c]=w.useState(""),[u,p]=w.useState(!1),{addToast:f}=De(),h=$e(),[E,k]=w.useState(!1),[S,$]=w.useState(null),g=async I=>{if(I.preventDefault(),!!i.trim()){p(!0);try{const M=localStorage.getItem("token"),F=await fetch(`${z}/posts/${e.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({content:i})});if(!F.ok)throw new Error("Failed to add comment");const b=await F.json();c(""),s(!0),n&&n(b),f("Comment added successfully!","success")}catch(M){console.error("Error adding comment:",M),f("Failed to add comment. Please try again.","error")}finally{p(!1)}}},d=I=>{h(`/profile/${I}`)},y=()=>{s(!l)},_=I=>t&&(t.id===I.userId||t.id===e.authorId),T=I=>{$(I),k(!0)},C=()=>{typeof o=="function"&&S?o(e.id,S):console.warn("onCommentDeleted prop is not a function"),k(!1),$(null)};return a.createElement("div",{className:"mt-2"},a.createElement("div",{className:"flex items-center cursor-pointer py-2 text-gray-500 hover:text-DarkColor",onClick:y},a.createElement("i",{className:`bx ${l?"bx-chevron-up":"bx-chevron-down"} mr-2`}),a.createElement("span",null,((P=e.comments)==null?void 0:P.length)||0," Comments")),l&&a.createElement("div",{className:"mt-2 space-y-3"},a.createElement("form",{onSubmit:g,className:"flex space-x-2"},a.createElement("img",{src:(t==null?void 0:t.profilePicture)||xe,alt:t==null?void 0:t.username,className:"h-8 w-8 rounded-full object-cover"}),a.createElement("div",{className:"flex-1 relative"},a.createElement("input",{type:"text",value:i,onChange:I=>c(I.target.value),placeholder:"Write a comment...",className:"w-full px-3 py-2 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-DarkColor",disabled:u}),a.createElement("button",{type:"submit",disabled:!i.trim()||u,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-DarkColor disabled:text-gray-400"},u?a.createElement("i",{className:"bx bx-loader-alt animate-spin"}):a.createElement("i",{className:"bx bx-send"})))),a.createElement("div",{className:"space-y-3"},e.comments&&e.comments.length>0?e.comments.map(I=>a.createElement("div",{key:I.id,className:"flex space-x-2 group"},a.createElement("img",{src:I.userProfilePicture||xe,alt:I.username,className:"h-8 w-8 rounded-full object-cover cursor-pointer",onClick:()=>d(I.userId)}),a.createElement("div",{className:"flex-1"},a.createElement("div",{className:"bg-gray-100 px-3 py-2 rounded-lg relative"},a.createElement("p",{className:"font-medium text-sm text-gray-800 cursor-pointer hover:underline",onClick:()=>d(I.userId)},I.username),a.createElement("p",{className:"text-sm text-gray-700"},I.content),_(I)&&a.createElement("button",{className:"absolute right-2 top-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>T(I.id),title:"Delete comment"},a.createElement("i",{className:"bx bx-trash text-sm"}))),a.createElement("div",{className:"text-xs text-gray-500 mt-1 ml-2"},r(I.createdAt))))):a.createElement("p",{className:"text-center text-sm text-gray-500"},"No comments yet. Be the first to comment!"))),a.createElement(Eo,{isOpen:E,onClose:()=>k(!1),onConfirm:C,title:"Delete Comment",message:"Are you sure you want to delete this comment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}))},$v=({isCurrentUserProfile:e,user:t,currentUser:r,setShowPostModal:n,postFileInputRef:o,isLoadingPosts:l,posts:s,formatPostDate:i,handleLikePost:c,handleSharePost:u,handlePostUpdated:p,setPosts:f})=>{const h=$e(),{addToast:E}=De(),[k,S]=w.useState(!1),[$,g]=w.useState(null),[d,y]=w.useState({}),[_,T]=w.useState(!1),[C,P]=w.useState(null);w.useEffect(()=>{const N=async()=>{const U=localStorage.getItem("token"),W=s.filter(x=>x.originalPostId);if(W.length===0)return;const R=[...new Set(W.map(x=>x.originalPostId))],L={};for(const x of R)try{const D=await fetch(`${z}/posts/detail/${x}`,{headers:{Authorization:`Bearer ${U}`}});if(D.ok){const A=await D.json();L[x]=A}}catch(D){console.error("Error fetching original post:",D)}y(L)};s.length>0&&N()},[s]);const I=N=>{g(N),S(!0)},M=N=>{h(`/profile/${N}`)},F=(N,U=!0)=>a.createElement("div",{className:`${U?"":"border border-gray-200 rounded-lg mt-2 bg-gray-50"}`},a.createElement("div",{className:"flex items-center p-3"},a.createElement("img",{src:N.authorProfilePicture||xe,alt:N.authorUsername,className:"h-8 w-8 rounded-full object-cover cursor-pointer",onClick:()=>M(N.authorId)}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800 cursor-pointer hover:underline",onClick:()=>M(N.authorId)},N.authorFirstName&&N.authorLastName?`${N.authorFirstName} ${N.authorLastName}`:N.authorFirstName||N.authorLastName||N.authorUsername),a.createElement("p",{className:"text-xs text-gray-500"},i(N.createdAt)))),a.createElement("div",{className:"px-3 pb-3"},a.createElement("p",{className:"text-gray-800 whitespace-pre-line"},N.content),N.mediaUrl&&a.createElement("div",{className:"mt-3 rounded-lg overflow-hidden"},N.mediaType==="IMAGE"?a.createElement("img",{src:N.mediaUrl,alt:"Post media",className:"w-full h-auto"}):a.createElement("video",{src:N.mediaUrl,controls:!0,className:"w-full h-auto"})))),b=async(N,U)=>{try{const W=localStorage.getItem("token"),R=await fetch(`${z}/posts/${N}/comments/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}});if(!R.ok)throw new Error("Failed to delete comment");const L=await R.json();L.post&&p(L.post),E("Comment deleted successfully","success")}catch(W){console.error("Error deleting comment:",W),E("Failed to delete comment","error")}},m=N=>{P(N),T(!0)},v=async()=>{try{const N=localStorage.getItem("token");if(!(await fetch(`${z}/posts/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${N}`}})).ok)throw new Error("Failed to delete post");f(W=>W.filter(R=>R.id!==C)),E("Post deleted successfully","success")}catch(N){console.error("Error deleting post:",N),E("Failed to delete post","error")}finally{T(!1),P(null)}};return a.createElement("div",{className:"space-y-6"},e&&a.createElement("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition-shadow mb-6"},a.createElement("div",{className:"flex items-center space-x-3"},a.createElement("img",{src:(t==null?void 0:t.profilePicture)||xe,alt:t==null?void 0:t.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("button",{onClick:()=>n(!0),className:"bg-white text-gray-500 w-full text-left px-4 py-2 rounded-full border border-gray-300 hover:bg-gray-50"},"What's on your mind?")),a.createElement("div",{className:"flex mt-3 pt-3 border-t border-gray-200"},a.createElement("button",{onClick:()=>{n(!0),setTimeout(()=>{var N;return(N=o.current)==null?void 0:N.click()},100)},className:"flex-1 flex justify-center items-center text-gray-500 py-1 hover:bg-gray-100 rounded-md"},a.createElement("i",{className:"bx bx-image text-green-500 text-xl mr-2"})," Photo/Video"))),l?a.createElement("div",{className:"text-center py-20"},a.createElement("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-DarkColor"}),a.createElement("p",{className:"mt-2 text-gray-500"},"Loading posts...")):s.length>0?a.createElement("div",{className:"space-y-6"},s.map(N=>{var U;return a.createElement("div",{key:N.id,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},a.createElement("div",{className:"flex items-center mb-3 justify-between"},a.createElement("div",{className:"flex items-center"},a.createElement("img",{src:N.authorProfilePicture||xe,alt:N.authorUsername,className:"h-10 w-10 rounded-full object-cover cursor-pointer",onClick:()=>M(N.authorId)}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800 cursor-pointer hover:underline",onClick:()=>M(N.authorId)},N.authorFirstName&&N.authorLastName?`${N.authorFirstName} ${N.authorLastName}`:N.authorFirstName||N.authorLastName||N.authorUsername),a.createElement("p",{className:"text-xs text-gray-500"},i(N.createdAt)))),r&&N.authorId===r.id&&a.createElement("div",{className:"relative group"},a.createElement("button",{className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-gray-100",onClick:()=>m(N.id),title:"Delete post"},a.createElement("i",{className:"bx bx-trash"})))),N.originalPostId&&a.createElement("div",{className:"mb-3"},N.shareMessage&&a.createElement("p",{className:"text-gray-800 whitespace-pre-line mb-2"},N.shareMessage),a.createElement("div",{className:"border border-gray-200 rounded-lg bg-gray-50"},d[N.originalPostId]?F(d[N.originalPostId],!1):a.createElement("div",{className:"p-4 text-center text-gray-500"},a.createElement("p",null,"Original post is no longer available")))),!N.originalPostId&&a.createElement(a.Fragment,null,a.createElement("div",{className:"mb-3"},a.createElement("p",{className:"text-gray-800 whitespace-pre-line"},N.content)),N.mediaUrl&&a.createElement("div",{className:"mb-3 rounded-lg overflow-hidden"},N.mediaType==="IMAGE"?a.createElement("img",{src:N.mediaUrl,alt:"Post media",className:"w-full h-auto"}):a.createElement("video",{src:N.mediaUrl,controls:!0,className:"w-full h-auto"}))),a.createElement("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200"},a.createElement("button",{className:`flex items-center ${N.likes&&r&&N.likes.includes(r.id)?"text-blue-500 font-medium":"text-gray-500 hover:text-DarkColor"}`,onClick:()=>c(N.id)},a.createElement("i",{className:`bx ${N.likes&&r&&N.likes.includes(r.id)?"bxs-like":"bx-like"} mr-1`})," ",N.likes?N.likes.length:0," Likes"),a.createElement("button",{className:"flex items-center text-gray-500 hover:text-DarkColor"},a.createElement("i",{className:"bx bx-comment mr-1"})," ",((U=N.comments)==null?void 0:U.length)||0," Comments"),a.createElement("button",{className:"flex items-center text-gray-500 hover:text-DarkColor",onClick:()=>I(N.originalPostId&&d[N.originalPostId]||N)},a.createElement("i",{className:"bx bx-share mr-1"}),N.shares?N.shares.length:0," Shares")),a.createElement(di,{post:N,currentUser:r,formatTime:i,onCommentAdded:p,onCommentDeleted:b}))})):a.createElement("div",{className:"bg-gray-50 p-6 rounded-lg text-center border border-gray-100 shadow-sm hover:shadow-md transition-shadow"},a.createElement("i",{className:"bx bx-message-square-add text-5xl text-gray-400 mb-3"}),a.createElement("p",{className:"text-gray-600 mb-4"},"No posts yet. ",e?"Share your knowledge!":"This user has not posted anything yet."),e&&a.createElement("button",{onClick:()=>n(!0),className:"px-5 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor transition-colors shadow-sm inline-flex items-center"},a.createElement("i",{className:"bx bx-plus mr-2"})," Create Post")),a.createElement(ui,{isOpen:k,onClose:()=>S(!1),post:$,currentUser:r}),a.createElement(Eo,{isOpen:_,onClose:()=>T(!1),onConfirm:v,title:"Delete Post",message:"Are you sure you want to delete this post? This action cannot be undone and any shared versions of this post will also be removed.",confirmText:"Delete",cancelText:"Cancel"}))},Dv=()=>{const e=$e(),{addToast:t}=De(),[r,n]=w.useState(null),[o,l]=w.useState([]),[s,i]=w.useState([]),[c,u]=w.useState({}),[p,f]=w.useState(!0),[h,E]=w.useState(!1),[k,S]=w.useState(!1),[$,g]=w.useState(!1),[d,y]=w.useState(null);w.useEffect(()=>{const m=localStorage.getItem("token");if(!m){e("/auth");return}let v=!0;return(async()=>{try{const U=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${m}`}});if(!U.ok){if(U.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error("Failed to fetch user")}const W=await U.json();v&&n(W)}catch(U){v&&(console.error("Error fetching user:",U),t("Failed to load user data. Please try again.","error"))}})(),()=>{v=!1}},[e,t]),w.useEffect(()=>{if(!(r!=null&&r.id))return;let m=!0;return(async()=>{E(!0);try{const N=localStorage.getItem("token"),U=await fetch(`${z}/learning-plan/user/${r.id}`,{headers:{Authorization:`Bearer ${N}`}});if(!U.ok)throw new Error(`Failed to fetch fitness plans: ${U.status}`);const W=await U.json();if(m){const R=W.filter(x=>!x.sourcePlanId);l(R);const L=W.filter(x=>x.sourcePlanId);i(L)}}catch(N){m&&(console.error("Error fetching fitness plans:",N),t("Failed to load fitness plans. Please try again.","error"),l([]),i([]))}finally{m&&(E(!1),S(!1),f(!1))}})(),()=>{m=!1}},[r==null?void 0:r.id,t,e]),w.useEffect(()=>{if(s.length===0)return;let m=!0;return(async()=>{g(!0);try{const N=localStorage.getItem("token"),U=[...new Set(s.map(R=>R.sourcePlanId).filter(Boolean))],W={};await Promise.all(U.map(async R=>{try{const L=await fetch(`${z}/learning-plan/${R}`,{headers:{Authorization:`Bearer ${N}`}});if(!L.ok){if(L.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}console.warn(`Failed to fetch plan ${R}: ${L.status}`);return}const D=(await L.json()).userId,A=await fetch(`${z}/users/by-id/${D}`,{headers:{Authorization:`Bearer ${N}`}});if(!A.ok){if(A.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}console.warn(`Failed to fetch user ${D}: ${A.status}`),W[R]="Unknown";return}const B=await A.json();W[R]=B.username||"Unknown"}catch(L){console.error(`Error fetching user for plan ${R}:`,L),W[R]="Unknown"}})),m&&u(W)}catch(N){m&&(console.error("Error fetching usernames:",N),t("Failed to load usernames.","error"))}finally{m&&g(!1)}})(),()=>{m=!1}},[s,t,e]);const _=async m=>{if(window.confirm("Are you sure you want to delete this learning plan?"))try{const v=localStorage.getItem("token");if(!(await fetch(`${z}/learning-plan/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`}})).ok)throw new Error("Failed to delete learning plan");l(o.filter(U=>U.id!==m)),i(s.filter(U=>U.id!==m)),y(null),t("Learning plan deleted successfully!","success")}catch(v){console.error("Error deleting learning plan:",v),t("Failed to delete learning plan. Please try again.","error")}},T=m=>{e(`/learning-plans/edit/${m}`)},C=m=>{y(m)},P=()=>{y(null)},I=async m=>{try{const v=localStorage.getItem("token"),N=await fetch(`${z}/learning-plan/follow/${m}`,{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(!N.ok){if(N.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}if(N.status===400){const W=await N.json();t(W.error||"Cannot follow this learning plan.","error");return}if(N.status===404){t("Learning plan not found.","error");return}throw new Error(`Failed to follow learning plan: ${N.status}`)}t("Learning plan followed successfully!","success");const U=await fetch(`${z}/learning-plan/user/${r.id}`,{headers:{Authorization:`Bearer ${v}`}});if(U.ok){const W=await U.json();i(W.filter(R=>R.sourcePlanId))}}catch(v){console.error("Error following learning plan:",v),t(v.message||"Failed to follow learning plan.","error")}},M=m=>{if(!Array.isArray(m)||m.length===0)return 0;const v=m.filter(N=>N.status==="Completed").length;return Math.round(v/m.length*100)},F=async(m,v,N)=>{const U=N==="Completed"?"Not Started":"Completed",W=o.some(D=>D.id===m),R=W?o:s,L=W?l:i,x=R.map(D=>{if(D.id===m){const A=D.weeks.map((B,j)=>j===v?{...B,status:U}:B);return{...D,weeks:A}}return D});if(L(x),d&&d.id===m){const D={...d,weeks:x.find(A=>A.id===m).weeks};y(D)}try{const D=localStorage.getItem("token"),A=x.find(j=>j.id===m);if(!(await fetch(`${z}/learning-plan/${m}`,{method:"PUT",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify(A)})).ok)throw new Error("Failed to update week status")}catch(D){console.error("Error updating week status:",D),t("Failed to update week status. Please try again.","error");const A=R.map(B=>{if(B.id===m){const j=B.weeks.map((V,G)=>G===v?{...V,status:N}:V);return{...B,weeks:j}}return B});L(A),d&&d.id===m&&y({...d,weeks:A.find(B=>B.id===m).weeks})}},b={container:"min-h-screen bg-gradient-to-b from-blue-50 to-white",wrapper:"max-w-5xl mx-auto pt-8 pb-12 px-4 sm:px-6 lg:px-8",loadingContainer:"flex justify-center items-center min-h-screen",loadingSpinner:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600",loadingPlanSpinner:"animate-spin rounded-full h-8 w-8 border-t-3 border-b-3 border-indigo-600",emptyContainer:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-100",emptyText:"text-gray-500 font-medium",headerContainer:"flex justify-between items-center mb-8",headerTitle:"text-2xl font-bold text-gray-800",createButton:"px-5 py-2.5 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition-colors duration-200 font-medium flex items-center",planCardContainer:"grid gap-6 md:grid-cols-2",planCard:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",planCardHeader:"flex justify-between items-center mb-4",planTitle:"text-xl font-semibold text-gray-800 cursor-pointer hover:text-indigo-600 transition-colors duration-200",actionsContainer:"flex space-x-3",editButton:"text-indigo-600 hover:text-indigo-800 font-medium text-sm transition-colors duration-200",deleteButton:"text-red-500 hover:text-red-700 font-medium text-sm transition-colors duration-200",followButton:"text-green-600 hover:text-green-800 font-medium text-sm transition-colors duration-200",description:"text-gray-600 mb-4 line-clamp-2",metaInfo:"text-gray-500 text-sm flex items-center gap-2",sectionDivider:"my-12 border-t border-gray-200",sectionTitle:"text-2xl font-bold text-gray-800 mb-6",breadcrumbs:"flex space-x-6 items-center mb-6",breadcrumbLink:"text-gray-600 hover:text-indigo-600 font-medium text-sm transition-colors duration-200 flex items-center gap-1",detailCard:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 mb-6",detailTitle:"text-2xl font-bold text-gray-800 mb-3",authorContainer:"flex items-center mb-5 text-gray-600",authorIcon:"w-5 h-5 mr-2 text-gray-500",sectionTitleInner:"text-lg font-semibold text-gray-800 mb-3",divider:"border-t border-gray-100 my-6",resourceList:"space-y-3 mb-6",resourceItem:"flex items-center text-gray-600 hover:text-indigo-600 transition-colors duration-200",resourceIcon:"w-5 h-5 mr-3 text-gray-500",progressBar:"w-full bg-gray-200 rounded-full h-2.5 mb-4",progressFill:"bg-green-500 h-2.5 rounded-full",weekItem:"flex items-start p-4 border-l-4 border-transparent hover:bg-gray-50 transition-colors duration-200 rounded-r-lg",weekItemCompleted:"flex items-start p-4 border-l-4 border-green-500 bg-green-50 hover:bg-green-50 transition-colors duration-200 rounded-r-lg",checkbox:"mr-3 mt-1 h-5 w-5 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 transition-colors duration-200",weekTitle:"font-medium text-gray-700 mb-1",weekDescription:"text-gray-600 text-sm",shareButton:"text-gray-500 hover:text-indigo-600 transition-colors duration-200",likeButton:"text-gray-500 hover:text-pink-600 transition-colors duration-200"};return p?a.createElement("div",{className:b.loadingContainer},a.createElement("div",{className:b.loadingSpinner})):a.createElement("div",{className:b.container},a.createElement("div",{className:b.wrapper},d?a.createElement("div",null,a.createElement("div",{className:b.breadcrumbs},a.createElement("button",{onClick:P,className:b.breadcrumbLink},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back to Plans"),d.userId===r.id&&a.createElement("button",{onClick:()=>e("/learning-plans/create"),className:b.breadcrumbLink},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"New Plan")),a.createElement("div",{className:b.detailCard},a.createElement("div",{className:"flex justify-between"},a.createElement("h2",{className:b.detailTitle},d.title||"Untitled"),a.createElement("div",{className:"flex space-x-3"},d.userId===r.id?a.createElement(a.Fragment,null):d.sourcePlanId?a.createElement("button",{onClick:()=>_(d.id),className:b.deleteButton},"Unfollow"):a.createElement("button",{onClick:()=>I(d.id),className:b.followButton},"Follow"),a.createElement("button",{className:b.likeButton},a.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))),a.createElement("button",{className:b.shareButton},a.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"}))))),a.createElement("div",{className:b.authorContainer},a.createElement("svg",{className:b.authorIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})),a.createElement("span",null,d.sourcePlanId?`Followed by ${(r==null?void 0:r.name)||"User"} (Created by @${$?"Loading...":c[d.sourcePlanId]||"Unknown"})`:d.userId===r.id?r==null?void 0:r.name:c[d.id]||"Unknown")),a.createElement("div",{className:"mb-4"},a.createElement("h3",{className:b.sectionTitleInner},"About This Plan"),a.createElement("p",{className:"text-gray-600 leading-relaxed"},d.description||"No description provided for this learning plan.")),a.createElement("div",{className:b.divider}),d.resources&&Array.isArray(d.resources)&&d.resources.length>0&&a.createElement("div",{className:"mb-6"},a.createElement("h3",{className:b.sectionTitleInner},"Learning Resources"),a.createElement("ul",{className:b.resourceList},d.resources.map((m,v)=>a.createElement("li",{key:v,className:b.resourceItem},m.url?a.createElement("svg",{className:b.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})):m.type==="Course"?a.createElement("svg",{className:b.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})):a.createElement("svg",{className:b.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})),m.url?a.createElement("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline"},m.title||"Untitled Resource"):a.createElement("span",null,m.title||"Untitled Resource"))))),d.weeks&&Array.isArray(d.weeks)&&d.weeks.length>0&&a.createElement("div",null,a.createElement("div",{className:b.divider}),a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h3",{className:b.sectionTitleInner},"Weekly Plan"),a.createElement("span",{className:"text-gray-600 font-medium"},"Progress: ",M(d.weeks),"%")),a.createElement("div",{className:b.progressBar},a.createElement("div",{className:b.progressFill,style:{width:`${M(d.weeks)}%`}})),a.createElement("div",{className:"mt-6 space-y-2"},d.weeks.map((m,v)=>a.createElement("div",{key:v,className:m.status==="Completed"?b.weekItemCompleted:b.weekItem},(d.userId===r.id||d.sourcePlanId)&&a.createElement("input",{type:"checkbox",checked:m.status==="Completed",onChange:()=>F(d.id,v,m.status),className:b.checkbox}),a.createElement("div",null,a.createElement("h4",{className:b.weekTitle},m.title||`Week ${v+1}`),a.createElement("p",{className:b.weekDescription},m.description||"No description provided for this week.")))))))):a.createElement("div",null,a.createElement("div",null,a.createElement("div",{className:b.headerContainer},a.createElement("h1",{className:b.headerTitle},"My Learning Plans"),a.createElement("button",{onClick:()=>e("/learning-plans/create"),className:b.createButton},a.createElement("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Create New Plan")),h?a.createElement("div",{className:"flex justify-center items-center py-12"},a.createElement("div",{className:b.loadingPlanSpinner})):o.length===0?a.createElement("div",{className:b.emptyContainer},a.createElement("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),a.createElement("p",{className:b.emptyText},"No learning plans found. Create one to get started!"),a.createElement("button",{onClick:()=>e("/learning-plans/create"),className:"mt-4 px-5 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition-colors duration-200 font-medium"},"Create My First Plan")):a.createElement("div",{className:b.planCardContainer},o.map(m=>a.createElement("div",{key:m.id,className:b.planCard},a.createElement("div",{className:b.planCardHeader},a.createElement("h2",{className:b.planTitle,onClick:()=>C(m)},m.title||"Untitled Plan"),a.createElement("div",{className:b.actionsContainer},a.createElement("button",{onClick:()=>T(m.id),className:b.editButton},"Edit"),a.createElement("button",{onClick:()=>_(m.id),className:b.deleteButton},"Delete"))),a.createElement("p",{className:b.description},m.description||"No description provided for this learning plan."),Array.isArray(m.weeks)&&m.weeks.length>0&&a.createElement("div",{className:"mb-4"},a.createElement("div",{className:b.progressBar},a.createElement("div",{className:b.progressFill,style:{width:`${M(m.weeks)}%`}})),a.createElement("div",{className:"flex justify-between mt-1 text-xs text-gray-500"},a.createElement("span",null,"Progress: ",M(m.weeks),"%"),a.createElement("span",null,m.weeks.length," ",m.weeks.length===1?"week":"weeks"))),a.createElement("div",{className:b.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),a.createElement("span",null,Array.isArray(m.weeks)&&m.weeks.length>0?`${m.weeks.length} ${m.weeks.length===1?"week":"weeks"} duration`:"No timeline set")))))),a.createElement("div",{className:b.sectionDivider}),a.createElement("div",null,a.createElement("h1",{className:b.sectionTitle},"Followed Learning Plans"),k?a.createElement("div",{className:"flex justify-center items-center py-12"},a.createElement("div",{className:b.loadingPlanSpinner})):s.length===0?a.createElement("div",{className:b.emptyContainer},a.createElement("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),a.createElement("p",{className:b.emptyText},"No followed learning plans found."),a.createElement("button",{onClick:()=>e("/learning-plans"),className:"mt-4 px-5 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition-colors duration-200 font-medium"},"Discover Plans to Follow")):a.createElement("div",{className:b.planCardContainer},s.map(m=>a.createElement("div",{key:m.id,className:b.planCard},a.createElement("div",{className:b.planCardHeader},a.createElement("h2",{className:b.planTitle,onClick:()=>C(m)},m.title||"Untitled Plan"),a.createElement("div",{className:b.actionsContainer},a.createElement("button",{onClick:()=>_(m.id),className:b.deleteButton},"Unfollow"))),a.createElement("p",{className:b.description},m.description||"No description provided for this learning plan."),a.createElement("div",{className:b.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})),a.createElement("span",null,"by @",$?"Loading...":c[m.sourcePlanId]||"Unknown")),Array.isArray(m.weeks)&&m.weeks.length>0&&a.createElement("div",{className:"mb-4"},a.createElement("div",{className:b.progressBar},a.createElement("div",{className:b.progressFill,style:{width:`${M(m.weeks)}%`}})),a.createElement("div",{className:"flex justify-between mt-1 text-xs text-gray-500"},a.createElement("span",null,"Progress: ",M(m.weeks),"%"),a.createElement("span",null,m.weeks.length," ",m.weeks.length===1?"week":"weeks"))),a.createElement("div",{className:b.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),a.createElement("span",null,Array.isArray(m.weeks)&&m.weeks.length>0?`${m.weeks.length} ${m.weeks.length===1?"week":"weeks"} duration`:"No timeline set")))))))))},Iv=({isOpen:e,onClose:t,onSubmit:r,templates:n,isEditMode:o=!1,updateToEdit:l=null})=>{const[s,i]=w.useState(null),[c,u]=w.useState({}),[p,f]=w.useState(1);w.useEffect(()=>{if(o&&l){const d=n.find(y=>y.category===l.category);d&&(i(d),u({...l,muscleGroups:[...l.muscleGroups||[]]}),f(2))}},[o,l,n]);const h=()=>{i(null),u({}),f(1)},E=()=>{h(),t()},k=d=>{i(d),u({title:d.title,category:d.category}),f(2)},S=(d,y)=>{u(_=>({..._,[d]:y}))},$=d=>{const y=d.split(",").map(_=>_.trim()).filter(_=>_!=="");u(_=>({..._,muscleGroups:y}))},g=d=>{d.preventDefault();const y=o&&l?{...c,id:l.id}:c;r(y),h()};return e?a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},a.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto"},a.createElement("div",{className:"flex justify-between items-center border-b border-gray-200 px-6 py-4"},a.createElement("h3",{className:"text-lg font-semibold"},o?"Edit Fitness Update":p===1?"Select Workout Type":"Add Workout Update"),a.createElement("button",{onClick:E,className:"text-gray-500 hover:text-gray-700"},a.createElement("i",{className:"bx bx-x text-2xl"}))),a.createElement("div",{className:"p-6"},p===1?a.createElement("div",{className:"space-y-4"},a.createElement("p",{className:"text-gray-600 mb-4"},"Select the type of workout you completed:"),n&&n.map((d,y)=>a.createElement("div",{key:y,className:"p-4 border border-gray-200 rounded-lg hover:border-DarkColor hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>k(d)},a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:"w-10 h-10 rounded-full bg-DarkColor text-white flex items-center justify-center"},a.createElement("i",{className:`bx ${d.category==="CARDIO"?"bx-run":d.category==="STRENGTH"?"bx-dumbbell":"bx-cycling"} text-xl`})),a.createElement("div",{className:"ml-3"},a.createElement("h4",{className:"font-medium"},d.title),a.createElement("p",{className:"text-sm text-gray-500"},d.category==="CARDIO"?"Track running, cycling, or other cardio workouts":d.category==="STRENGTH"?"Log your strength training and resistance workouts":"Record specialized workouts like yoga, swimming, etc.")))))):a.createElement("form",{onSubmit:g,className:"space-y-4"},s&&s.fields.map((d,y)=>a.createElement("div",{key:y,className:"space-y-1"},a.createElement("label",{className:"block text-sm font-medium text-gray-700"},d.label," ",d.required&&a.createElement("span",{className:"text-red-500"},"*")),d.type==="text"&&a.createElement("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor",value:c[d.name]||"",onChange:_=>S(d.name,_.target.value),required:d.required}),d.type==="textarea"&&a.createElement("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor",value:c[d.name]||"",onChange:_=>S(d.name,_.target.value),required:d.required,rows:4}),d.type==="number"&&a.createElement("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor",value:c[d.name]||"",onChange:_=>S(d.name,parseInt(_.target.value)),required:d.required,min:0}),d.type==="select"&&a.createElement("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor",value:c[d.name]||"",onChange:_=>S(d.name,_.target.value),required:d.required},a.createElement("option",{value:""},"Select ",d.label),d.options.map((_,T)=>a.createElement("option",{key:T,value:_},_))),d.type==="tags"&&a.createElement("div",null,a.createElement("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor",value:c.muscleGroups?c.muscleGroups.join(", "):"",onChange:_=>$(_.target.value),placeholder:"Separate muscle groups with commas",required:d.required}),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Example: Legs, Core, Arms")))),a.createElement("div",{className:"flex justify-end space-x-3 pt-4"},!o&&a.createElement("button",{type:"button",onClick:()=>f(1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"},"Back"),a.createElement("button",{type:"submit",className:"px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor"},o?"Update":"Add Workout")))))):null},Lv=({user:e,currentUser:t,onUserUpdated:r})=>{const{addToast:n}=De(),[o,l]=w.useState([]),[s,i]=w.useState(!0),[c,u]=w.useState(!1),[p,f]=w.useState([]),[h,E]=w.useState(!1),[k,S]=w.useState(null),[$,g]=w.useState(!1),[d,y]=w.useState(null),_=e&&t&&e.id===t.id;w.useEffect(()=>{e&&(T(),C())},[e]);const T=async()=>{try{const R=localStorage.getItem("token"),L=await fetch(`${z}/learning/updates/user/${e.id}`,{headers:{Authorization:`Bearer ${R}`}});if(!L.ok)throw new Error("Failed to fetch workout updates");const x=await L.json();l(x)}catch(R){console.error("Error fetching workout updates:",R),n("Failed to load workout updates","error")}finally{i(!1)}},C=async()=>{try{const R=localStorage.getItem("token"),L=await fetch(`${z}/learning/templates`,{headers:{Authorization:`Bearer ${R}`}});if(!L.ok)throw new Error("Failed to fetch templates");const x=await L.json();f([{title:"Cardio Workout",category:"CARDIO",fields:[{name:"workoutName",label:"Workout Name",type:"text",required:!0},{name:"description",label:"Description",type:"textarea",required:!1},{name:"muscleGroups",label:"Muscle Groups Worked",type:"tags",required:!0},{name:"duration",label:"Duration (minutes)",type:"number",required:!0},{name:"caloriesBurned",label:"Calories Burned",type:"number",required:!1},{name:"intensity",label:"Intensity Level",type:"select",options:["LOW","MEDIUM","HIGH"],required:!0}]},{title:"Strength Training",category:"STRENGTH",fields:[{name:"workoutName",label:"Workout Name",type:"text",required:!0},{name:"description",label:"Exercises Performed",type:"textarea",required:!0},{name:"muscleGroups",label:"Muscle Groups Worked",type:"tags",required:!0},{name:"duration",label:"Duration (minutes)",type:"number",required:!0},{name:"weightLifted",label:"Total Weight Lifted (kg)",type:"number",required:!1},{name:"intensity",label:"Intensity Level",type:"select",options:["LOW","MEDIUM","HIGH"],required:!0}]},{title:"Other Activity",category:"OTHER",fields:[{name:"workoutName",label:"Activity Name",type:"text",required:!0},{name:"description",label:"Description",type:"textarea",required:!1},{name:"muscleGroups",label:"Muscle Groups Worked",type:"tags",required:!0},{name:"duration",label:"Duration (minutes)",type:"number",required:!0},{name:"caloriesBurned",label:"Calories Burned",type:"number",required:!1},{name:"intensity",label:"Intensity Level",type:"select",options:["LOW","MEDIUM","HIGH"],required:!0}]}])}catch(R){console.error("Error fetching templates:",R)}},P=async R=>{try{const L=localStorage.getItem("token");if($&&d){const x=await fetch(`${z}/learning/updates/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(R)});if(!x.ok)throw new Error("Failed to update workout progress");const D=await x.json();l(A=>A.map(B=>B.id===d.id?D.learningUpdate:B)),r&&D.user&&r(D.user),n("Workout update edited successfully!","success")}else{const x=await fetch(`${z}/learning/updates`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(R)});if(!x.ok)throw new Error("Failed to add workout update");const D=await x.json();l(A=>[D.learningUpdate,...A]),r&&D.user&&r(D.user),n("Workout update added successfully!","success")}}catch(L){console.error("Error updating workout progress:",L),n(`Failed to ${$?"update":"add"} workout update`,"error")}finally{u(!1),g(!1),y(null)}},I=R=>{S(R),E(!0)},M=R=>{y(R),g(!0),u(!0)},F=()=>{u(!1),g(!1),y(null)},b=async()=>{try{const R=localStorage.getItem("token");if(!(await fetch(`${z}/learning/updates/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`}})).ok)throw new Error("Failed to delete workout update");l(x=>x.filter(D=>D.id!==k)),n("Workout update deleted successfully","success")}catch(R){console.error("Error deleting workout update:",R),n("Failed to delete workout update","error")}finally{E(!1),S(null)}},m=R=>{switch(R){case"CARDIO":return"bx-run";case"STRENGTH":return"bx-dumbbell";default:return"bx-cycling"}},v=R=>{switch(R){case"LOW":return"text-green-500";case"MEDIUM":return"text-yellow-500";case"HIGH":return"text-red-500";default:return"text-gray-500"}},N=R=>new Date(R).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),U=()=>{const R=[];o.length>0&&R.push({title:"First Workout",icon:"bx-trophy",color:"text-yellow-500",achieved:!0});const L=new Set;if(o.forEach(A=>{var B;return(B=A.muscleGroups)==null?void 0:B.forEach(j=>L.add(j))}),R.push({title:"Balanced Trainer",icon:"bx-body",color:"text-purple-500",achieved:L.size>=5}),R.push({title:"Fitness Addict",icon:"bx-heart",color:"text-blue-500",achieved:o.length>=10}),o.length>=2){const A=o.map(G=>new Date(G.completedAt)),B=new Date(Math.min(...A)),j=new Date(Math.max(...A)),V=Math.floor((j-B)/(1e3*60*60*24));R.push({title:"Consistent Athlete",icon:"bx-calendar-check",color:"text-green-500",achieved:V>=30})}else R.push({title:"Consistent Athlete",icon:"bx-calendar-check",color:"text-green-500",achieved:!1});const x=o.reduce((A,B)=>A+(B.duration||0),0);R.push({title:"Endurance Master",icon:"bx-time",color:"text-pink-500",achieved:x>=500});const D=o.some(A=>A.intensity==="HIGH");return R.push({title:"Intensity Champion",icon:"bx-flame",color:"text-red-500",achieved:D}),R};if(s)return a.createElement("div",{className:"flex justify-center items-center py-20"},a.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-DarkColor"}));const W=U();return a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm"},a.createElement("h2",{className:"text-lg font-semibold mb-4"},"Fitness Achievements"),a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4"},W.map((R,L)=>a.createElement("div",{key:L,className:`p-4 rounded-lg shadow-sm border text-center ${R.achieved?"border-gray-200 bg-white":"border-gray-100 bg-gray-50 opacity-50"}`},a.createElement("i",{className:`bx ${R.icon} text-3xl ${R.achieved?R.color:"text-gray-400"} mb-2`}),a.createElement("p",{className:"text-sm font-medium"},R.title),!R.achieved&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Not achieved yet"))))),a.createElement("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm"},a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h2",{className:"text-lg font-semibold"},"Workout Progress"),_&&a.createElement("button",{onClick:()=>{g(!1),y(null),u(!0)},className:"px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor transition-colors"},a.createElement("i",{className:"bx bx-plus mr-2"})," Add Workout")),o.length>0?a.createElement("div",{className:"space-y-4"},o.map(R=>a.createElement("div",{key:R.id,className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200"},a.createElement("div",{className:"flex justify-between items-start"},a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:"h-10 w-10 bg-DarkColor rounded-full flex items-center justify-center text-white"},a.createElement("i",{className:`bx ${m(R.category)} text-xl`})),a.createElement("div",{className:"ml-3"},a.createElement("h3",{className:"font-semibold text-lg"},R.workoutName||R.title),a.createElement("p",{className:"text-sm text-gray-500"},"Completed on ",N(R.completedAt)))),_&&a.createElement("div",{className:"flex space-x-2"},a.createElement("button",{onClick:()=>M(R),className:"text-gray-400 hover:text-blue-500",title:"Edit this workout"},a.createElement("i",{className:"bx bx-edit-alt"})),a.createElement("button",{onClick:()=>I(R.id),className:"text-gray-400 hover:text-red-500",title:"Delete this workout"},a.createElement("i",{className:"bx bx-trash"})))),a.createElement("div",{className:"mt-3"},R.description&&a.createElement("p",{className:"text-gray-700 mb-3"},R.description),a.createElement("div",{className:"flex flex-wrap gap-2 mb-3"},R.muscleGroups&&R.muscleGroups.map((L,x)=>a.createElement("span",{key:x,className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full"},L))),a.createElement("div",{className:"flex items-center text-sm text-gray-500 space-x-4"},a.createElement("span",{className:`flex items-center ${v(R.intensity)}`},a.createElement("i",{className:"bx bx-signal-4 mr-1"})," ",R.intensity),R.duration&&a.createElement("span",{className:"flex items-center"},a.createElement("i",{className:"bx bx-time mr-1"})," ",R.duration," min"),R.caloriesBurned&&a.createElement("span",{className:"flex items-center"},a.createElement("i",{className:"bx bx-flame mr-1"})," ",R.caloriesBurned," cal")))))):a.createElement("div",{className:"text-center py-10 bg-gray-50 rounded-lg"},a.createElement("div",{className:"inline-block mx-auto"},a.createElement("i",{className:"bx bx-dumbbell text-5xl text-gray-400"})),a.createElement("p",{className:"mt-2 text-gray-600"},_?"You haven't tracked any workouts yet.":"This user hasn't shared any workouts yet."),_&&a.createElement("button",{onClick:()=>u(!0),className:"mt-4 px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor"},"Track Your First Workout")),o.length>0&&a.createElement("div",{className:"mt-6 pt-6 border-t border-gray-200"},a.createElement("h3",{className:"text-md font-semibold mb-4"},"Workout Summary"),a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4"},a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-DarkColor"},o.length),a.createElement("div",{className:"text-sm text-gray-500"},"Total Workouts")),a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-DarkColor"},o.reduce((R,L)=>R+(L.duration||0),0)),a.createElement("div",{className:"text-sm text-gray-500"},"Minutes")),a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-DarkColor"},new Set(o.flatMap(R=>R.muscleGroups||[])).size),a.createElement("div",{className:"text-sm text-gray-500"},"Muscle Groups")),a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-DarkColor"},o.filter(R=>R.intensity==="HIGH").length),a.createElement("div",{className:"text-sm text-gray-500"},"High Intensity"))))),a.createElement(Iv,{isOpen:c,onClose:F,onSubmit:P,templates:p,isEditMode:$,updateToEdit:d}),a.createElement(Eo,{isOpen:h,onClose:()=>E(!1),onConfirm:b,title:"Delete Workout Update",message:"Are you sure you want to delete this workout update? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}))},Zc=({isOpen:e,onClose:t,title:r,data:n,isLoading:o,onFollowToggle:l})=>e?a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},a.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4"},a.createElement("div",{className:"flex justify-between items-center p-4 border-b"},a.createElement("h3",{className:"text-lg font-semibold text-ExtraDarkColor"},r),a.createElement("button",{onClick:t,className:"text-gray-500 hover:text-gray-700"},a.createElement("i",{className:"bx bx-x text-2xl"}))),a.createElement("div",{className:"p-4 max-h-96 overflow-y-auto"},o?a.createElement("div",{className:"flex justify-center py-8"},a.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-DarkColor"})):n.length>0?a.createElement("ul",{className:"divide-y divide-gray-200"},n.map(s=>a.createElement("li",{key:s.id,className:"py-3"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:"flex items-center"},a.createElement("img",{src:s.profilePicture||xe,alt:s.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800"},s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.firstName||s.lastName||s.username))),a.createElement("button",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.isFollowing?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-DarkColor text-white hover:bg-ExtraDarkColor"}`,onClick:()=>l(s.id,s.isFollowing)},s.isFollowing?"Unfollow":"Follow"))))):a.createElement("div",{className:"text-center py-8 text-gray-500"},r==="Followers"?"No followers yet":"Not following anyone yet")))):null,Rv=({isOpen:e,onClose:t,user:r,postContent:n,setPostContent:o,postMedia:l,postMediaPreview:s,setPostMedia:i,setPostMediaPreview:c,isSubmittingPost:u,handleCreatePost:p,postFileInputRef:f})=>e?a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},a.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg"},a.createElement("div",{className:"flex justify-between items-center p-4 border-b"},a.createElement("h3",{className:"text-lg font-semibold text-ExtraDarkColor"},"Create Post"),a.createElement("button",{onClick:()=>{t(),o(""),i(null),c(null)},className:"text-gray-500 hover:text-gray-700"},a.createElement("i",{className:"bx bx-x text-2xl"}))),a.createElement("form",{onSubmit:p},a.createElement("div",{className:"p-4"},a.createElement("div",{className:"flex items-center mb-4"},a.createElement("img",{src:(r==null?void 0:r.profilePicture)||xe,alt:r==null?void 0:r.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800"},r!=null&&r.firstName&&(r!=null&&r.lastName)?`${r.firstName} ${r.lastName}`:(r==null?void 0:r.firstName)||(r==null?void 0:r.lastName)||(r==null?void 0:r.username)))),a.createElement("textarea",{value:n,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",rows:"4",placeholder:"What's on your mind?"}),s&&a.createElement("div",{className:"mt-4 relative"},l!=null&&l.type.startsWith("image")?a.createElement("img",{src:s,alt:"Preview",className:"w-full h-auto rounded-lg"}):a.createElement("video",{src:s,controls:!0,className:"w-full h-auto rounded-lg"}),a.createElement("button",{type:"button",onClick:()=>{i(null),c(null)},className:"absolute top-2 right-2 bg-gray-800 bg-opacity-70 text-white p-1 rounded-full"},a.createElement("i",{className:"bx bx-x text-xl"})))),a.createElement("div",{className:"p-4 border-t border-gray-200"},a.createElement("div",{className:"flex justify-between items-center"},a.createElement("div",null,a.createElement("input",{type:"file",ref:f,onChange:h=>{const E=h.target.files[0];if(E){i(E);const k=URL.createObjectURL(E);c(k)}},accept:"image/*,video/*",className:"hidden"}),a.createElement("button",{type:"button",onClick:()=>{var h;return(h=f.current)==null?void 0:h.click()},className:"flex items-center text-gray-700 hover:text-DarkColor"},a.createElement("i",{className:"bx bx-image text-green-500 text-xl mr-1"})," Add Photo/Video")),a.createElement("button",{type:"submit",disabled:u||!n.trim()&&!l,className:`px-4 py-2 rounded-lg ${u||!n.trim()&&!l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-DarkColor text-white hover:bg-ExtraDarkColor"} transition-colors`},u?a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Posting..."):"Post")))))):null,Av=({user:e,refreshTrigger:t})=>{const[r,n]=w.useState({currentStreak:0,longestStreak:0,lastWorkoutDate:null,heatmapData:{}}),[o,l]=w.useState(!0);w.useEffect(()=>{e&&s()},[e,t]);const s=async()=>{try{const i=localStorage.getItem("token"),c=await fetch(`${z}/learning/streak/${e.id}`,{headers:{Authorization:`Bearer ${i}`}});if(!c.ok)throw new Error("Failed to fetch streak data");const u=await c.json();n(u)}catch(i){console.error("Error fetching streak data:",i)}finally{l(!1)}};return o?a.createElement("div",{className:"bg-white shadow-md rounded-lg p-6 mt-4"},a.createElement("h2",{className:"text-lg font-semibold text-ExtraDarkColor mb-4 flex items-center"},a.createElement("i",{className:"bx bx-flame mr-2"}),"Workout Streak"),a.createElement("div",{className:"flex justify-center py-4"},a.createElement("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-DarkColor"}))):a.createElement("div",{className:"bg-white shadow-md rounded-lg p-6 mt-4"},a.createElement("h2",{className:"text-lg font-semibold text-ExtraDarkColor mb-4 flex items-center"},a.createElement("i",{className:"bx bx-flame mr-2"}),"Workout Streak"),a.createElement("div",{className:"bg-gradient-to-r from-orange-100 to-amber-100 rounded-lg p-4 mb-4 flex items-center justify-between"},a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:`text-4xl font-bold ${r.currentStreak>0?"text-orange-500":"text-gray-400"} flex items-center`},r.currentStreak,a.createElement("span",{className:"ml-2 text-sm font-medium text-gray-600"},"days")),a.createElement("div",{className:"ml-4"},a.createElement("div",{className:"text-sm font-semibold text-gray-700"},"Current Streak"),r.currentStreak>0?a.createElement("div",{className:"text-xs text-orange-600"},a.createElement("i",{className:"bx bxs-flame-alt mr-1"}),r.currentStreak>7?"On fire!":"Keep it up!"):a.createElement("div",{className:"text-xs text-gray-500"},"Start your fitness journey today!"))),a.createElement("div",{className:"flex flex-col items-center"},r.currentStreak>0&&a.createElement("div",{className:"relative"},a.createElement("i",{className:`bx bxs-flame text-5xl ${r.currentStreak>30?"text-red-500":r.currentStreak>14?"text-orange-500":r.currentStreak>7?"text-amber-500":"text-yellow-500"} animate-pulse`}),a.createElement("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white font-bold text-sm"},r.currentStreak)))),a.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4"},a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg text-center"},a.createElement("div",{className:"text-xl font-bold text-indigo-600"},r.longestStreak),a.createElement("div",{className:"text-sm text-gray-500"},"Longest Streak")),a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg text-center"},a.createElement("div",{className:"text-xl font-bold text-green-600"},Object.keys(r.heatmapData||{}).length),a.createElement("div",{className:"text-sm text-gray-500"},"Active Days"))),r.currentStreak>0&&a.createElement("div",{className:"mb-4"},a.createElement("div",{className:"flex justify-between text-xs text-gray-600 mb-1"},a.createElement("span",null,"Current: ",r.currentStreak," days"),a.createElement("span",null,r.currentStreak<3?"Next: 3 days":r.currentStreak<7?"Next: 7 days":r.currentStreak<14?"Next: 14 days":r.currentStreak<30?"Next: 30 days":"Maximum milestone reached!")),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2.5"},a.createElement("div",{className:`h-2.5 rounded-full ${r.currentStreak>=30?"bg-green-600":r.currentStreak>=14?"bg-blue-600":r.currentStreak>=7?"bg-purple-600":"bg-orange-600"}`,style:{width:`${r.currentStreak>=30?"100":r.currentStreak>=14?Math.min(100,r.currentStreak/30*100):r.currentStreak>=7?Math.min(100,r.currentStreak/14*100):r.currentStreak>=3?Math.min(100,r.currentStreak/7*100):Math.min(100,r.currentStreak/3*100)}%`}}))),r.lastWorkoutDate&&a.createElement("div",{className:"mb-4 text-center text-sm text-gray-600 bg-gray-50 p-2 rounded-lg"},"Last workout: ",a.createElement("span",{className:"font-medium"},new Date(r.lastWorkoutDate).toLocaleDateString())),a.createElement("div",{className:"border-t border-gray-200 pt-4"},a.createElement("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center"},a.createElement("i",{className:"bx bx-calendar-check mr-1"})," Workout Activity"),a.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},Object.keys(r.heatmapData||{}).length>0?a.createElement("div",null,a.createElement("div",{className:"flex flex-wrap gap-1.5 justify-center"},Object.entries(r.heatmapData).sort(([i],[c])=>new Date(i)-new Date(c)).slice(-30).map(([i,c])=>{const u=new Date(i).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});return a.createElement("div",{key:i,className:`w-6 h-6 rounded-sm border border-gray-200 flex items-center justify-center transition-all hover:scale-110 cursor-pointer ${c>3?"bg-green-700 hover:bg-green-800":c>2?"bg-green-600 hover:bg-green-700":c>1?"bg-green-500 hover:bg-green-600":"bg-green-400 hover:bg-green-500"}`,title:`${u}: ${c} workout ${c===1?"session":"sessions"}`},c>1&&a.createElement("span",{className:"text-[10px] text-white font-bold"},c))})),a.createElement("div",{className:"mt-3 flex justify-center items-center text-xs text-gray-500"},a.createElement("div",{className:"flex items-center gap-1 mr-3"},a.createElement("div",{className:"w-3 h-3 bg-green-400 border border-gray-200 rounded-sm"}),a.createElement("span",null,"1")),a.createElement("div",{className:"flex items-center gap-1 mr-3"},a.createElement("div",{className:"w-3 h-3 bg-green-500 border border-gray-200 rounded-sm"}),a.createElement("span",null,"2")),a.createElement("div",{className:"flex items-center gap-1 mr-3"},a.createElement("div",{className:"w-3 h-3 bg-green-600 border border-gray-200 rounded-sm"}),a.createElement("span",null,"3")),a.createElement("div",{className:"flex items-center gap-1"},a.createElement("div",{className:"w-3 h-3 bg-green-700 border border-gray-200 rounded-sm"}),a.createElement("span",null,"4+")))):a.createElement("div",{className:"text-center py-4 text-gray-500 text-sm"},a.createElement("i",{className:"bx bx-calendar-x text-3xl mb-2 text-gray-400"}),a.createElement("p",null,"No workout activity recorded yet"),a.createElement("p",{className:"text-xs mt-1"},"Start exercising to build your streak!")))),a.createElement("div",{className:"mt-4 border-t border-gray-200 pt-4"},a.createElement("h3",{className:"text-sm font-medium text-gray-700 mb-2"},"Fitness Achievements"),a.createElement("div",{className:"flex space-x-3 justify-center"},a.createElement("div",{className:`text-center p-2 ${r.currentStreak>=3?"text-orange-500":"text-gray-400"}`},a.createElement("i",{className:"bx bxs-flame text-2xl"}),a.createElement("div",{className:"text-xs mt-1"},"3 Days")),a.createElement("div",{className:`text-center p-2 ${r.longestStreak>=7?"text-purple-500":"text-gray-400"}`},a.createElement("i",{className:"bx bxs-flame text-2xl"}),a.createElement("div",{className:"text-xs mt-1"},"7 Days")),a.createElement("div",{className:`text-center p-2 ${r.longestStreak>=14?"text-blue-500":"text-gray-400"}`},a.createElement("i",{className:"bx bxs-flame text-2xl"}),a.createElement("div",{className:"text-xs mt-1"},"14 Days")),a.createElement("div",{className:`text-center p-2 ${r.longestStreak>=30?"text-green-500":"text-gray-400"}`},a.createElement("i",{className:"bx bxs-flame text-2xl"}),a.createElement("div",{className:"text-xs mt-1"},"30 Days")))))},eu=()=>{const e=$e(),{userId:t}=wo(),{addToast:r}=De(),[n,o]=w.useState(!0),[l,s]=w.useState(null),[i,c]=w.useState(null),[u,p]=w.useState(!0),[f,h]=w.useState("posts"),[E,k]=w.useState(!1),[S,$]=w.useState({firstName:"",lastName:"",bio:"",skills:[]}),[g,d]=w.useState(null),[y,_]=w.useState(null),[T,C]=w.useState(null),[P,I]=w.useState(!1),M=w.useRef(null),[F,b]=w.useState(!1),[m,v]=w.useState(!1),[N,U]=w.useState([]),[W,R]=w.useState(!1),[L,x]=w.useState(!1),[D,A]=w.useState(""),[B,j]=w.useState(null),[V,G]=w.useState(null),[Y,se]=w.useState(!1),[Ie,pe]=w.useState([]),[rr,mi]=w.useState(!1),fi=w.useRef(null),[Jm,hi]=w.useState(!1),[Zm,ef]=w.useState(null),[tf,rf]=w.useState(0),nf=async Q=>{try{const q=localStorage.getItem("token"),K=await fetch(`${z}/posts/${Q}/like`,{method:"POST",headers:{Authorization:`Bearer ${q}`}});if(!K.ok)throw new Error("Failed to like post");const Z=await K.json();pe(re=>re.map(Me=>Me.id===Q?{...Me,likes:Z.liked?[...Me.likes||[],i.id]:(Me.likes||[]).filter(Ve=>Ve!==i.id)}:Me)),r(Z.liked?"Post liked!":"Post unliked!","success")}catch(q){console.error("Error liking post:",q),r("Failed to like post","error")}},af=Q=>{ef(Q),hi(!0)},of=Q=>{pe(q=>q.map(K=>K.id===Q.id?Q:K))},lf=Q=>{s(Q),rf(q=>q+1)};w.useEffect(()=>{const Q=localStorage.getItem("token");if(!Q){e("/auth");return}const q=async()=>{try{const Z=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${Q}`}});if(!Z.ok){if(Z.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error(`Failed to fetch profile: ${Z.status}`)}const re=await Z.json();c(re),t||(s(re),p(!0),$({firstName:re.firstName||"",lastName:re.lastName||"",bio:re.bio||"",skills:re.skills||[]}))}catch(Z){console.error("Error fetching current user profile:",Z),r("Failed to load user data. Please try again.","error")}},K=async()=>{if(t)try{const Z=await fetch(`${z}/users/${t}`,{headers:{Authorization:`Bearer ${Q}`}});if(!Z.ok)throw new Error(`Failed to fetch user profile: ${Z.status}`);const re=await Z.json();s(re),p((i==null?void 0:i.id)===re.id)}catch(Z){console.error("Error fetching user profile:",Z),r("Failed to load user profile. Please try again.","error"),e("/dashboard")}};o(!0),q().then(()=>K()).finally(()=>o(!1))},[e,t,r]),w.useEffect(()=>{l&&sf()},[l]);const sf=async()=>{if(l){mi(!0);try{const Q=localStorage.getItem("token"),q=t||(i?i.id:null);if(!q)return;const K=await fetch(`${z}/posts/user/${q}`,{headers:{Authorization:`Bearer ${Q}`}});if(!K.ok)throw new Error("Failed to fetch posts");const Z=await K.json();pe(Z)}catch(Q){console.error("Error fetching posts:",Q),pe([])}finally{mi(!1)}}},cf=()=>{localStorage.removeItem("token"),e("/auth")},uf=Q=>{const q=Q.target.files[0];if(q){_(q);const K=URL.createObjectURL(q);C(K)}},df=async()=>{if(!y)return null;try{I(!0);const Q=`${l.id}_${Date.now()}_${y.name}`,q=ls(ss,`profileImages/${Q}`);await as(q,y);const K=await os(q);return I(!1),K}catch(Q){return console.error("Error uploading image: ",Q),I(!1),r("Failed to upload image. Please try again.","error"),null}},mf=async Q=>{Q.preventDefault();const q=localStorage.getItem("token");try{let K=l.profilePicture;if(y&&(K=await df(),!K))return;const Z={firstName:S.firstName,lastName:S.lastName,bio:S.bio,skills:S.skills,profilePicture:K},re=await fetch(`${z}/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify(Z)});if(!re.ok)throw new Error("Failed to update profile");const Me=await re.json();s(Me),k(!1),_(null),C(null),r("Profile updated successfully!","success")}catch(K){console.error("Error updating profile:",K),r("Failed to update profile. Please try again.","error")}},ff=Q=>{const q=Q.target.value.split(",").map(K=>K.trim());$({...S,skills:q})},pi=()=>{M.current.click()},ko=async Q=>{R(!0);try{const q=localStorage.getItem("token"),K=await fetch(`${z}/users/${Q}/${l.id}`,{headers:{Authorization:`Bearer ${q}`}});if(!K.ok)throw new Error(`Failed to fetch ${Q}`);const Z=await K.json();U(Z)}catch(q){console.error(`Error fetching ${Q}:`,q),U([])}finally{R(!1)}},gi=()=>{ko("followers"),b(!0)},yi=()=>{ko("following"),v(!0)},vi=async(Q,q)=>{try{const K=localStorage.getItem("token"),Z=q?"unfollow":"follow",re=await fetch(`${z}/users/${Z}/${Q}`,{method:"POST",headers:{Authorization:`Bearer ${K}`}});if(!re.ok){const Ve=await re.json();throw new Error(Ve.message||`Failed to ${Z} user`)}ko(F?"followers":"following"),U(Ve=>Ve.map(wt=>wt.id===Q?{...wt,isFollowing:!q}:wt)),r(q?"Successfully unfollowed user":"Successfully followed user","success")}catch(K){console.error(`Error ${q?"unfollowing":"following"} user:`,K),r(K.message||`Failed to ${q?"unfollow":"follow"} user. Please try again.`,"error")}},hf=async()=>{if(!l||u)return;const Q=l.isFollowing;try{const q=localStorage.getItem("token"),K=Q?"unfollow":"follow";if(!(await fetch(`${z}/users/${K}/${l.id}`,{method:"POST",headers:{Authorization:`Bearer ${q}`}})).ok)throw new Error(`Failed to ${K} user`);s(re=>({...re,isFollowing:!Q})),r(Q?"Successfully unfollowed user":"Successfully followed user","success")}catch(q){console.error(`Error ${Q?"unfollowing":"following"} user:`,q),r(`Failed to ${Q?"unfollow":"follow"} user. Please try again.`,"error")}},pf=async Q=>{if(Q.preventDefault(),!D.trim()&&!B){r("Please add some content or media to your post","error");return}se(!0);try{const q=localStorage.getItem("token");let K=null;if(B){const Ve=`post_${l.id}_${Date.now()}_${B.name}`,wt=ls(ss,`postMedia/${Ve}`);await as(wt,B),K=await os(wt)}const Z={content:D,mediaUrl:K,mediaType:B?B.type.startsWith("image")?"IMAGE":"VIDEO":null},re=await fetch(`${z}/posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify(Z)});if(!re.ok)throw new Error("Failed to create post");const Me=await re.json();pe(Ve=>[Me,...Ve]),A(""),j(null),G(null),x(!1),r("Post created successfully!","success")}catch(q){console.error("Error creating post:",q),r("Failed to create post. Please try again.","error")}finally{se(!1)}},gf=Q=>{const q=new Date(Q),Z=new Date-q,re=Math.floor(Z/1e3),Me=Math.floor(re/60),Ve=Math.floor(Me/60),wt=Math.floor(Ve/24);return re<60?"just now":Me<60?`${Me}m ago`:Ve<24?`${Ve}h ago`:wt<7?`${wt}d ago`:q.toLocaleDateString()};return n?a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"},a.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-white border-t-transparent"})):g?a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"},a.createElement("div",{className:"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full"},a.createElement("div",{className:"flex justify-center text-red-500 mb-4"},a.createElement("i",{className:"bx bx-error-circle text-6xl"})),a.createElement("h2",{className:"text-2xl text-center font-bold text-gray-800 mb-4"},"Something went wrong"),a.createElement("p",{className:"text-gray-600 text-center mb-6"},g),a.createElement("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},"Try Again"))):a.createElement("div",{className:"min-h-screen bg-gray-100"},a.createElement(vt,{user:i}),a.createElement(Pv,{user:l,currentUser:i,isCurrentUserProfile:u,isEditing:E,imagePreview:T,triggerFileInput:pi,fileInputRef:M,handleImageChange:uf,isUploading:P,setIsEditing:k,handleLogout:cf,handleFollowAction:hf,handleShowFollowers:gi,handleShowFollowing:yi}),a.createElement("div",{className:"max-w-7xl mx-auto mt-8 px-4 sm:px-6 lg:px-8"},a.createElement("div",{className:"bg-white rounded-xl shadow-md mb-8 p-4"},a.createElement("div",{className:"grid grid-cols-3 gap-4"},a.createElement("div",{className:"flex flex-col items-center justify-center p-3 border-r border-gray-200"},a.createElement("span",{className:"text-2xl font-bold text-indigo-600"},(l==null?void 0:l.postsCount)||0),a.createElement("span",{className:"text-sm text-gray-500"},"Posts")),a.createElement("div",{onClick:gi,className:"flex flex-col items-center justify-center p-3 border-r border-gray-200 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors"},a.createElement("span",{className:"text-2xl font-bold text-indigo-600"},(l==null?void 0:l.followersCount)||0),a.createElement("span",{className:"text-sm text-gray-500"},"Followers")),a.createElement("div",{onClick:yi,className:"flex flex-col items-center justify-center p-3 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors"},a.createElement("span",{className:"text-2xl font-bold text-indigo-600"},(l==null?void 0:l.followingCount)||0),a.createElement("span",{className:"text-sm text-gray-500"},"Following")))),a.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},a.createElement("div",{className:"space-y-8"},a.createElement("div",{className:"bg-white rounded-xl overflow-hidden shadow-md"},a.createElement("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4"},a.createElement("h2",{className:"text-white text-xl font-semibold flex items-center"},a.createElement("i",{className:"bx bx-user-circle mr-2"})," About")),a.createElement("div",{className:"p-6"},a.createElement(Tv,{user:l,isEditing:E,editForm:S,setEditForm:$,handleEditSubmit:mf,handleSkillChange:ff,isUploading:P,imageUpload:y,imagePreview:T,setImageUpload:_,setImagePreview:C,triggerFileInput:pi,fileInputRef:M}))),l&&a.createElement("div",{className:"bg-white rounded-xl overflow-hidden shadow-md"},a.createElement("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 px-6 py-4"},a.createElement("h2",{className:"text-white text-xl font-semibold flex items-center"},a.createElement("i",{className:"bx bx-line-chart mr-2"})," Learning Progress")),a.createElement("div",{className:"p-6"},a.createElement(Av,{user:l,refreshTrigger:tf})))),a.createElement("div",{className:"lg:col-span-2 space-y-6"},u&&a.createElement("div",{className:"bg-white rounded-xl p-4 shadow-md flex items-center space-x-4"},a.createElement("img",{src:(l==null?void 0:l.profilePicture)||"/assets/default-avatar.png",alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}),a.createElement("button",{onClick:()=>x(!0),className:"flex-1 text-left px-4 py-2 bg-gray-100 rounded-full text-gray-500 hover:bg-gray-200 transition-colors"},"Share your thoughts or learning progress..."),a.createElement("button",{onClick:()=>x(!0),className:"p-2 rounded-full text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 transition-colors shadow-md"},a.createElement("i",{className:"bx bx-plus text-xl"}))),a.createElement("div",{className:"bg-white shadow-md rounded-xl overflow-hidden"},a.createElement("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50"},a.createElement("nav",{className:"flex"},a.createElement("button",{onClick:()=>h("posts"),className:`flex-1 py-4 px-6 text-center font-medium text-sm flex items-center justify-center transition-all ${f==="posts"?"bg-white border-t-4 border-indigo-600 text-indigo-700 shadow":"text-gray-600 hover:text-indigo-600"}`},a.createElement("i",{className:`bx bx-message-square-detail mr-2 text-xl ${f==="posts"?"text-indigo-600":""}`}),"Posts"),a.createElement("button",{onClick:()=>h("learning"),className:`flex-1 py-4 px-6 text-center font-medium text-sm flex items-center justify-center transition-all ${f==="learning"?"bg-white border-t-4 border-indigo-600 text-indigo-700 shadow":"text-gray-600 hover:text-indigo-600"}`},a.createElement("i",{className:`bx bx-book-open mr-2 text-xl ${f==="learning"?"text-indigo-600":""}`}),"Learning"),a.createElement("button",{onClick:()=>h("achievements"),className:`flex-1 py-4 px-6 text-center font-medium text-sm flex items-center justify-center transition-all ${f==="achievements"?"bg-white border-t-4 border-indigo-600 text-indigo-700 shadow":"text-gray-600 hover:text-indigo-600"}`},a.createElement("i",{className:`bx bx-trophy mr-2 text-xl ${f==="achievements"?"text-indigo-600":""}`}),"Achievements"))),a.createElement("div",{className:"p-6"},f==="posts"&&a.createElement($v,{isCurrentUserProfile:u,user:l,currentUser:i,setShowPostModal:x,postFileInputRef:fi,isLoadingPosts:rr,posts:Ie,setPosts:pe,formatPostDate:gf,handleLikePost:nf,handleSharePost:af,handlePostUpdated:of}),f==="learning"&&a.createElement(Dv,{user:l,currentUser:i,isCurrentUserProfile:u}),f==="achievements"&&a.createElement(Lv,{user:l,currentUser:i,onUserUpdated:lf})))))),a.createElement(Rv,{isOpen:L,onClose:()=>x(!1),user:l,postContent:D,setPostContent:A,postMedia:B,postMediaPreview:V,setPostMedia:j,setPostMediaPreview:G,isSubmittingPost:Y,handleCreatePost:pf,postFileInputRef:fi}),a.createElement(Zc,{isOpen:F,onClose:()=>b(!1),title:"Followers",data:N,isLoading:W,onFollowToggle:vi}),a.createElement(Zc,{isOpen:m,onClose:()=>v(!1),title:"Following",data:N,isLoading:W,onFollowToggle:vi}),a.createElement(ui,{isOpen:Jm,onClose:()=>hi(!1),post:Zm,currentUser:i}),a.createElement("footer",{className:"bg-white mt-12 py-8 border-t"},a.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},a.createElement("div",{className:"flex flex-col items-center"},a.createElement("div",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 mb-3"},"Fitness Hub"),a.createElement("div",{className:"flex space-x-4 mb-4"},a.createElement("a",{href:"#",className:"text-gray-400 hover:text-indigo-600 transition-colors"},a.createElement("i",{className:"bx bxl-facebook text-xl"})),a.createElement("a",{href:"#",className:"text-gray-400 hover:text-indigo-600 transition-colors"},a.createElement("i",{className:"bx bxl-twitter text-xl"})),a.createElement("a",{href:"#",className:"text-gray-400 hover:text-indigo-600 transition-colors"},a.createElement("i",{className:"bx bxl-instagram text-xl"})),a.createElement("a",{href:"#",className:"text-gray-400 hover:text-indigo-600 transition-colors"},a.createElement("i",{className:"bx bxl-linkedin text-xl"}))),a.createElement("p",{className:"text-gray-500 text-sm"}," 2025 Flowiix (PVT)LTD. All rights reserved.")))))},jv=()=>{const e=$e(),{addToast:t}=De(),[r,n]=w.useState(null),[o,l]=w.useState(!0),[s,i]=w.useState(null),[c,u]=w.useState([]),[p,f]=w.useState(!1),[h,E]=w.useState(""),[k,S]=w.useState(null),[$,g]=w.useState(null),[d,y]=w.useState(!1),_=w.useRef(null),[T,C]=w.useState(!1),[P,I]=w.useState(null),[M,F]=w.useState(!1),[b,m]=w.useState(null);w.useEffect(()=>{const j=localStorage.getItem("token");if(!j){e("/auth");return}(async()=>{try{const G=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${j}`}});if(!G.ok){if(G.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error(`Failed to fetch profile: ${G.status}`)}const Y=await G.json();n(Y),i(null)}catch(G){console.error("Error fetching profile:",G),i("Failed to load user data.")}finally{l(!1)}})()},[e]),w.useEffect(()=>{r&&v()},[r]);const v=async()=>{f(!0);try{const j=localStorage.getItem("token"),V=await fetch(`${z}/posts`,{headers:{Authorization:`Bearer ${j}`}});if(!V.ok)throw new Error("Failed to fetch posts");const G=await V.json();u(G)}catch(j){console.error("Error fetching posts:",j),t("Failed to load posts","error")}finally{f(!1)}},N=j=>{const V=j.target.files[0];if(V){S(V);const G=URL.createObjectURL(V);g(G)}},U=async j=>{if(j.preventDefault(),!h.trim()&&!k){t("Please add some content or media to your post","error");return}y(!0);try{const V=localStorage.getItem("token");let G=null;if(k){const pe=`post_${r.id}_${Date.now()}_${k.name}`,rr=ls(ss,`postMedia/${pe}`);await as(rr,k),G=await os(rr)}const Y={content:h,mediaUrl:G,mediaType:k?k.type.startsWith("image")?"IMAGE":"VIDEO":null},se=await fetch(`${z}/posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify(Y)});if(!se.ok)throw new Error("Failed to create post");const Ie=await se.json();u(pe=>[Ie,...pe]),E(""),S(null),g(null),t("Post created successfully!","success")}catch(V){console.error("Error creating post:",V),t("Failed to create post. Please try again.","error")}finally{y(!1)}},W=j=>{const V=new Date(j),Y=new Date-V,se=Math.floor(Y/1e3),Ie=Math.floor(se/60),pe=Math.floor(Ie/60),rr=Math.floor(pe/24);return se<60?"just now":Ie<60?`${Ie}m ago`:pe<24?`${pe}h ago`:rr<7?`${rr}d ago`:V.toLocaleDateString()},R=async j=>{try{const V=localStorage.getItem("token"),G=await fetch(`${z}/posts/${j}/like`,{method:"POST",headers:{Authorization:`Bearer ${V}`}});if(!G.ok)throw new Error("Failed to like post");const Y=await G.json();u(se=>se.map(Ie=>Ie.id===j?{...Ie,likes:Y.liked?[...Ie.likes||[],r.id]:(Ie.likes||[]).filter(pe=>pe!==r.id)}:Ie))}catch(V){console.error("Error liking post:",V),t("Failed to like post","error")}},L=j=>{I(j),C(!0)},x=j=>{u(V=>V.map(G=>G.id===j.id?j:G))},D=async(j,V)=>{try{const G=localStorage.getItem("token"),Y=await fetch(`${z}/posts/${j}/comments/${V}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}});if(!Y.ok)throw new Error("Failed to delete comment");const se=await Y.json();se.post&&x(se.post),t("Comment deleted successfully","success")}catch(G){console.error("Error deleting comment:",G),t("Failed to delete comment","error")}},A=j=>{m(j),F(!0)},B=async()=>{try{const j=localStorage.getItem("token");if(!(await fetch(`${z}/posts/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${j}`}})).ok)throw new Error("Failed to delete post");u(G=>G.filter(Y=>Y.id!==b)),t("Post deleted successfully","success")}catch(j){console.error("Error deleting post:",j),t("Failed to delete post","error")}finally{F(!1),m(null)}};return o?a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-PrimaryColor"},a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-DarkColor"})):s?a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-PrimaryColor"},a.createElement("div",{className:"bg-white p-8 rounded-lg shadow-md"},a.createElement("h2",{className:"text-xl text-red-600 font-semibold mb-4"},"Error"),a.createElement("p",null,s),a.createElement("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor"},"Retry"))):a.createElement("div",{className:"min-h-screen bg-gray-50"},a.createElement(vt,{user:r}),a.createElement("div",{className:"max-w-3xl mx-auto mt-6 px-4 sm:px-6 lg:px-8"},a.createElement("h1",{className:"text-3xl font-bold text-ExtraDarkColor mb-6"},"Dashboard"),a.createElement("div",{className:"bg-white shadow rounded-lg p-4 mb-6"},a.createElement("div",{className:"flex items-center mb-4"},a.createElement("img",{src:(r==null?void 0:r.profilePicture)||xe,alt:r==null?void 0:r.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("h2",{className:"ml-3 font-semibold"},"Create Post")),a.createElement("form",{onSubmit:U},a.createElement("textarea",{value:h,onChange:j=>E(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-DarkColor transition-colors",rows:"3",placeholder:"What's on your mind?"}),$&&a.createElement("div",{className:"mt-3 relative"},k!=null&&k.type.startsWith("image")?a.createElement("img",{src:$,alt:"Preview",className:"w-full max-h-96 object-contain rounded-lg"}):a.createElement("video",{src:$,controls:!0,className:"w-full max-h-96 object-contain rounded-lg"}),a.createElement("button",{type:"button",onClick:()=>{S(null),g(null)},className:"absolute top-2 right-2 bg-gray-800 bg-opacity-70 text-white p-1 rounded-full"},a.createElement("i",{className:"bx bx-x text-xl"}))),a.createElement("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-gray-200"},a.createElement("div",null,a.createElement("input",{type:"file",ref:_,onChange:N,accept:"image/*,video/*",className:"hidden"}),a.createElement("button",{type:"button",onClick:()=>{var j;return(j=_.current)==null?void 0:j.click()},className:"flex items-center text-gray-700 hover:text-DarkColor transition-colors px-3 py-1 rounded-md hover:bg-gray-100"},a.createElement("i",{className:"bx bx-image text-green-500 text-xl mr-1"}),a.createElement("span",null,"Photo/Video"))),a.createElement("button",{type:"submit",disabled:d||!h.trim()&&!k,className:`px-4 py-2 rounded-lg ${d||!h.trim()&&!k?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-DarkColor text-white hover:bg-ExtraDarkColor"} transition-colors`},d?a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Posting..."):"Post")))),a.createElement("div",{className:"space-y-4"},p?a.createElement("div",{className:"text-center py-20"},a.createElement("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-DarkColor"}),a.createElement("p",{className:"mt-2 text-gray-500"},"Loading posts...")):c.length>0?c.map(j=>a.createElement("div",{key:j.id,className:"bg-white p-4 rounded-lg shadow"},a.createElement("div",{className:"flex items-center mb-3 justify-between"},a.createElement("div",{className:"flex items-center"},a.createElement("img",{src:j.authorProfilePicture||xe,alt:j.authorUsername,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("div",{className:"font-medium text-gray-800 cursor-pointer hover:underline",onClick:()=>e(`/profile/${j.authorId}`)},j.authorFirstName&&j.authorLastName?`${j.authorFirstName} ${j.authorLastName}`:j.authorFirstName||j.authorLastName||j.authorUsername),a.createElement("p",{className:"text-xs text-gray-500"},W(j.createdAt)))),r&&j.authorId===r.id&&a.createElement("div",{className:"relative group"},a.createElement("button",{className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-gray-100",onClick:()=>A(j.id),title:"Delete post"},a.createElement("i",{className:"bx bx-trash"})))),j.originalPostId&&a.createElement("div",{className:"mb-3 px-3 py-2 bg-gray-50 rounded-md border-l-4 border-DarkColor"},a.createElement("p",{className:"text-sm font-medium text-gray-600"},a.createElement("i",{className:"bx bx-share bx-flip-horizontal mr-1"}),j.shareMessage?j.shareMessage:"Shared a post")),a.createElement("div",{className:"mb-3"},a.createElement("p",{className:"text-gray-800 whitespace-pre-line"},j.content)),j.mediaUrl&&a.createElement("div",{className:"mb-3 rounded-lg overflow-hidden"},j.mediaType==="IMAGE"?a.createElement("img",{src:j.mediaUrl,alt:"Post media",className:"w-full h-auto"}):a.createElement("video",{src:j.mediaUrl,controls:!0,className:"w-full h-auto"})),a.createElement("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200"},a.createElement("button",{className:`flex items-center ${j.likes&&j.likes.includes(r.id)?"text-blue-500 font-medium":"text-gray-500 hover:text-DarkColor"}`,onClick:()=>R(j.id)},a.createElement("i",{className:`bx ${j.likes&&j.likes.includes(r.id)?"bxs-like":"bx-like"} mr-1`})," ",j.likes?j.likes.length:0," Likes"),a.createElement("button",{className:"flex items-center text-gray-500 hover:text-DarkColor"},a.createElement("i",{className:"bx bx-comment mr-1"})," ",j.comments?j.comments.length:0," Comments"),a.createElement("button",{className:"flex items-center text-gray-500 hover:text-DarkColor",onClick:()=>L(j)},a.createElement("i",{className:"bx bx-share bx-flip-horizontal mr-1"}),j.shares?j.shares.length:0," Shares")),a.createElement(di,{post:j,currentUser:r,formatTime:W,onCommentAdded:x,onCommentDeleted:D}))):a.createElement("div",{className:"bg-white p-6 rounded-lg text-center shadow"},a.createElement("i",{className:"bx bx-message-square-detail text-4xl text-gray-400 mb-3"}),a.createElement("p",{className:"text-gray-600"},"No posts yet. Follow users or create your first post!")))),a.createElement(ui,{isOpen:T,onClose:()=>C(!1),post:P,currentUser:r}),a.createElement(Eo,{isOpen:M,onClose:()=>F(!1),onConfirm:B,title:"Delete Post",message:"Are you sure you want to delete this post? This action cannot be undone and any shared versions of this post will also be removed.",confirmText:"Delete",cancelText:"Cancel"}))},tu=()=>{const e=$e(),{userId:t}=wo(),{addToast:r}=De(),[n,o]=w.useState(null),[l,s]=w.useState([]),[i,c]=w.useState(null),[u,p]=w.useState([]),[f,h]=w.useState(""),[E,k]=w.useState(!0),[S,$]=w.useState(!1),g=w.useRef(null),[d,y]=w.useState(""),[_,T]=w.useState([]),[C,P]=w.useState(!1),[I,M]=w.useState(!1),F=w.useRef(null);w.useEffect(()=>{const x=D=>{F.current&&!F.current.contains(D.target)&&M(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const b=async x=>{if(!x.trim()){T([]),M(!1);return}P(!0);try{const D=localStorage.getItem("token"),A=await fetch(`${z}/users/search?query=${encodeURIComponent(x)}`,{headers:{Authorization:`Bearer ${D}`}});if(!A.ok)throw new Error("Search failed");const B=await A.json();T(B),M(!0)}catch(D){console.error("Error searching users:",D),r("Failed to search users","error")}finally{P(!1)}};w.useEffect(()=>{const x=setTimeout(()=>{d&&b(d)},300);return()=>clearTimeout(x)},[d]);const m=x=>{try{const D=l.find(A=>A.userId===x.id);if(D)c(D);else{const A={userId:x.id,username:x.username,firstName:x.firstName,lastName:x.lastName,profilePicture:x.profilePicture,latestMessage:null,unreadCount:0};s(B=>[A,...B]),c(A)}e(`/messages/${x.id}`),y(""),M(!1)}catch(D){console.error("Error starting conversation:",D),r("Failed to start conversation","error")}};w.useEffect(()=>{(async()=>{const D=localStorage.getItem("token");if(!D){e("/auth");return}try{const A=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${D}`}});if(!A.ok)throw new Error("Failed to fetch profile");const B=await A.json();o(B)}catch(A){console.error("Error fetching profile:",A),r("Failed to load user profile","error")}})()},[e,r]),w.useEffect(()=>{const x=async()=>{if(!n)return;const A=localStorage.getItem("token");try{const B=await fetch(`${z}/messages/conversations`,{headers:{Authorization:`Bearer ${A}`}});if(!B.ok)throw new Error("Failed to fetch conversations");const j=await B.json();s(j),k(!1)}catch(B){console.error("Error fetching conversations:",B),r("Failed to load conversations","error"),k(!1)}};x();const D=setInterval(x,1e4);return()=>clearInterval(D)},[n,r]),w.useEffect(()=>{if(t&&l.length>0){const x=l.find(D=>D.userId===t);x?c(x):v(t)}},[t,l]),w.useEffect(()=>{i&&N(i.userId)},[i]),w.useEffect(()=>{g.current&&g.current.scrollIntoView({behavior:"smooth"})},[u]);const v=async x=>{const D=localStorage.getItem("token");try{const A=await fetch(`${z}/users/${x}`,{headers:{Authorization:`Bearer ${D}`}});if(!A.ok)throw A.status===404?new Error("User not found"):new Error("Failed to fetch user");const B=await A.json(),j={userId:B.id,username:B.username,firstName:B.firstName,lastName:B.lastName,profilePicture:B.profilePicture,latestMessage:null,unreadCount:0};s(V=>V.some(Y=>Y.userId===B.id)?V:[j,...V]),c(j)}catch(A){console.error("Error fetching user:",A),r(`Failed to load user profile: ${A.message}`,"error")}},N=async x=>{const D=localStorage.getItem("token");try{const A=await fetch(`${z}/messages/conversation/${x}`,{headers:{Authorization:`Bearer ${D}`}});if(!A.ok)throw new Error("Failed to fetch messages");const B=await A.json();p(B)}catch(A){console.error("Error fetching messages:",A),r("Failed to load messages","error")}},U=async x=>{if(x.preventDefault(),!f.trim()||!i)return;$(!0);const D=localStorage.getItem("token");try{const A=await fetch(`${z}/messages/send/${i.userId}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({content:f})});if(!A.ok)throw new Error("Failed to send message");const B=await A.json();p(j=>[...j,B]),s(j=>j.map(V=>V.userId===i.userId?{...V,latestMessage:B}:V)),h("")}catch(A){console.error("Error sending message:",A),r("Failed to send message","error")}finally{$(!1)}},W=x=>{c(x),e(`/messages/${x.userId}`)},R=x=>new Date(x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),L=x=>x.firstName&&x.lastName?`${x.firstName} ${x.lastName}`:x.firstName?x.firstName:x.lastName?x.lastName:x.username;return E?a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100"},a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-DarkColor"})):a.createElement("div",{className:"min-h-screen bg-gray-100"},a.createElement(vt,{user:n}),a.createElement("div",{className:"max-w-7xl mx-auto mt-6 h-[calc(100vh-130px)]"},a.createElement("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full flex"},a.createElement("div",{className:"w-1/3 border-r border-gray-200 flex flex-col"},a.createElement("div",{className:"p-4 border-b border-gray-200"},a.createElement("h2",{className:"text-xl font-semibold text-ExtraDarkColor mb-2"},"Messages"),a.createElement("div",{className:"relative",ref:F},a.createElement("div",{className:"relative"},a.createElement("input",{type:"text",className:"w-full bg-gray-100 px-4 py-2 pr-10 rounded-full focus:outline-none focus:ring-2 focus:ring-DarkColor focus:bg-white transition-colors",placeholder:"Search for users...",value:d,onChange:x=>y(x.target.value)}),a.createElement("div",{className:"absolute right-3 top-2.5"},C?a.createElement("div",{className:"animate-spin h-5 w-5 border-2 border-DarkColor border-t-transparent rounded-full"}):a.createElement("i",{className:"bx bx-search text-gray-500"}))),I&&a.createElement("div",{className:"absolute left-0 right-0 mt-2 bg-white rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto"},_.length>0?a.createElement("ul",null,_.map(x=>a.createElement("li",{key:x.id,className:"border-b border-gray-100 last:border-0 hover:bg-gray-50 cursor-pointer",onClick:()=>m(x)},a.createElement("div",{className:"flex items-center p-3"},a.createElement("img",{src:x.profilePicture||xe,alt:x.username,className:"h-10 w-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800"},x.firstName&&x.lastName?`${x.firstName} ${x.lastName}`:x.firstName||x.lastName||x.username),a.createElement("p",{className:"text-xs text-gray-500"},"@",x.username)))))):a.createElement("div",{className:"p-4 text-center text-gray-500"},'No users found matching "',d,'"')))),a.createElement("div",{className:"overflow-y-auto flex-1"},l.length>0?l.map(x=>a.createElement("div",{key:x.userId,className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${(i==null?void 0:i.userId)===x.userId?"bg-gray-100":""}`,onClick:()=>W(x)},a.createElement("div",{className:"flex items-center"},a.createElement("div",{className:"relative"},a.createElement("img",{src:x.profilePicture||xe,alt:x.username,className:"w-12 h-12 rounded-full object-cover"}),x.unreadCount>0&&a.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full"},x.unreadCount)),a.createElement("div",{className:"ml-4 flex-1"},a.createElement("h3",{className:"font-medium text-gray-800"},L(x)),a.createElement("p",{className:"text-sm text-gray-500 truncate"},x.latestMessage?x.latestMessage.content:"No messages yet")),x.latestMessage&&a.createElement("span",{className:"text-xs text-gray-400"},R(x.latestMessage.createdAt))))):a.createElement("div",{className:"p-4 text-center text-gray-500"},a.createElement("p",null,"No conversations yet"),a.createElement("p",{className:"mt-2 text-sm"},"Search above to find users to message")))),a.createElement("div",{className:"w-2/3 flex flex-col"},i?a.createElement(a.Fragment,null,a.createElement("div",{className:"p-4 border-b border-gray-200 flex items-center"},a.createElement("img",{src:i.profilePicture||xe,alt:i.username,className:"w-10 h-10 rounded-full object-cover"}),a.createElement("div",{className:"ml-3"},a.createElement("h3",{className:"font-medium text-gray-800"},L(i)),a.createElement("p",{className:"text-xs text-gray-500"},"@",i.username))),a.createElement("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50"},u.length>0?u.map((x,D)=>a.createElement("div",{key:x.id||D,className:`mb-4 flex ${x.senderId===n.id?"justify-end":"justify-start"}`},a.createElement("div",{className:`max-w-[70%] rounded-lg px-4 py-2 shadow-sm ${x.senderId===n.id?"bg-DarkColor text-white":"bg-white text-gray-800"}`},a.createElement("p",null,x.content),a.createElement("div",{className:`text-xs mt-1 ${x.senderId===n.id?"text-gray-200":"text-gray-500"}`},R(x.createdAt))))):a.createElement("div",{className:"h-full flex items-center justify-center"},a.createElement("div",{className:"text-center text-gray-500"},a.createElement("p",null,"No messages yet"),a.createElement("p",{className:"mt-2 text-sm"},"Send a message to start the conversation"))),a.createElement("div",{ref:g})),a.createElement("div",{className:"p-4 border-t border-gray-200"},a.createElement("form",{onSubmit:U,className:"flex"},a.createElement("input",{type:"text",value:f,onChange:x=>h(x.target.value),className:"flex-1 border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-DarkColor focus:border-transparent",placeholder:"Type a message...",disabled:S}),a.createElement("button",{type:"submit",className:"bg-DarkColor text-white px-4 py-2 rounded-r-lg hover:bg-ExtraDarkColor transition-colors",disabled:!f.trim()||S},S?a.createElement("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.createElement("i",{className:"bx bx-send"}))))):a.createElement("div",{className:"flex-1 flex items-center justify-center"},a.createElement("div",{className:"text-center text-gray-500"},a.createElement("i",{className:"bx bx-message-detail text-6xl mb-4"}),a.createElement("h3",{className:"text-xl font-medium mb-2"},"No conversation selected"),a.createElement("p",null,"Select a conversation or search for a user to start messaging")))))))},Fv=()=>{var k;const{postId:e}=wo(),t=$e(),{addToast:r}=De(),[n,o]=w.useState(null),[l,s]=w.useState(null),[i,c]=w.useState(!0),[u,p]=w.useState(null);w.useEffect(()=>{(async()=>{try{const $=localStorage.getItem("token");if(!$){t("/auth");return}const g=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${$}`}});if(!g.ok)throw new Error("Failed to fetch user profile");const d=await g.json();s(d)}catch($){console.error("Error fetching user profile:",$),p("Failed to load user profile")}})()},[t]),w.useEffect(()=>{e&&(async()=>{try{const $=localStorage.getItem("token"),g=await fetch(`${z}/posts/${e}`,{headers:{Authorization:`Bearer ${$}`}});if(!g.ok)throw new Error("Failed to fetch post");const d=await g.json();o(d)}catch($){console.error("Error fetching post:",$),p("Failed to load post")}finally{c(!1)}})()},[e]);const f=S=>{o(S)},h=S=>{const $=new Date(S),d=new Date-$,y=Math.floor(d/1e3),_=Math.floor(y/60),T=Math.floor(_/60),C=Math.floor(T/24);return y<60?"just now":_<60?`${_}m ago`:T<24?`${T}h ago`:C<7?`${C}d ago`:$.toLocaleDateString()},E=async()=>{if(n)try{const S=localStorage.getItem("token"),$=await fetch(`${z}/posts/${n.id}/like`,{method:"POST",headers:{Authorization:`Bearer ${S}`}});if(!$.ok)throw new Error("Failed to like post");const g=await $.json();o(d=>d&&{...d,likes:g.liked?[...d.likes||[],l.id]:(d.likes||[]).filter(y=>y!==l.id)})}catch(S){console.error("Error liking post:",S),r("Failed to like post","error")}};return i?a.createElement("div",null,a.createElement(vt,{user:l}),a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100"},a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-DarkColor"}))):u||!n?a.createElement("div",null,a.createElement(vt,{user:l}),a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100"},a.createElement("div",{className:"bg-white p-8 rounded-lg shadow-lg"},a.createElement("h2",{className:"text-xl text-red-600 font-semibold mb-4"},"Error"),a.createElement("p",null,u||"Post not found"),a.createElement("button",{onClick:()=>t("/dashboard"),className:"mt-4 px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor"},"Back to Dashboard")))):a.createElement("div",{className:"min-h-screen bg-gray-100"},a.createElement(vt,{user:l}),a.createElement("div",{className:"max-w-3xl mx-auto my-8 px-4"},a.createElement("div",{className:"bg-white rounded-lg shadow-md p-6"},a.createElement("div",{className:"flex items-center mb-4"},a.createElement("img",{src:n.authorProfilePicture||xe,alt:n.authorUsername,className:"h-10 w-10 rounded-full object-cover cursor-pointer",onClick:()=>t(`/profile/${n.authorId}`)}),a.createElement("div",{className:"ml-3"},a.createElement("p",{className:"font-medium text-gray-800 cursor-pointer hover:underline",onClick:()=>t(`/profile/${n.authorId}`)},n.authorFirstName&&n.authorLastName?`${n.authorFirstName} ${n.authorLastName}`:n.authorFirstName||n.authorLastName||n.authorUsername),a.createElement("p",{className:"text-xs text-gray-500"},h(n.createdAt)))),a.createElement("div",{className:"mb-4"},a.createElement("p",{className:"text-gray-800 whitespace-pre-line"},n.content)),n.mediaUrl&&a.createElement("div",{className:"mb-4 rounded-lg overflow-hidden"},n.mediaType==="IMAGE"?a.createElement("img",{src:n.mediaUrl,alt:"Post media",className:"w-full h-auto"}):a.createElement("video",{src:n.mediaUrl,controls:!0,className:"w-full h-auto"})),a.createElement("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200"},a.createElement("button",{className:`flex items-center ${n.likes&&l&&n.likes.includes(l.id)?"text-blue-500 font-medium":"text-gray-500 hover:text-DarkColor"}`,onClick:E},a.createElement("i",{className:`bx ${n.likes&&l&&n.likes.includes(l.id)?"bxs-like":"bx-like"} mr-1`})," ",n.likes?n.likes.length:0," Likes"),a.createElement("button",{className:"flex items-center text-gray-500 hover:text-DarkColor"},a.createElement("i",{className:"bx bx-comment mr-1"})," ",((k=n.comments)==null?void 0:k.length)||0," Comments")),a.createElement(di,{post:n,currentUser:l,formatTime:h,onCommentAdded:f})),a.createElement("div",{className:"mt-4"},a.createElement("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-DarkColor"},a.createElement("i",{className:"bx bx-arrow-back mr-1"})," Back"))))},Mv=()=>{const e=$e(),{addToast:t}=De(),[r,n]=w.useState(null),[o,l]=w.useState(!0),[s,i]=w.useState(!1),[c,u]=w.useState({title:"",description:"",resources:[{title:"",url:"",type:"Video"}],weeks:[{title:"",description:"",status:"Not Started"}]}),[p,f]=w.useState({}),[h,E]=w.useState({}),[k,S]=w.useState(!1),$=["Video","Equipment","Exercise","Nutrition","Supplement"];w.useEffect(()=>{const b=localStorage.getItem("token");if(!b){t("Please log in to continue.","error"),e("/auth");return}(async()=>{try{const v=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${b}`}});if(!v.ok){if(v.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}throw new Error("Failed to fetch user")}const N=await v.json();n(N)}catch(v){console.error("Error fetching user:",v),t("Failed to load user data. Please try again.","error")}finally{l(!1)}})()},[e,t]);const g=()=>{const b={};return c.title.trim()?c.title.length<3?b.title="Title must be at least 3 characters long":c.title.length>255&&(b.title="Title cannot exceed 255 characters"):b.title="Title is required",c.description&&(c.description.length<10?b.description="Description must be at least 10 characters long if provided":c.description.length>1e3&&(b.description="Description cannot exceed 1000 characters")),c.resources.length===0?b.resources="At least one resource is required":c.resources.forEach((m,v)=>{m.title.trim()?m.title.length<3?b[`resourceTitle${v}`]="Resource title must be at least 3 characters long":m.title.length>100&&(b[`resourceTitle${v}`]="Resource title cannot exceed 100 characters"):b[`resourceTitle${v}`]="Resource title is required",m.url.trim()?/^https?:\/\/[^\s$.?#].[^\s]*$/.test(m.url)?m.url.length>2048&&(b[`resourceUrl${v}`]="URL cannot exceed 2048 characters"):b[`resourceUrl${v}`]="Invalid URL format (must start with http:// or https://)":b[`resourceUrl${v}`]="Resource URL is required",m.type?$.includes(m.type)||(b[`resourceType${v}`]="Invalid resource type"):b[`resourceType${v}`]="Resource type is required"}),c.weeks.length===0?b.weeks="At least one week is required":c.weeks.forEach((m,v)=>{m.title.trim()?m.title.length<3?b[`weekTitle${v}`]="Week title must be at least 3 characters long":m.title.length>100&&(b[`weekTitle${v}`]="Week title cannot exceed 100 characters"):b[`weekTitle${v}`]="Week title is required",m.description&&(m.description.length<10?b[`weekDescription${v}`]="Week description must be at least 10 characters long if provided":m.description.length>500&&(b[`weekDescription${v}`]="Week description cannot exceed 500 characters")),m.status?["Not Started","In Progress","Completed"].includes(m.status)||(b[`weekStatus${v}`]="Invalid week status"):b[`weekStatus${v}`]="Week status is required"}),f(b),Object.keys(b).length===0},d=(b,m,v,N)=>{const{value:U}=b.target,W=m?`${m}${N}${v}`:b.target.name;if(m){const R=[...c[m]];R[v]={...R[v],[N]:U},u({...c,[m]:R})}else u({...c,[b.target.name]:U});E(R=>({...R,[W]:!0})),f(R=>({...R,[W]:""})),g()},y=(b,m,v)=>{const N=b?`${b}${v}${m}`:v;E(U=>({...U,[N]:!0})),g()},_=()=>{u({...c,resources:[...c.resources,{title:"",url:"",type:"Video"}]}),E(b=>({...b,[`resourceTitle${c.resources.length}`]:!1,[`resourceUrl${c.resources.length}`]:!1,[`resourceType${c.resources.length}`]:!1}))},T=b=>{u({...c,resources:c.resources.filter((m,v)=>v!==b)}),f(m=>{const v={...m};return delete v[`resourceTitle${b}`],delete v[`resourceUrl${b}`],delete v[`resourceType${b}`],v}),E(m=>{const v={...m};return delete v[`resourceTitle${b}`],delete v[`resourceUrl${b}`],delete v[`resourceType${b}`],v}),g()},C=()=>{u({...c,weeks:[...c.weeks,{title:"",description:"",status:"Not Started"}]}),E(b=>({...b,[`weekTitle${c.weeks.length}`]:!1,[`weekDescription${c.weeks.length}`]:!1,[`weekStatus${c.weeks.length}`]:!1}))},P=b=>{u({...c,weeks:c.weeks.filter((m,v)=>v!==b)}),f(m=>{const v={...m};return delete v[`weekTitle${b}`],delete v[`weekDescription${b}`],delete v[`weekStatus${b}`],v}),E(m=>{const v={...m};return delete v[`weekTitle${b}`],delete v[`weekDescription${b}`],delete v[`weekStatus${b}`],v}),g()},I=async b=>{if(b.preventDefault(),S(!0),!g()){t("Please fix the errors in the form.","error");return}if(window.confirm("Are you sure you want to create this fitness schedule?")){i(!0);try{const m=localStorage.getItem("token"),v=await fetch(`${z}/learning-plan`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({title:c.title,description:c.description,resources:c.resources,weeks:c.weeks})}),N=v.headers.get("Content-Type");let U="Failed to create fitness schedule";if(!v.ok)throw N&&N.includes("application/json")?U=(await v.json()).message||U:U=await v.text()||`Error ${v.status}: ${v.statusText}`,v.status===403?U="You do not have permission to create a fitness schedule.":v.status===401&&(localStorage.removeItem("token"),e("/auth"),U="Session expired. Please log in again."),new Error(U);const W=await v.json();t("Fitness schedule created successfully!","success"),e("/profile")}catch(m){console.error("Error creating fitness schedule:",m),t(m.message||"Failed to create fitness schedule. Please try again.","error")}finally{i(!1)}}},M=()=>{window.confirm("Are you sure you want to discard changes?")&&e("/")};if(o)return a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-blue-50"},a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"}));const F=Object.keys(p).length>0;return a.createElement("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white"},a.createElement(vt,{user:r}),a.createElement("div",{className:"max-w-4xl mx-auto pt-8 pb-12 px-4 sm:px-6 lg:px-8"},a.createElement("div",{className:"flex justify-between items-center mb-6"},a.createElement("h1",{className:"text-2xl font-bold text-gray-800"},"Create a Fitness Schedule"),a.createElement("button",{onClick:()=>e("/profile"),className:"flex items-center text-indigo-600 hover:text-indigo-800 font-medium text-sm transition-colors duration-200"},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back to Schedules")),a.createElement("form",{onSubmit:I,className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},a.createElement("div",{className:"mb-6"},a.createElement("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1"},"Schedule Title"),a.createElement("input",{type:"text",id:"title",name:"title",value:c.title,onChange:b=>d(b),onBlur:()=>y(null,null,"title"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h.title||k)&&p.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter schedule title",required:!0}),(h.title||k)&&p.title&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p.title)),a.createElement("div",{className:"mb-6"},a.createElement("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("textarea",{id:"description",name:"description",value:c.description,onChange:b=>d(b),onBlur:()=>y(null,null,"description"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h.description||k)&&p.description?"border-red-500":"border-gray-300"}`,placeholder:"What are your fitness goals with this schedule?",rows:"4"}),(h.description||k)&&p.description&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p.description)),a.createElement("div",{className:"mb-8"},a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Fitness Resources"),a.createElement("button",{type:"button",onClick:_,className:"flex items-center px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors duration-200 text-sm font-medium"},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add Resource")),(h.resources||k)&&p.resources&&a.createElement("p",{className:"mb-3 text-sm text-red-600"},p.resources),a.createElement("div",{className:"space-y-4"},c.resources.map((b,m)=>a.createElement("div",{key:m,className:"p-4 bg-gray-50 border border-gray-100 rounded-lg"},a.createElement("div",{className:"flex justify-between items-center mb-3"},a.createElement("h3",{className:"text-sm font-medium text-gray-700"},"Resource ",m+1),a.createElement("button",{type:"button",onClick:()=>T(m),className:"text-red-500 hover:text-red-700 text-sm font-medium transition-colors duration-200 flex items-center",disabled:c.resources.length===1},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v8m4-8v8m1-10l-1-1m0 0l-1 1m1-1V3a1 1 0 00-1-1H9a1 1 0 00-1 1v2m11 13h-4.5m-9 0H6"})),"Remove")),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title"),a.createElement("input",{type:"text",value:b.title,onChange:v=>d(v,"resources",m,"title"),onBlur:()=>y("resources",m,"title"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h[`resourcesTitle${m}`]||k)&&p[`resourceTitle${m}`]?"border-red-500":"border-gray-300"}`,placeholder:"Resource title",required:!0}),(h[`resourcesTitle${m}`]||k)&&p[`resourceTitle${m}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p[`resourceTitle${m}`])),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Type"),a.createElement("select",{value:b.type,onChange:v=>d(v,"resources",m,"type"),onBlur:()=>y("resources",m,"type"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h[`resourcesType${m}`]||k)&&p[`resourceType${m}`]?"border-red-500":"border-gray-300"}`,required:!0},a.createElement("option",{value:"",disabled:!0},"Select type"),$.map(v=>a.createElement("option",{key:v,value:v},v))),(h[`resourcesType${m}`]||k)&&p[`resourceType${m}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p[`resourceType${m}`]))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"URL"),a.createElement("input",{type:"url",value:b.url,onChange:v=>d(v,"resources",m,"url"),onBlur:()=>y("resources",m,"url"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h[`resourcesUrl${m}`]||k)&&p[`resourceUrl${m}`]?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com",required:!0}),(h[`resourcesUrl${m}`]||k)&&p[`resourceUrl${m}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p[`resourceUrl${m}`])))))),a.createElement("div",{className:"mb-8"},a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Weekly Workout Schedule"),a.createElement("button",{type:"button",onClick:C,className:"flex items-center px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors duration-200 text-sm font-medium"},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add Week")),(h.weeks||k)&&p.weeks&&a.createElement("p",{className:"mb-3 text-sm text-red-600"},p.weeks),a.createElement("div",{className:"space-y-4"},c.weeks.map((b,m)=>a.createElement("div",{key:m,className:"p-4 bg-gray-50 border border-gray-100 rounded-lg"},a.createElement("div",{className:"flex justify-between items-center mb-3"},a.createElement("h3",{className:"text-sm font-medium text-gray-700"},"Week ",m+1),a.createElement("button",{type:"button",onClick:()=>P(m),className:"text-red-500 hover:text-red-700 text-sm font-medium transition-colors duration-200 flex items-center",disabled:c.weeks.length===1},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v8m4-8v8m1-10l-1-1m0 0l-1 1m1-1V3a1 1 0 00-1-1H9a1 1 0 00-1 1v2m11 13h-4.5m-9 0H6"})),"Remove")),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title"),a.createElement("input",{type:"text",value:b.title,onChange:v=>d(v,"weeks",m,"title"),onBlur:()=>y("weeks",m,"title"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h[`weeksTitle${m}`]||k)&&p[`weekTitle${m}`]?"border-red-500":"border-gray-300"}`,placeholder:"Week focus (e.g., Cardio & Core)",required:!0}),(h[`weeksTitle${m}`]||k)&&p[`weekTitle${m}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p[`weekTitle${m}`])),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:b.status,onChange:v=>d(v,"weeks",m,"status"),onBlur:()=>y("weeks",m,"status"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h[`weeksStatus${m}`]||k)&&p[`weekStatus${m}`]?"border-red-500":"border-gray-300"}`,required:!0},a.createElement("option",{value:"Not Started"},"Not Started"),a.createElement("option",{value:"In Progress"},"In Progress"),a.createElement("option",{value:"Completed"},"Completed")),(h[`weeksStatus${m}`]||k)&&p[`weekStatus${m}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p[`weekStatus${m}`]))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("textarea",{value:b.description,onChange:v=>d(v,"weeks",m,"description"),onBlur:()=>y("weeks",m,"description"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(h[`weeksDescription${m}`]||k)&&p[`weekDescription${m}`]?"border-red-500":"border-gray-300"}`,placeholder:"Describe the exercises and goals for this week",rows:"2"}),(h[`weeksDescription${m}`]||k)&&p[`weekDescription${m}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},p[`weekDescription${m}`])))))),a.createElement("div",{className:"border-t border-gray-100 pt-6 flex justify-end space-x-4"},a.createElement("button",{type:"button",onClick:M,className:"px-4 py-2 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors duration-200 font-medium"},"Cancel"),a.createElement("button",{type:"submit",disabled:s||k&&F,className:`px-5 py-2 rounded-lg text-white font-medium flex items-center ${s||k&&F?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 transition-colors duration-200"}`},s?a.createElement(a.Fragment,null,a.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},a.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Creating..."):a.createElement(a.Fragment,null,a.createElement("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),"Create Fitness Schedule"))))))},Ov=()=>{const e=$e(),{addToast:t}=De(),[r,n]=w.useState(null),[o,l]=w.useState([]),[s,i]=w.useState(!0),[c,u]=w.useState(!1);w.useEffect(()=>{const h=localStorage.getItem("token");if(!h){e("/auth");return}let E=!0;return(async()=>{try{const S=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${h}`}});if(!S.ok){if(S.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error("Failed to fetch user")}const $=await S.json();E&&n($)}catch(S){E&&(console.error("Error fetching user:",S),t("Failed to load user data. Please try again.","error"))}})(),()=>{E=!1}},[e,t]),w.useEffect(()=>{if(!(r!=null&&r.id))return;let h=!0;return(async()=>{u(!0);try{const k=localStorage.getItem("token"),S=await fetch(`${z}/learning-plan/user/${r.id}`,{headers:{Authorization:`Bearer ${k}`}});if(!S.ok)throw new Error(`Failed to fetch learning plans: ${S.status}`);const $=await S.json();h&&(console.log("Fetched user learning plans:",$),l($))}catch(k){h&&(console.error("Error fetching learning plans:",k),t("Failed to load learning plans. Please try again.","error"),l([]))}finally{h&&(u(!1),i(!1))}})(),()=>{h=!1}},[r==null?void 0:r.id,t,e]);const p=async h=>{if(window.confirm("Are you sure you want to delete this learning plan?"))try{const E=localStorage.getItem("token");if(!(await fetch(`${z}/learning-plan/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).ok)throw new Error("Failed to delete learning plan");l(o.filter(S=>S.id!==h)),t("Learning plan deleted successfully!","success")}catch(E){console.error("Error deleting learning plan:",E),t("Failed to delete learning plan. Please try again.","error")}},f=h=>{e(`/learning-plans/edit/${h}`)};return s?a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-50"},a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-DarkColor"})):a.createElement("div",{className:"min-h-screen bg-gray-50"},a.createElement(vt,{user:r}),a.createElement("div",{className:"max-w-5xl mx-auto mt-6 px-4 sm:px-6 lg:px-8"},a.createElement("div",{className:"flex justify-between items-center mb-6"},a.createElement("h1",{className:"text-2xl font-semibold text-gray-900"},"My Learning Plans"),r&&a.createElement("button",{onClick:()=>e("/learning-plans/create"),className:"px-4 py-2 bg-DarkColor text-white rounded-md hover:bg-ExtraDarkColor"},"Create New Plan")),c?a.createElement("div",{className:"flex justify-center items-center py-6"},a.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-DarkColor"})):o.length===0?a.createElement("div",{className:"text-center py-6"},a.createElement("p",{className:"text-gray-500"},"No learning plans found. Create one to get started!")):a.createElement("div",{className:"space-y-6"},o.map(h=>a.createElement("div",{key:h.id,className:"bg-white shadow-md rounded-lg p-6"},a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h2",{className:"text-xl font-semibold text-gray-900"},h.title||"Untitled"),a.createElement("div",{className:"space-x-2"},a.createElement("button",{onClick:()=>f(h.id),className:"text-DarkColor hover:text-ExtraDarkColor"},"Edit"),a.createElement("button",{onClick:()=>p(h.id),className:"text-red-600 hover:text-red-800"},"Delete"))),a.createElement("p",{className:"text-gray-600 mb-4"},h.description||"No description"),a.createElement("div",{className:"text-gray-600 mb-4"},a.createElement("span",null,"Duration:"," ",Array.isArray(h.weeks)&&h.weeks.length>0?`${h.weeks.length} weeks`:"N/A")),h.resources&&Array.isArray(h.resources)&&h.resources.length>0&&a.createElement("div",{className:"mb-4"},a.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Resources"),a.createElement("ul",{className:"list-disc pl-5 space-y-1"},h.resources.map((E,k)=>a.createElement("li",{key:k,className:"text-gray-600"},a.createElement("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"text-DarkColor hover:underline"},E.title||"Untitled Resource")," ","(",E.type||"Unknown",")")))),h.weeks&&Array.isArray(h.weeks)&&h.weeks.length>0&&a.createElement("div",{className:"mb-4"},a.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Timeline"),a.createElement("div",{className:"space-y-4"},h.weeks.map((E,k)=>a.createElement("div",{key:k,className:"border-l-2 border-DarkColor pl-4"},a.createElement("h4",{className:"text-sm font-medium text-gray-700"},E.title||`Week ${k+1}`),a.createElement("p",{className:"text-gray-600"},E.description||"No description"),E.status&&typeof E.status=="string"&&a.createElement("span",{className:`inline-block mt-1 px-2 py-1 text-xs font-medium rounded-full ${E.status==="Completed"?"bg-green-100 text-green-800":E.status==="In Progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`},E.status))))))))))},Bv=()=>{const e=$e(),{addToast:t}=De(),{id:r}=wo(),[n,o]=w.useState(null),[l,s]=w.useState(!0),[i,c]=w.useState(!1),[u,p]=w.useState({title:"",description:"",resources:[],weeks:[]}),[f,h]=w.useState({}),[E,k]=w.useState({}),[S,$]=w.useState(!1),g=["Video","Documentation","Article","Tutorial","Book"];w.useEffect(()=>{const m=localStorage.getItem("token");if(!m){e("/auth");return}const v=async()=>{try{const U=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${m}`}});if(!U.ok){if(U.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error("Failed to fetch user")}const W=await U.json();o(W)}catch(U){console.error("Error fetching user:",U),t("Failed to load user data.","error")}},N=async()=>{try{const U=await fetch(`${z}/learning-plan/${r}`,{headers:{Authorization:`Bearer ${m}`}});if(!U.ok)throw new Error("Failed to fetch learning plan");const W=await U.json();p({title:W.title||"",description:W.description||"",resources:W.resources&&Array.isArray(W.resources)&&W.resources.length>0?W.resources:[{title:"",url:"",type:"Video"}],weeks:W.weeks&&Array.isArray(W.weeks)&&W.weeks.length>0?W.weeks:[{title:"",description:"",status:"Not Started"}]})}catch(U){console.error("Error fetching learning plan:",U),t("Failed to load learning plan.","error"),e("/learning-plans/my-plans")}};v().then(N).finally(()=>s(!1))},[e,t,r]);const d=()=>{const m={};return u.title.trim()?u.title.length<3?m.title="Title must be at least 3 characters long":u.title.length>255&&(m.title="Title cannot exceed 255 characters"):m.title="Title is required",u.description&&(u.description.length<10?m.description="Description must be at least 10 characters long if provided":u.description.length>1e3&&(m.description="Description cannot exceed 1000 characters")),u.resources.length===0?m.resources="At least one resource is required":u.resources.forEach((v,N)=>{v.title.trim()?v.title.length<3?m[`resourceTitle${N}`]="Resource title must be at least 3 characters long":v.title.length>100&&(m[`resourceTitle${N}`]="Resource title cannot exceed 100 characters"):m[`resourceTitle${N}`]="Resource title is required",v.url.trim()?/^https?:\/\/[^\s$.?#].[^\s]*$/.test(v.url)?v.url.length>2048&&(m[`resourceUrl${N}`]="URL cannot exceed 2048 characters"):m[`resourceUrl${N}`]="Invalid URL format (must start with http:// or https://)":m[`resourceUrl${N}`]="Resource URL is required",v.type?g.includes(v.type)||(m[`resourceType${N}`]="Invalid resource type"):m[`resourceType${N}`]="Resource type is required"}),u.weeks.length===0?m.weeks="At least one week is required":u.weeks.forEach((v,N)=>{v.title.trim()?v.title.length<3?m[`weekTitle${N}`]="Week title must be at least 3 characters long":v.title.length>100&&(m[`weekTitle${N}`]="Week title cannot exceed 100 characters"):m[`weekTitle${N}`]="Week title is required",v.description&&(v.description.length<10?m[`weekDescription${N}`]="Week description must be at least 10 characters long if provided":v.description.length>500&&(m[`weekDescription${N}`]="Week description cannot exceed 500 characters")),v.status?["Not Started","In Progress","Completed"].includes(v.status)||(m[`weekStatus${N}`]="Invalid week status"):m[`weekStatus${N}`]="Week status is required"}),h(m),Object.keys(m).length===0},y=(m,v,N,U)=>{const{value:W}=m.target,R=v?`${v}${U}${N}`:m.target.name;if(v){const L=[...u[v]];L[N]={...L[N],[U]:W},p({...u,[v]:L})}else p({...u,[m.target.name]:W});k(L=>({...L,[R]:!0})),h(L=>({...L,[R]:""})),d()},_=(m,v,N)=>{const U=m?`${m}${N}${v}`:N;k(W=>({...W,[U]:!0})),d()},T=()=>{p({...u,resources:[...u.resources,{title:"",url:"",type:"Video"}]}),k(m=>({...m,[`resourceTitle${u.resources.length}`]:!1,[`resourceUrl${u.resources.length}`]:!1,[`resourceType${u.resources.length}`]:!1}))},C=m=>{p({...u,resources:u.resources.filter((v,N)=>N!==m)}),h(v=>{const N={...v};return delete N[`resourceTitle${m}`],delete N[`resourceUrl${m}`],delete N[`resourceType${m}`],N}),k(v=>{const N={...v};return delete N[`resourceTitle${m}`],delete N[`resourceUrl${m}`],delete N[`resourceType${m}`],N}),d()},P=()=>{p({...u,weeks:[...u.weeks,{title:"",description:"",status:"Not Started"}]}),k(m=>({...m,[`weekTitle${u.weeks.length}`]:!1,[`weekDescription${u.weeks.length}`]:!1,[`weekStatus${u.weeks.length}`]:!1}))},I=m=>{p({...u,weeks:u.weeks.filter((v,N)=>N!==m)}),h(v=>{const N={...v};return delete N[`weekTitle${m}`],delete N[`weekDescription${m}`],delete N[`weekStatus${m}`],N}),k(v=>{const N={...v};return delete N[`weekTitle${m}`],delete N[`weekDescription${m}`],delete N[`weekStatus${m}`],N}),d()},M=async m=>{if(m.preventDefault(),$(!0),!d()){t("Please fix the errors in the form.","error");return}if(window.confirm("Are you sure you want to update this learning plan?")){c(!0);try{const v=localStorage.getItem("token"),N=await fetch(`${z}/learning-plan/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({title:u.title,description:u.description,resources:u.resources,weeks:u.weeks})});if(!N.ok){const U=N.headers.get("Content-Type");let W="Failed to update learning plan";throw U&&U.includes("application/json")?W=(await N.json()).message||W:W=await N.text()||`Error ${N.status}: ${N.statusText}`,new Error(W)}t("Learning plan updated successfully!","success"),e("/profile")}catch(v){console.error("Error updating learning plan:",v),t(v.message||"Failed to update learning plan.","error")}finally{c(!1)}}},F=()=>{window.confirm("Are you sure you want to discard changes?")&&e("/learning-plans/my-plans")};if(l)return a.createElement("div",{className:"flex justify-center items-center min-h-screen bg-blue-50"},a.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"}));const b=Object.keys(f).length>0;return a.createElement("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white"},a.createElement(vt,{user:n}),a.createElement("div",{className:"max-w-4xl mx-auto pt-8 pb-12 px-4 sm:px-6 lg:px-8"},a.createElement("div",{className:"flex justify-between items-center mb-6"},a.createElement("h1",{className:"text-2xl font-bold text-gray-800"},"Edit Learning Plan"),a.createElement("button",{onClick:()=>e("/learning-plans/my-plans"),className:"flex items-center text-indigo-600 hover:text-indigo-800 font-medium text-sm transition-colors duration-200"},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back to Plans")),a.createElement("form",{onSubmit:M,className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},a.createElement("div",{className:"mb-6"},a.createElement("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1"},"Plan Title"),a.createElement("input",{type:"text",id:"title",name:"title",value:u.title,onChange:m=>y(m),onBlur:()=>_(null,null,"title"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E.title||S)&&f.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter plan title",required:!0}),(E.title||S)&&f.title&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f.title)),a.createElement("div",{className:"mb-6"},a.createElement("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("textarea",{id:"description",name:"description",value:u.description,onChange:m=>y(m),onBlur:()=>_(null,null,"description"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E.description||S)&&f.description?"border-red-500":"border-gray-300"}`,placeholder:"What do you want to achieve with this learning plan?",rows:"4"}),(E.description||S)&&f.description&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f.description)),a.createElement("div",{className:"mb-8"},a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Learning Resources"),a.createElement("button",{type:"button",onClick:T,className:"flex items-center px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors duration-200 text-sm font-medium"},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add Resource")),(E.resources||S)&&f.resources&&a.createElement("p",{className:"mb-3 text-sm text-red-600"},f.resources),a.createElement("div",{className:"space-y-4"},u.resources.map((m,v)=>a.createElement("div",{key:v,className:"p-4 bg-gray-50 border border-gray-100 rounded-lg"},a.createElement("div",{className:"flex justify-between items-center mb-3"},a.createElement("h3",{className:"text-sm font-medium text-gray-700"},"Resource ",v+1),a.createElement("button",{type:"button",onClick:()=>C(v),className:"text-red-500 hover:text-red-700 text-sm font-medium transition-colors duration-200 flex items-center",disabled:u.resources.length===1},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v8m4-8v8m1-10l-1-1m0 0l-1 1m1-1V3a1 1 0 00-1-1H9a1 1 0 00-1 1v2m11 13h-4.5m-9 0H6"})),"Remove")),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title"),a.createElement("input",{type:"text",value:m.title,onChange:N=>y(N,"resources",v,"title"),onBlur:()=>_("resources",v,"title"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E[`resourcesTitle${v}`]||S)&&f[`resourceTitle${v}`]?"border-red-500":"border-gray-300"}`,placeholder:"Resource title",required:!0}),(E[`resourcesTitle${v}`]||S)&&f[`resourceTitle${v}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f[`resourceTitle${v}`])),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Type"),a.createElement("select",{value:m.type,onChange:N=>y(N,"resources",v,"type"),onBlur:()=>_("resources",v,"type"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E[`resourcesType${v}`]||S)&&f[`resourceType${v}`]?"border-red-500":"border-gray-300"}`,required:!0},a.createElement("option",{value:"",disabled:!0},"Select type"),g.map(N=>a.createElement("option",{key:N,value:N},N))),(E[`resourcesType${v}`]||S)&&f[`resourceType${v}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f[`resourceType${v}`]))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"URL"),a.createElement("input",{type:"url",value:m.url,onChange:N=>y(N,"resources",v,"url"),onBlur:()=>_("resources",v,"url"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E[`resourcesUrl${v}`]||S)&&f[`resourceUrl${v}`]?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com",required:!0}),(E[`resourcesUrl${v}`]||S)&&f[`resourceUrl${v}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f[`resourceUrl${v}`])))))),a.createElement("div",{className:"mb-8"},a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Weekly Timeline"),a.createElement("button",{type:"button",onClick:P,className:"flex items-center px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors duration-200 text-sm font-medium"},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add Week")),(E.weeks||S)&&f.weeks&&a.createElement("p",{className:"mb-3 text-sm text-red-600"},f.weeks),a.createElement("div",{className:"space-y-4"},u.weeks.map((m,v)=>a.createElement("div",{key:v,className:"p-4 bg-gray-50 border border-gray-100 rounded-lg"},a.createElement("div",{className:"flex justify-between items-center mb-3"},a.createElement("h3",{className:"text-sm font-medium text-gray-700"},"Week ",v+1),a.createElement("button",{type:"button",onClick:()=>I(v),className:"text-red-500 hover:text-red-700 text-sm font-medium transition-colors duration-200 flex items-center",disabled:u.weeks.length===1},a.createElement("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v8m4-8v8m1-10l-1-1m0 0l-1 1m1-1V3a1 1 0 00-1-1H9a1 1 0 00-1 1v2m11 13h-4.5m-9 0H6"})),"Remove")),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title"),a.createElement("input",{type:"text",value:m.title,onChange:N=>y(N,"weeks",v,"title"),onBlur:()=>_("weeks",v,"title"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E[`weeksTitle${v}`]||S)&&f[`weekTitle${v}`]?"border-red-500":"border-gray-300"}`,placeholder:"Week title",required:!0}),(E[`weeksTitle${v}`]||S)&&f[`weekTitle${v}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f[`weekTitle${v}`])),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:m.status,onChange:N=>y(N,"weeks",v,"status"),onBlur:()=>_("weeks",v,"status"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E[`weeksStatus${v}`]||S)&&f[`weekStatus${v}`]?"border-red-500":"border-gray-300"}`,required:!0},a.createElement("option",{value:"Not Started"},"Not Started"),a.createElement("option",{value:"In Progress"},"In Progress"),a.createElement("option",{value:"Completed"},"Completed")),(E[`weeksStatus${v}`]||S)&&f[`weekStatus${v}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f[`weekStatus${v}`]))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("textarea",{value:m.description,onChange:N=>y(N,"weeks",v,"description"),onBlur:()=>_("weeks",v,"description"),className:`block w-full border rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ${(E[`weeksDescription${v}`]||S)&&f[`weekDescription${v}`]?"border-red-500":"border-gray-300"}`,placeholder:"What do you plan to achieve this week?",rows:"2"}),(E[`weeksDescription${v}`]||S)&&f[`weekDescription${v}`]&&a.createElement("p",{className:"mt-1 text-sm text-red-600"},f[`weekDescription${v}`])))))),a.createElement("div",{className:"border-t border-gray-100 pt-6 flex justify-end space-x-4"},a.createElement("button",{type:"button",onClick:F,className:"px-4 py-2 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors duration-200 font-medium"},"Cancel"),a.createElement("button",{type:"submit",disabled:i||S&&b,className:`px-5 py-2 rounded-lg text-white font-medium flex items-center ${i||S&&b?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 transition-colors duration-200"}`},i?a.createElement(a.Fragment,null,a.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},a.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Updating..."):a.createElement(a.Fragment,null,a.createElement("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),"Update Learning Plan"))))))},Uv=()=>{const e=$e(),{addToast:t}=De(),[r,n]=w.useState(null),[o,l]=w.useState([]),[s,i]=w.useState(new Set),[c,u]=w.useState({}),[p,f]=w.useState(!0),[h,E]=w.useState(!1),[k,S]=w.useState(!1),[$,g]=w.useState(null);w.useEffect(()=>{const P=localStorage.getItem("token");if(!P){e("/auth");return}let I=!0;return(async()=>{try{const F=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${P}`}});if(!F.ok){if(F.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error("Failed to fetch user")}const b=await F.json();I&&n(b)}catch(F){I&&(console.error("Error fetching user:",F),t("Failed to load user data. Please try again.","error"))}})(),()=>{I=!1}},[e,t]),w.useEffect(()=>{let P=!0;return(async()=>{E(!0);try{const M=localStorage.getItem("token"),F=await fetch(`${z}/learning-plan`,{headers:{Authorization:`Bearer ${M}`}});if(!F.ok)throw new Error(`Failed to fetch learning plans: ${F.status}`);const b=await F.json();if(P){const m=b.filter(v=>!(v.userId===(r==null?void 0:r.id)&&s.has(v.id)));l(m)}}catch(M){P&&(console.error("Error fetching learning plans:",M),t("Failed to load learning plans. Please try again.","error"),l([]))}finally{P&&(E(!1),f(!1))}})(),()=>{P=!1}},[t,r==null?void 0:r.id,s]),w.useEffect(()=>{if(!(r!=null&&r.id))return;let P=!0;return(async()=>{try{const M=localStorage.getItem("token"),F=await fetch(`${z}/learning-plan/user/${r.id}`,{headers:{Authorization:`Bearer ${M}`}});if(!F.ok)throw new Error(`Failed to fetch followed plans: ${F.status}`);const b=await F.json();if(P){const m=new Set(b.filter(v=>v.sourcePlanId).map(v=>v.sourcePlanId));i(m)}}catch(M){P&&(console.error("Error fetching followed plans:",M),t("Failed to load followed plans. Please try again.","error"))}})(),()=>{P=!1}},[r==null?void 0:r.id,t]),w.useEffect(()=>{if(o.length===0)return;let P=!0;return(async()=>{S(!0);try{const M=localStorage.getItem("token"),F=[...new Set(o.map(m=>m.userId).filter(Boolean))],b={};await Promise.all(F.map(async m=>{try{const v=await fetch(`${z}/users/by-id/${m}`,{headers:{Authorization:`Bearer ${M}`}});if(!v.ok){if(v.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}console.warn(`Failed to fetch user ${m}: ${v.status}`),b[m]="Unknown";return}const N=await v.json();b[m]=N.username||"Unknown"}catch(v){console.error(`Error fetching user ${m}:`,v),b[m]="Unknown"}})),P&&u(b)}catch(M){P&&(console.error("Error fetching usernames:",M),t("Failed to load usernames.","error"))}finally{P&&S(!1)}})(),()=>{P=!1}},[o,t,e]);const d=P=>{g(P)},y=()=>{g(null)},_=async P=>{try{const I=localStorage.getItem("token"),M=await fetch(`${z}/learning-plan/follow/${P}`,{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!M.ok){if(M.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}if(M.status===400){const F=await M.json();t(F.error||"Cannot follow this learning plan.","error");return}if(M.status===404){t("Learning plan not found.","error");return}throw new Error(`Failed to follow learning plan: ${M.status}`)}i(F=>new Set([...F,P])),t("Learning plan followed successfully! View it in your followed plans.","success"),e("/profile")}catch(I){console.error("Error following learning plan:",I),t(I.message||"Failed to follow learning plan.","error")}},T=P=>{if(!Array.isArray(P)||P.length===0)return 0;const I=P.filter(M=>M.status==="Completed").length;return Math.round(I/P.length*100)},C={container:"min-h-screen bg-gradient-to-b from-blue-50 to-white",wrapper:"max-w-5xl mx-auto pt-8 pb-12 px-4 sm:px-6 lg:px-8",loadingContainer:"flex justify-center items-center min-h-screen",loadingSpinner:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600",loadingPlanSpinner:"animate-spin rounded-full h-8 w-8 border-t-3 border-b-3 border-indigo-600",emptyContainer:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-100",emptyText:"text-gray-500 font-medium",headerContainer:"flex justify-between items-center mb-8",headerTitle:"text-2xl font-bold text-gray-800",planCardContainer:"grid gap-6 md:grid-cols-2",planCard:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",planCardHeader:"flex justify-between items-center mb-4",planTitle:"text-xl font-semibold text-gray-800 cursor-pointer hover:text-indigo-600 transition-colors duration-200",actionsContainer:"flex space-x-3",followButton:"text-green-600 hover:text-green-800 font-medium text-sm transition-colors duration-200",followingText:"text-gray-500 font-medium text-sm",description:"text-gray-600 mb-4 line-clamp-2",metaInfo:"text-gray-500 text-sm flex items-center gap-2",breadcrumbs:"flex space-x-6 items-center mb-6",breadcrumbLink:"text-gray-600 hover:text-indigo-600 font-medium text-sm transition-colors duration-200 flex items-center gap-1",detailCard:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 mb-6",detailTitle:"text-2xl font-bold text-gray-800 mb-3",authorContainer:"flex items-center mb-5 text-gray-600",authorIcon:"w-5 h-5 mr-2 text-gray-500",sectionTitle:"text-lg font-semibold text-gray-800 mb-3",divider:"border-t border-gray-100 my-6",resourceList:"space-y-3 mb-6",resourceItem:"flex items-center text-gray-600 hover:text-indigo-600 transition-colors duration-200",resourceIcon:"w-5 h-5 mr-3 text-gray-500",progressBar:"w-full bg-gray-200 rounded-full h-2.5 mb-4",progressFill:"bg-green-500 h-2.5 rounded-full"};return p?a.createElement("div",{className:C.loadingContainer},a.createElement("div",{className:C.loadingSpinner})):a.createElement("div",{className:C.container},a.createElement(vt,{user:r}),a.createElement("div",{className:C.wrapper},$?a.createElement("div",null,a.createElement("div",{className:C.breadcrumbs},a.createElement("button",{onClick:y,className:C.breadcrumbLink},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back to All Plans")),a.createElement("div",{className:C.detailCard},a.createElement("div",{className:"flex justify-between"},a.createElement("h2",{className:C.detailTitle},$.title||"Untitled"),a.createElement("div",{className:"flex space-x-3"},$.userId!==(r==null?void 0:r.id)&&!s.has($.id)&&a.createElement("button",{onClick:()=>_($.id),className:C.followButton},"Follow"),s.has($.id)&&a.createElement("span",{className:C.followingText},"Following"))),a.createElement("div",{className:C.authorContainer},a.createElement("svg",{className:C.authorIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})),a.createElement("span",null,"Created by @",k?"Loading...":c[$.userId]||"Unknown")),a.createElement("div",{className:"mb-4"},a.createElement("h3",{className:C.sectionTitle},"About This Plan"),a.createElement("p",{className:"text-gray-600 leading-relaxed"},$.description||"No description provided for this learning plan.")),a.createElement("div",{className:C.divider}),$.resources&&Array.isArray($.resources)&&$.resources.length>0&&a.createElement("div",{className:"mb-6"},a.createElement("h3",{className:C.sectionTitle},"Learning Resources"),a.createElement("ul",{className:C.resourceList},$.resources.map((P,I)=>a.createElement("li",{key:I,className:C.resourceItem},P.url?a.createElement("svg",{className:C.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})):P.type==="Course"?a.createElement("svg",{className:C.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})):a.createElement("svg",{className:C.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})),P.url?a.createElement("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline"},P.title||"Untitled Resource"):a.createElement("span",null,P.title||"Untitled Resource"))))))):h?a.createElement("div",{className:"flex justify-center items-center py-12"},a.createElement("div",{className:C.loadingPlanSpinner})):o.length===0?a.createElement("div",{className:C.emptyContainer},a.createElement("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),a.createElement("p",{className:C.emptyText},"No learning plans found.")):a.createElement("div",null,a.createElement("div",{className:C.headerContainer},a.createElement("h1",{className:C.headerTitle},"All Learning Plans")),a.createElement("div",{className:C.planCardContainer},o.map(P=>a.createElement("div",{key:P.id,className:C.planCard},a.createElement("div",{className:C.planCardHeader},a.createElement("h2",{className:C.planTitle,onClick:()=>d(P)},P.title||"Untitled Plan"),a.createElement("div",{className:C.actionsContainer},P.userId!==(r==null?void 0:r.id)&&!s.has(P.id)&&a.createElement("button",{onClick:()=>_(P.id),className:C.followButton},"Follow"),s.has(P.id)&&a.createElement("span",{className:C.followingText},"Following"))),a.createElement("p",{className:C.description},P.description||"No description provided for this learning plan."),a.createElement("div",{className:C.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))),Array.isArray(P.weeks)&&P.weeks.length>0&&a.createElement("div",{className:"mb-4"},a.createElement("div",{className:C.progressBar},a.createElement("div",{className:C.progressFill,style:{width:`${T(P.weeks)}%`}})),a.createElement("div",{className:"flex justify-between mt-1 text-xs text-gray-500"},a.createElement("span",null,"Progress: ",T(P.weeks),"%"),a.createElement("span",null,P.weeks.length," ",P.weeks.length===1?"week":"weeks"))),a.createElement("div",{className:C.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),a.createElement("span",null,Array.isArray(P.weeks)&&P.weeks.length>0?`${P.weeks.length} ${P.weeks.length===1?"week":"weeks"} duration`:"No timeline set"))))))))},zv=()=>{const e=$e(),{addToast:t}=De(),[r,n]=w.useState(null),[o,l]=w.useState([]),[s,i]=w.useState({}),[c,u]=w.useState(!0),[p,f]=w.useState(!1),[h,E]=w.useState(!1),[k,S]=w.useState(null);w.useEffect(()=>{const C=localStorage.getItem("token");if(!C){e("/auth");return}let P=!0;return(async()=>{try{const M=await fetch(`${z}/users/profile`,{headers:{Authorization:`Bearer ${C}`}});if(!M.ok){if(M.status===401){localStorage.removeItem("token"),e("/auth");return}throw new Error("Failed to fetch user")}const F=await M.json();P&&n(F)}catch(M){P&&(console.error("Error fetching user:",M),t("Failed to load user data. Please try again.","error"))}})(),()=>{P=!1}},[e,t]),w.useEffect(()=>{if(!(r!=null&&r.id))return;let C=!0;return(async()=>{f(!0);try{const I=localStorage.getItem("token"),M=await fetch(`${z}/learning-plan/user/${r.id}`,{headers:{Authorization:`Bearer ${I}`}});if(!M.ok)throw new Error(`Failed to fetch learning plans: ${M.status}`);const F=await M.json();if(C){const b=F.filter(m=>m.sourcePlanId);l(b)}}catch(I){C&&(console.error("Error fetching followed plans:",I),t("Failed to load followed plans. Please try again.","error"),l([]))}finally{C&&(f(!1),u(!1))}})(),()=>{C=!1}},[r==null?void 0:r.id,t,e]),w.useEffect(()=>{if(o.length===0)return;let C=!0;return(async()=>{E(!0);try{const I=localStorage.getItem("token"),M=[...new Set(o.map(b=>b.sourcePlanId).filter(Boolean))],F={};await Promise.all(M.map(async b=>{try{const m=await fetch(`${z}/learning-plan/${b}`,{headers:{Authorization:`Bearer ${I}`}});if(!m.ok){if(m.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}console.warn(`Failed to fetch plan ${b}: ${m.status}`),F[b]="Unknown";return}const N=(await m.json()).userId,U=await fetch(`${z}/users/by-id/${N}`,{headers:{Authorization:`Bearer ${I}`}});if(!U.ok){if(U.status===401){localStorage.removeItem("token"),t("Session expired. Please log in again.","error"),e("/auth");return}console.warn(`Failed to fetch user ${N}: ${U.status}`),F[b]="Unknown";return}const W=await U.json();F[b]=W.username||"Unknown"}catch(m){console.error(`Error fetching user for plan ${b}:`,m),F[b]="Unknown"}})),C&&i(F)}catch(I){C&&(console.error("Error fetching usernames:",I),t("Failed to load usernames.","error"))}finally{C&&E(!1)}})(),()=>{C=!1}},[o,t,e]);const $=async C=>{if(window.confirm("Are you sure you want to unfollow this learning plan?"))try{const P=localStorage.getItem("token");if(!(await fetch(`${z}/learning-plan/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${P}`}})).ok)throw new Error("Failed to delete learning plan");l(o.filter(M=>M.id!==C)),S(null),t("Learning plan unfollowed successfully!","success")}catch(P){console.error("Error deleting learning plan:",P),t("Failed to unfollow learning plan. Please try again.","error")}},g=C=>{S(C)},d=()=>{S(null)},y=C=>{if(!Array.isArray(C)||C.length===0)return 0;const P=C.filter(I=>I.status==="Completed").length;return Math.round(P/C.length*100)},_=async(C,P,I)=>{const M=I==="Completed"?"Not Started":"Completed",F=o.map(b=>{if(b.id===C){const m=b.weeks.map((v,N)=>N===P?{...v,status:M}:v);return{...b,weeks:m}}return b});if(l(F),k&&k.id===C){const b={...k,weeks:F.find(m=>m.id===C).weeks};S(b)}try{const b=localStorage.getItem("token"),m=F.find(N=>N.id===C);if(!(await fetch(`${z}/learning-plan/${C}`,{method:"PUT",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw new Error("Failed to update week status")}catch(b){console.error("Error updating week status:",b),t("Failed to update week status. Please try again.","error");const m=o.map(v=>{if(v.id===C){const N=v.weeks.map((U,W)=>W===P?{...U,status:I}:U);return{...v,weeks:N}}return v});l(m),k&&k.id===C&&S({...k,weeks:m.find(v=>v.id===C).weeks})}},T={container:"min-h-screen bg-gradient-to-b from-blue-50 to-white",wrapper:"max-w-5xl mx-auto pt-8 pb-12 px-4 sm:px-6 lg:px-8",loadingContainer:"flex justify-center items-center min-h-screen",loadingSpinner:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600",loadingPlanSpinner:"animate-spin rounded-full h-8 w-8 border-t-3 border-b-3 border-indigo-600",emptyContainer:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-100",emptyText:"text-gray-500 font-medium",headerContainer:"flex justify-between items-center mb-8",headerTitle:"text-2xl font-bold text-gray-800",planCardContainer:"grid gap-6 md:grid-cols-2",planCard:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",planCardHeader:"flex justify-between items-center mb-4",planTitle:"text-xl font-semibold text-gray-800 cursor-pointer hover:text-indigo-600 transition-colors duration-200",actionsContainer:"flex space-x-3",deleteButton:"text-red-500 hover:text-red-700 font-medium text-sm transition-colors duration-200",description:"text-gray-600 mb-4 line-clamp-2",metaInfo:"text-gray-500 text-sm flex items-center gap-2",breadcrumbs:"flex space-x-6 items-center mb-6",breadcrumbLink:"text-gray-600 hover:text-indigo-600 font-medium text-sm transition-colors duration-200 flex items-center gap-1",detailCard:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 mb-6",detailTitle:"text-2xl font-bold text-gray-800 mb-3",authorContainer:"flex items-center mb-5 text-gray-600",authorIcon:"w-5 h-5 mr-2 text-gray-500",sectionTitle:"text-lg font-semibold text-gray-800 mb-3",divider:"border-t border-gray-100 my-6",resourceList:"space-y-3 mb-6",resourceItem:"flex items-center text-gray-600 hover:text-indigo-600 transition-colors duration-200",resourceIcon:"w-5 h-5 mr-3 text-gray-500",progressBar:"w-full bg-gray-200 rounded-full h-2.5 mb-4",progressFill:"bg-green-500 h-2.5 rounded-full",weekItem:"flex items-start p-4 border-l-4 border-transparent hover:bg-gray-50 transition-colors duration-200 rounded-r-lg",weekItemCompleted:"flex items-start p-4 border-l-4 border-green-500 bg-green-50 hover:bg-green-50 transition-colors duration-200 rounded-r-lg",checkbox:"mr-3 mt-1 h-5 w-5 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 transition-colors duration-200",weekTitle:"font-medium text-gray-700 mb-1",weekDescription:"text-gray-600 text-sm"};return c?a.createElement("div",{className:T.loadingContainer},a.createElement("div",{className:T.loadingSpinner})):a.createElement("div",{className:T.container},a.createElement("div",{className:T.wrapper},k?a.createElement("div",null,a.createElement("div",{className:T.breadcrumbs},a.createElement("button",{onClick:d,className:T.breadcrumbLink},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back to Followed Plans")),a.createElement("div",{className:T.detailCard},a.createElement("div",{className:"flex justify-between"},a.createElement("h2",{className:T.detailTitle},k.title||"Untitled"),a.createElement("div",{className:"flex space-x-3"},a.createElement("button",{onClick:()=>$(k.id),className:T.deleteButton},"Unfollow"))),a.createElement("div",{className:T.authorContainer},a.createElement("svg",{className:T.authorIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})),a.createElement("span",null,"Followed by ",(r==null?void 0:r.name)||"User"," (Created by @",h?"Loading...":s[k.sourcePlanId]||"Unknown",")")),a.createElement("div",{className:"mb-4"},a.createElement("h3",{className:T.sectionTitle},"About This Plan"),a.createElement("p",{className:"text-gray-600 leading-relaxed"},k.description||"No description provided for this learning plan.")),a.createElement("div",{className:T.divider}),k.resources&&Array.isArray(k.resources)&&k.resources.length>0&&a.createElement("div",{className:"mb-6"},a.createElement("h3",{className:T.sectionTitle},"Learning Resources"),a.createElement("ul",{className:T.resourceList},k.resources.map((C,P)=>a.createElement("li",{key:P,className:T.resourceItem},C.url?a.createElement("svg",{className:T.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})):C.type==="Course"?a.createElement("svg",{className:T.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})):a.createElement("svg",{className:T.resourceIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})),C.url?a.createElement("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline"},C.title||"Untitled Resource"):a.createElement("span",null,C.title||"Untitled Resource"))))),k.weeks&&Array.isArray(k.weeks)&&k.weeks.length>0&&a.createElement("div",null,a.createElement("div",{className:T.divider}),a.createElement("div",{className:"flex justify-between items-center mb-4"},a.createElement("h3",{className:T.sectionTitle},"Weekly Plan"),a.createElement("span",{className:"text-gray-600 font-medium"},"Progress: ",y(k.weeks),"%")),a.createElement("div",{className:T.progressBar},a.createElement("div",{className:T.progressFill,style:{width:`${y(k.weeks)}%`}})),a.createElement("div",{className:"mt-6 space-y-2"},k.weeks.map((C,P)=>a.createElement("div",{key:P,className:C.status==="Completed"?T.weekItemCompleted:T.weekItem},a.createElement("input",{type:"checkbox",checked:C.status==="Completed",onChange:()=>_(k.id,P,C.status),className:T.checkbox}),a.createElement("div",null,a.createElement("h4",{className:T.weekTitle},C.title||`Week ${P+1}`),a.createElement("p",{className:T.weekDescription},C.description||"No description provided for this week.")))))))):p?a.createElement("div",{className:"flex justify-center items-center py-12"},a.createElement("div",{className:T.loadingPlanSpinner})):o.length===0?a.createElement("div",{className:T.emptyContainer},a.createElement("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),a.createElement("p",{className:T.emptyText},"No followed learning plans found."),a.createElement("button",{onClick:()=>e("/learning-plans/all"),className:"mt-4 px-5 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition-colors duration-200 font-medium"},"Discover Plans to Follow")):a.createElement("div",null,a.createElement("div",{className:T.headerContainer},a.createElement("h1",{className:T.headerTitle},"Followed Learning Plans")),a.createElement("div",{className:T.planCardContainer},o.map(C=>a.createElement("div",{key:C.id,className:T.planCard},a.createElement("div",{className:T.planCardHeader},a.createElement("h2",{className:T.planTitle,onClick:()=>g(C)},C.title||"Untitled Plan"),a.createElement("div",{className:T.actionsContainer},a.createElement("button",{onClick:()=>$(C.id),className:T.deleteButton},"Unfollow"))),a.createElement("p",{className:T.description},C.description||"No description provided for this learning plan."),a.createElement("div",{className:T.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})),a.createElement("span",null,"by @",h?"Loading...":s[C.sourcePlanId]||"Unknown")),Array.isArray(C.weeks)&&C.weeks.length>0&&a.createElement("div",{className:"mb-4"},a.createElement("div",{className:T.progressBar},a.createElement("div",{className:T.progressFill,style:{width:`${y(C.weeks)}%`}})),a.createElement("div",{className:"flex justify-between mt-1 text-xs text-gray-500"},a.createElement("span",null,"Progress: ",y(C.weeks),"%"),a.createElement("span",null,C.weeks.length," ",C.weeks.length===1?"week":"weeks"))),a.createElement("div",{className:T.metaInfo},a.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),a.createElement("span",null,Array.isArray(C.weeks)&&C.weeks.length>0?`${C.weeks.length} ${C.weeks.length===1?"week":"weeks"} duration`:"No timeline set"))))))))};function Wv(){return a.createElement(Lg,null,a.createElement(Ig,null,a.createElement(Tg,null,a.createElement(Oe,{path:"/auth",element:a.createElement(Rg,null)}),a.createElement(Oe,{path:"/dashboard",element:a.createElement(jv,null)}),a.createElement(Oe,{path:"/profile",element:a.createElement(eu,null)})," ",a.createElement(Oe,{path:"/profile/:userId",element:a.createElement(eu,null)})," ",a.createElement(Oe,{path:"/messages",element:a.createElement(tu,null)}),a.createElement(Oe,{path:"/messages/:userId",element:a.createElement(tu,null)}),a.createElement(Oe,{path:"/post/:postId",element:a.createElement(Fv,null)}),a.createElement(Oe,{path:"/",element:a.createElement(_g,{to:"/auth",replace:!0})}),a.createElement(Oe,{path:"/learning-plans/my-plans",element:a.createElement(Ov,null)}),a.createElement(Oe,{path:"/learning-plans/create",element:a.createElement(Mv,null)}),a.createElement(Oe,{path:"/learning-plans/edit/:id",element:a.createElement(Bv,null)}),a.createElement(Oe,{path:"/learning-plans",element:a.createElement(Uv,null)}),a.createElement(Oe,{path:"/learning-plans/followed",element:a.createElement(zv,null)}))))}rl.createRoot(document.getElementById("root")).render(a.createElement(a.StrictMode,null,a.createElement(Wv,null)));
